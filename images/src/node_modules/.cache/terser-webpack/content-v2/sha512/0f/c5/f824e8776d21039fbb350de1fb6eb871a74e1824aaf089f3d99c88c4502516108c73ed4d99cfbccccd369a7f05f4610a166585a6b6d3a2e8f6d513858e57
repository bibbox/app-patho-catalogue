{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4,34],{\"0TMo\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return DsoPageSingleFeatureGuard}));var _dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"HENg\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"lJxs\");class DsoPageSingleFeatureGuard extends _dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__.a{getFeatureIDs(route,state){return this.getFeatureID(route,state).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((featureID=>[featureID])))}}},\"5FsK\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return item_metadata_component_ItemMetadataComponent}));var lodash=__webpack_require__(\"LvDl\"),first=__webpack_require__(\"SxV6\"),switchMap=__webpack_require__(\"eIep\"),operators=__webpack_require__(\"1QIV\"),metadata_models=__webpack_require__(\"cBt8\"),abstract_item_update_component=__webpack_require__(\"d/jG\"),empty_util=__webpack_require__(\"J3qs\"),aletr_type=__webpack_require__(\"ac5F\"),object_updates_actions=__webpack_require__(\"X8f1\");class MetadataPatchOperation{constructor(op,field){this.op=op,this.field=field}}let metadata_patch_add_operation_model_MetadataPatchAddOperation=(()=>{class MetadataPatchAddOperation extends MetadataPatchOperation{constructor(field,value){super(MetadataPatchAddOperation.operationType,field),this.value=value}toOperation(){return{op:this.op,path:`/metadata/${this.field}/-`,value:this.value}}}return MetadataPatchAddOperation.operationType=\"add\",MetadataPatchAddOperation})(),metadata_patch_remove_operation_model_MetadataPatchRemoveOperation=(()=>{class MetadataPatchRemoveOperation extends MetadataPatchOperation{constructor(field,place){super(MetadataPatchRemoveOperation.operationType,field),this.place=place}toOperation(){return{op:this.op,path:`/metadata/${this.field}/${this.place}`}}}return MetadataPatchRemoveOperation.operationType=\"remove\",MetadataPatchRemoveOperation})(),metadata_patch_replace_operation_model_MetadataPatchReplaceOperation=(()=>{class MetadataPatchReplaceOperation extends MetadataPatchOperation{constructor(field,place,value){super(MetadataPatchReplaceOperation.operationType,field),this.place=place,this.value=value}toOperation(){return{op:this.op,path:`/metadata/${this.field}/${this.place}`,value:this.value}}}return MetadataPatchReplaceOperation.operationType=\"replace\",MetadataPatchReplaceOperation})();var core=__webpack_require__(\"8Y7J\");let metadata_patch_operation_service_MetadataPatchOperationService=(()=>{class MetadataPatchOperationService{fieldUpdatesToPatchOperations(fieldUpdates){const metadataPatch=this.fieldUpdatesToMetadataPatchOperations(fieldUpdates),metadataRemoveMap=new Map,patch=[];return metadataPatch.forEach((operation=>{operation.op!==metadata_patch_remove_operation_model_MetadataPatchRemoveOperation.operationType&&operation.op!==metadata_patch_replace_operation_model_MetadataPatchReplaceOperation.operationType||!Object(empty_util.b)(operation.place)||metadataRemoveMap.has(operation.field)&&metadataRemoveMap.get(operation.field).forEach((index=>{index<operation.place&&operation.place--})),operation.op===metadata_patch_remove_operation_model_MetadataPatchRemoveOperation.operationType&&Object(empty_util.b)(operation.place)&&(metadataRemoveMap.has(operation.field)||metadataRemoveMap.set(operation.field,[]),metadataRemoveMap.get(operation.field).push(operation.place)),patch.push(operation.toOperation())})),patch}fieldUpdatesToMetadataPatchOperations(fieldUpdates){const metadataPatch=[];return Object.keys(fieldUpdates).forEach((uuid=>{const update=fieldUpdates[uuid],metadatum=update.field,val={value:metadatum.value,language:metadatum.language};let operation;switch(update.changeType){case object_updates_actions.c.ADD:operation=new metadata_patch_add_operation_model_MetadataPatchAddOperation(metadatum.key,[val]);break;case object_updates_actions.c.REMOVE:operation=new metadata_patch_remove_operation_model_MetadataPatchRemoveOperation(metadatum.key,metadatum.place);break;case object_updates_actions.c.UPDATE:operation=new metadata_patch_replace_operation_model_MetadataPatchReplaceOperation(metadatum.key,metadatum.place,val)}metadataPatch.push(operation)})),metadataPatch}}return MetadataPatchOperationService.ɵfac=function(t){return new(t||MetadataPatchOperationService)},MetadataPatchOperationService.ɵprov=core[\"ɵɵdefineInjectable\"]({token:MetadataPatchOperationService,factory:MetadataPatchOperationService.ɵfac,providedIn:\"root\"}),MetadataPatchOperationService})();var item_data_service=__webpack_require__(\"iqTE\"),object_updates_service=__webpack_require__(\"loKC\"),fesm2015_router=__webpack_require__(\"iInd\"),notifications_service=__webpack_require__(\"lI3o\"),ngx_translate_core=__webpack_require__(\"TSSN\"),common=__webpack_require__(\"SVse\"),BehaviorSubject=__webpack_require__(\"2Vo4\"),of=__webpack_require__(\"LRne\"),map=__webpack_require__(\"lJxs\"),follow_link_config_model=__webpack_require__(\"84Zn\"),registry_service=__webpack_require__(\"Y6Ni\"),validation_suggestions_component=__webpack_require__(\"8pnQ\"),auto_focus_directive=__webpack_require__(\"aojn\"),fesm2015_forms=__webpack_require__(\"s7LF\"),click_outside_directive=__webpack_require__(\"awfb\"),debounce_directive=__webpack_require__(\"jOLk\");const _c0=[\"ds-edit-in-place-field\",\"\"];function EditInPlaceFieldComponent_div_4_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵelementStart\"](2,\"span\"),core[\"ɵɵtext\"](3),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](4,\"\\n        \"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r0=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](null==ctx_r0.metadata||null==ctx_r0.metadata.key?null:ctx_r0.metadata.key.split(\".\").join(\".​\"))}}const _c1=function(){return{standalone:!0}};function EditInPlaceFieldComponent_div_7_Template(rf,ctx){if(1&rf){const _r11=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",15),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵelementStart\"](2,\"ds-validation-suggestions\",16,17),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return core[\"ɵɵrestoreView\"](_r11),core[\"ɵɵnextContext\"]().metadata.key=$event}))(\"submitSuggestion\",(function(){core[\"ɵɵrestoreView\"](_r11);const _r9=core[\"ɵɵreference\"](3);return core[\"ɵɵnextContext\"]().update(_r9)}))(\"clickSuggestion\",(function(){core[\"ɵɵrestoreView\"](_r11);const _r9=core[\"ɵɵreference\"](3);return core[\"ɵɵnextContext\"]().update(_r9)}))(\"typeSuggestion\",(function(){core[\"ɵɵrestoreView\"](_r11);const _r9=core[\"ɵɵreference\"](3);return core[\"ɵɵnextContext\"]().update(_r9)}))(\"dsClickOutside\",(function(){core[\"ɵɵrestoreView\"](_r11);const _r9=core[\"ɵɵreference\"](3);return core[\"ɵɵnextContext\"]().checkValidity(_r9)}))(\"findSuggestions\",(function($event){return core[\"ɵɵrestoreView\"](_r11),core[\"ɵɵnextContext\"]().findMetadataFieldSuggestions($event)})),core[\"ɵɵpipe\"](4,\"async\"),core[\"ɵɵpipe\"](5,\"async\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n        \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r1=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"suggestions\",core[\"ɵɵpipeBind1\"](4,6,ctx_r1.metadataFieldSuggestions))(\"ngModel\",ctx_r1.metadata.key)(\"url\",ctx_r1.url)(\"metadata\",ctx_r1.metadata)(\"valid\",!1!==core[\"ɵɵpipeBind1\"](5,8,ctx_r1.valid))(\"ngModelOptions\",core[\"ɵɵpureFunction0\"](10,_c1))}}function EditInPlaceFieldComponent_small_10_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"small\",18),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,\"item.edit.metadata.metadatafield.invalid\")))}function EditInPlaceFieldComponent_div_19_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵelementStart\"](2,\"span\"),core[\"ɵɵtext\"](3),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](4,\"\\n        \"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r3=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](null==ctx_r3.metadata?null:ctx_r3.metadata.value)}}function EditInPlaceFieldComponent_div_22_Template(rf,ctx){if(1&rf){const _r18=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",15),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵelementStart\"](2,\"textarea\",19),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return core[\"ɵɵrestoreView\"](_r18),core[\"ɵɵnextContext\"]().metadata.value=$event}))(\"onDebounce\",(function(){return core[\"ɵɵrestoreView\"](_r18),core[\"ɵɵnextContext\"]().update()})),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r4=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngModel\",ctx_r4.metadata.value)}}function EditInPlaceFieldComponent_div_31_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵelementStart\"](2,\"span\"),core[\"ɵɵtext\"](3),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](4,\"\\n        \"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r5=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](null==ctx_r5.metadata?null:ctx_r5.metadata.language)}}function EditInPlaceFieldComponent_div_34_Template(rf,ctx){if(1&rf){const _r21=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",15),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵelementStart\"](2,\"input\",20),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return core[\"ɵɵrestoreView\"](_r21),core[\"ɵɵnextContext\"]().metadata.language=$event}))(\"onDebounce\",(function(){return core[\"ɵɵrestoreView\"](_r21),core[\"ɵɵnextContext\"]().update()})),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r6=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngModel\",ctx_r6.metadata.language)}}function EditInPlaceFieldComponent_button_43_Template(rf,ctx){if(1&rf){const _r24=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",21),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r24),core[\"ɵɵnextContext\"]().setEditable(!0)})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵtext\"](3,\"\\n            \"),core[\"ɵɵelement\"](4,\"i\",22),core[\"ɵɵtext\"](5,\"\\n        \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r7=core[\"ɵɵnextContext\"]();core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](2,4,\"item.edit.metadata.edit.buttons.edit\")),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](1,2,ctx_r7.canSetEditable()))}}function EditInPlaceFieldComponent_button_46_Template(rf,ctx){if(1&rf){const _r26=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",23),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r26),core[\"ɵɵnextContext\"]().setEditable(!1)})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵpipe\"](2,\"async\"),core[\"ɵɵpipe\"](3,\"translate\"),core[\"ɵɵtext\"](4,\"\\n            \"),core[\"ɵɵelement\"](5,\"i\",24),core[\"ɵɵtext\"](6,\"\\n        \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r8=core[\"ɵɵnextContext\"]();core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](3,6,\"item.edit.metadata.edit.buttons.unedit\")),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](1,2,ctx_r8.canSetUneditable())||!1===core[\"ɵɵpipeBind1\"](2,4,ctx_r8.valid))}}let edit_in_place_field_component_EditInPlaceFieldComponent=(()=>{class EditInPlaceFieldComponent{constructor(registryService,objectUpdatesService){this.registryService=registryService,this.objectUpdatesService=objectUpdatesService,this.metadataFieldSuggestions=new BehaviorSubject.a([])}ngOnInit(){this.editable=this.objectUpdatesService.isEditable(this.url,this.metadata.uuid),this.valid=this.objectUpdatesService.isValid(this.url,this.metadata.uuid)}update(ngModel){this.objectUpdatesService.saveChangeFieldUpdate(this.url,Object(lodash.cloneDeep)(this.metadata)),Object(empty_util.b)(ngModel)&&this.checkValidity(ngModel)}checkValidity(ngModel){ngModel.control.setValue(ngModel.viewModel),ngModel.control.updateValueAndValidity(),this.objectUpdatesService.setValidFieldUpdate(this.url,this.metadata.uuid,ngModel.control.valid)}setEditable(editable){this.objectUpdatesService.setEditableFieldUpdate(this.url,this.metadata.uuid,editable)}remove(){this.objectUpdatesService.saveRemoveFieldUpdate(this.url,Object(lodash.cloneDeep)(this.metadata))}removeChangesFromField(){this.objectUpdatesService.removeSingleFieldUpdate(this.url,this.metadata.uuid)}ngOnChanges(){this.metadata=Object(lodash.cloneDeep)(this.fieldUpdate.field)}findMetadataFieldSuggestions(query){if(Object(empty_util.e)(query))return this.registryService.queryMetadataFields(query,null,!0,!1,Object(follow_link_config_model.a)(\"schema\")).pipe(Object(operators.i)(),Object(operators.r)()).subscribe((fieldNames=>{this.setInputSuggestions(fieldNames)}));this.metadataFieldSuggestions.next([])}setInputSuggestions(fields){this.metadataFieldSuggestions.next(fields.map((fieldName=>({displayValue:fieldName.split(\".\").join(\".&#8203;\"),value:fieldName}))))}canSetEditable(){return this.editable.pipe(Object(map.a)((editable=>!editable&&this.fieldUpdate.changeType!==object_updates_actions.c.REMOVE)))}canSetUneditable(){return this.editable}canRemove(){return Object(of.a)(this.fieldUpdate.changeType!==object_updates_actions.c.REMOVE&&this.fieldUpdate.changeType!==object_updates_actions.c.ADD)}canUndo(){return this.editable.pipe(Object(map.a)((editable=>this.fieldUpdate.changeType>=0||editable)))}isNotEmpty(value){return Object(empty_util.e)(value)}}return EditInPlaceFieldComponent.ɵfac=function(t){return new(t||EditInPlaceFieldComponent)(core[\"ɵɵdirectiveInject\"](registry_service.a),core[\"ɵɵdirectiveInject\"](object_updates_service.a))},EditInPlaceFieldComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:EditInPlaceFieldComponent,selectors:[[\"\",\"ds-edit-in-place-field\",\"\"]],inputs:{fieldUpdate:\"fieldUpdate\",url:\"url\",metadata:\"metadata\"},features:[core[\"ɵɵNgOnChangesFeature\"]],attrs:_c0,decls:65,vars:39,consts:[[1,\"metadata-field\"],[4,\"ngIf\"],[\"class\",\"field-container\",4,\"ngIf\"],[\"class\",\"text-danger\",4,\"ngIf\"],[1,\"w-100\"],[1,\"value-field\"],[1,\"text-center\"],[1,\"language-field\"],[1,\"btn-group\",\"edit-field\"],[\"class\",\"btn btn-outline-primary btn-sm\",3,\"disabled\",\"title\",\"click\",4,\"ngIf\"],[\"class\",\"btn btn-outline-success btn-sm\",3,\"disabled\",\"title\",\"click\",4,\"ngIf\"],[1,\"btn\",\"btn-outline-danger\",\"btn-sm\",3,\"disabled\",\"title\",\"click\"],[1,\"fas\",\"fa-trash-alt\",\"fa-fw\"],[1,\"btn\",\"btn-outline-warning\",\"btn-sm\",3,\"disabled\",\"title\",\"click\"],[1,\"fas\",\"fa-undo-alt\",\"fa-fw\"],[1,\"field-container\"],[\"dsAutoFocus\",\"\",\"autoFocusSelector\",\".suggestion_input\",3,\"suggestions\",\"ngModel\",\"url\",\"metadata\",\"valid\",\"ngModelOptions\",\"ngModelChange\",\"submitSuggestion\",\"clickSuggestion\",\"typeSuggestion\",\"dsClickOutside\",\"findSuggestions\"],[\"suggestionControl\",\"ngModel\"],[1,\"text-danger\"],[\"type\",\"textarea\",1,\"form-control\",3,\"ngModel\",\"dsDebounce\",\"ngModelChange\",\"onDebounce\"],[\"type\",\"text\",1,\"form-control\",3,\"ngModel\",\"dsDebounce\",\"ngModelChange\",\"onDebounce\"],[1,\"btn\",\"btn-outline-primary\",\"btn-sm\",3,\"disabled\",\"title\",\"click\"],[1,\"fas\",\"fa-edit\",\"fa-fw\"],[1,\"btn\",\"btn-outline-success\",\"btn-sm\",3,\"disabled\",\"title\",\"click\"],[1,\"fas\",\"fa-check\",\"fa-fw\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"td\"),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",0),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵtemplate\"](4,EditInPlaceFieldComponent_div_4_Template,5,1,\"div\",1),core[\"ɵɵpipe\"](5,\"async\"),core[\"ɵɵtext\"](6,\"\\n        \"),core[\"ɵɵtemplate\"](7,EditInPlaceFieldComponent_div_7_Template,7,11,\"div\",2),core[\"ɵɵpipe\"](8,\"async\"),core[\"ɵɵtext\"](9,\"\\n        \"),core[\"ɵɵtemplate\"](10,EditInPlaceFieldComponent_small_10_Template,3,3,\"small\",3),core[\"ɵɵpipe\"](11,\"async\"),core[\"ɵɵtext\"](12,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](14,\"\\n\"),core[\"ɵɵelementStart\"](15,\"td\",4),core[\"ɵɵtext\"](16,\"\\n    \"),core[\"ɵɵelementStart\"](17,\"div\",5),core[\"ɵɵtext\"](18,\"\\n        \"),core[\"ɵɵtemplate\"](19,EditInPlaceFieldComponent_div_19_Template,5,1,\"div\",1),core[\"ɵɵpipe\"](20,\"async\"),core[\"ɵɵtext\"](21,\"\\n        \"),core[\"ɵɵtemplate\"](22,EditInPlaceFieldComponent_div_22_Template,4,1,\"div\",2),core[\"ɵɵpipe\"](23,\"async\"),core[\"ɵɵtext\"](24,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\"),core[\"ɵɵelementStart\"](27,\"td\",6),core[\"ɵɵtext\"](28,\"\\n    \"),core[\"ɵɵelementStart\"](29,\"div\",7),core[\"ɵɵtext\"](30,\"\\n        \"),core[\"ɵɵtemplate\"](31,EditInPlaceFieldComponent_div_31_Template,5,1,\"div\",1),core[\"ɵɵpipe\"](32,\"async\"),core[\"ɵɵtext\"](33,\"\\n        \"),core[\"ɵɵtemplate\"](34,EditInPlaceFieldComponent_div_34_Template,4,1,\"div\",2),core[\"ɵɵpipe\"](35,\"async\"),core[\"ɵɵtext\"](36,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](37,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](38,\"\\n\"),core[\"ɵɵelementStart\"](39,\"td\",6),core[\"ɵɵtext\"](40,\"\\n    \"),core[\"ɵɵelementStart\"](41,\"div\",8),core[\"ɵɵtext\"](42,\"\\n        \"),core[\"ɵɵtemplate\"](43,EditInPlaceFieldComponent_button_43_Template,6,6,\"button\",9),core[\"ɵɵpipe\"](44,\"async\"),core[\"ɵɵtext\"](45,\"\\n        \"),core[\"ɵɵtemplate\"](46,EditInPlaceFieldComponent_button_46_Template,7,8,\"button\",10),core[\"ɵɵpipe\"](47,\"async\"),core[\"ɵɵtext\"](48,\"\\n        \"),core[\"ɵɵelementStart\"](49,\"button\",11),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.remove()})),core[\"ɵɵpipe\"](50,\"async\"),core[\"ɵɵpipe\"](51,\"translate\"),core[\"ɵɵtext\"](52,\"\\n            \"),core[\"ɵɵelement\"](53,\"i\",12),core[\"ɵɵtext\"](54,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](55,\"\\n        \"),core[\"ɵɵelementStart\"](56,\"button\",13),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.removeChangesFromField()})),core[\"ɵɵpipe\"](57,\"async\"),core[\"ɵɵpipe\"](58,\"translate\"),core[\"ɵɵtext\"](59,\"\\n            \"),core[\"ɵɵelement\"](60,\"i\",14),core[\"ɵɵtext\"](61,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](62,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](63,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](64,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](5,13,ctx.editable)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](8,15,ctx.editable)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",!1===core[\"ɵɵpipeBind1\"](11,17,ctx.valid)),core[\"ɵɵadvance\"](9),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](20,19,ctx.editable)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](23,21,ctx.editable)),core[\"ɵɵadvance\"](9),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](32,23,ctx.editable)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](35,25,ctx.editable)),core[\"ɵɵadvance\"](9),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](44,27,ctx.editable)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](47,29,ctx.editable)),core[\"ɵɵadvance\"](3),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](51,33,\"item.edit.metadata.edit.buttons.remove\")),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](50,31,ctx.canRemove())),core[\"ɵɵadvance\"](7),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](58,37,\"item.edit.metadata.edit.buttons.undo\")),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](57,35,ctx.canUndo())))},directives:[common.u,validation_suggestions_component.a,auto_focus_directive.a,fesm2015_forms.NgControlStatus,fesm2015_forms.NgModel,click_outside_directive.a,fesm2015_forms.DefaultValueAccessor,debounce_directive.a],pipes:[common.b,ngx_translate_core.e],styles:[\".btn[disabled][_ngcontent-%COMP%]{color:var(--bs-gray-600);border-color:var(--bs-gray-600);z-index:0}.metadata-field[_ngcontent-%COMP%]{width:var(--ds-edit-item-metadata-field-width)}.language-field[_ngcontent-%COMP%]{width:var(--ds-edit-item-language-field-width)}\"]}),EditInPlaceFieldComponent})();var alert_component=__webpack_require__(\"VYMa\"),object_values_pipe=__webpack_require__(\"snSO\");function ItemMetadataComponent_button_12_Template(rf,ctx){if(1&rf){const _r7=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",14),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r7),core[\"ɵɵnextContext\"]().reinstate()})),core[\"ɵɵelement\"](1,\"i\",15),core[\"ɵɵtext\"](2,\"\\n            \"),core[\"ɵɵelementStart\"](3,\"span\",4),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n        \"),core[\"ɵɵelementEnd\"]()}2&rf&&(core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](5,1,\"item.edit.metadata.reinstate-button\"),\"\"))}function ItemMetadataComponent_button_25_Template(rf,ctx){if(1&rf){const _r9=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",16),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r9),core[\"ɵɵnextContext\"]().discard()})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵelement\"](2,\"i\",17),core[\"ɵɵtext\"](3,\"\\n            \"),core[\"ɵɵelementStart\"](4,\"span\",4),core[\"ɵɵtext\"](5),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](7,\"\\n        \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r1=core[\"ɵɵnextContext\"]();core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](1,2,ctx_r1.hasChanges())),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](6,4,\"item.edit.metadata.discard-button\"),\"\")}}const item_metadata_component_c0=function(){return{}},item_metadata_component_c1=function(a0,a1,a2){return{\"table-warning\":a0,\"table-danger\":a1,\"table-success\":a2}};function ItemMetadataComponent_table_29_tr_23_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"tr\",21),core[\"ɵɵtext\"](1,\"\\n\\n        \"),core[\"ɵɵelementEnd\"]()),2&rf){const updateValue_r11=ctx.$implicit,ctx_r10=core[\"ɵɵnextContext\"](2);core[\"ɵɵproperty\"](\"fieldUpdate\",updateValue_r11||core[\"ɵɵpureFunction0\"](3,item_metadata_component_c0))(\"url\",ctx_r10.url)(\"ngClass\",core[\"ɵɵpureFunction3\"](4,item_metadata_component_c1,0===updateValue_r11.changeType,2===updateValue_r11.changeType,1===updateValue_r11.changeType))}}function ItemMetadataComponent_table_29_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"table\",18),core[\"ɵɵtext\"](1,\"\\n        \"),core[\"ɵɵelementStart\"](2,\"tbody\"),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"tr\"),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementStart\"](6,\"th\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n            \"),core[\"ɵɵelementStart\"](10,\"th\"),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n            \"),core[\"ɵɵelementStart\"](14,\"th\",19),core[\"ɵɵtext\"](15),core[\"ɵɵpipe\"](16,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](17,\"\\n            \"),core[\"ɵɵelementStart\"](18,\"th\",19),core[\"ɵɵtext\"](19),core[\"ɵɵpipe\"](20,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](21,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](22,\"\\n        \"),core[\"ɵɵtemplate\"](23,ItemMetadataComponent_table_29_tr_23_Template,2,8,\"tr\",20),core[\"ɵɵpipe\"](24,\"dsObjectValues\"),core[\"ɵɵpipe\"](25,\"async\"),core[\"ɵɵtext\"](26,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](27,\"\\n    \"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r2=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](8,6,\"item.edit.metadata.headers.field\")),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,8,\"item.edit.metadata.headers.value\")),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](16,10,\"item.edit.metadata.headers.language\")),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](20,12,\"item.edit.metadata.headers.edit\")),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngForOf\",core[\"ɵɵpipeBind1\"](24,14,core[\"ɵɵpipeBind1\"](25,16,ctx_r2.updates$)))(\"ngForTrackBy\",ctx_r2.trackUpdate)}}function ItemMetadataComponent_div_33_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\"\\n      \"),core[\"ɵɵelement\"](2,\"ds-alert\",22),core[\"ɵɵtext\"](3,\"\\n    \"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r3=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"content\",\"item.edit.metadata.empty\")(\"type\",ctx_r3.AlertTypeEnum.Info)}}function ItemMetadataComponent_button_41_Template(rf,ctx){if(1&rf){const _r13=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",14),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r13),core[\"ɵɵnextContext\"]().reinstate()})),core[\"ɵɵelement\"](1,\"i\",15),core[\"ɵɵtext\"](2),core[\"ɵɵpipe\"](3,\"translate\"),core[\"ɵɵelementEnd\"]()}2&rf&&(core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](3,1,\"item.edit.metadata.reinstate-button\"),\"\\n              \"))}function ItemMetadataComponent_button_50_Template(rf,ctx){if(1&rf){const _r15=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",16),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r15),core[\"ɵɵnextContext\"]().discard()})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵelement\"](2,\"i\",17),core[\"ɵɵtext\"](3),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r5=core[\"ɵɵnextContext\"]();core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](1,2,ctx_r5.hasChanges())),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](4,4,\"item.edit.metadata.discard-button\"),\"\\n              \")}}let item_metadata_component_ItemMetadataComponent=(()=>{class ItemMetadataComponent extends abstract_item_update_component.a{constructor(itemService,objectUpdatesService,router,notificationsService,translateService,route){super(itemService,objectUpdatesService,router,notificationsService,translateService,route),this.itemService=itemService,this.objectUpdatesService=objectUpdatesService,this.router=router,this.notificationsService=notificationsService,this.translateService=translateService,this.route=route,this.AlertTypeEnum=aletr_type.a}ngOnInit(){super.ngOnInit(),Object(empty_util.a)(this.updateService)&&(this.updateService=this.itemService)}initializeUpdates(){this.updates$=this.objectUpdatesService.getFieldUpdates(this.url,this.item.metadataAsList)}initializeNotificationsPrefix(){this.notificationsPrefix=\"item.edit.metadata.notifications.\"}add(metadata=new metadata_models.d){this.objectUpdatesService.saveAddFieldUpdate(this.url,metadata)}initializeOriginalFields(){this.objectUpdatesService.initialize(this.url,this.item.metadataAsList,this.item.lastModified,metadata_patch_operation_service_MetadataPatchOperationService)}submit(){this.isValid().pipe(Object(first.a)()).subscribe((isValid=>{isValid?this.objectUpdatesService.createPatch(this.url).pipe(Object(first.a)(),Object(switchMap.a)((patch=>this.updateService.patch(this.item,patch).pipe(Object(operators.g)())))).subscribe((rd=>{rd.hasFailed?this.notificationsService.error(this.getNotificationTitle(\"error\"),rd.errorMessage):(this.item=rd.payload,this.checkAndFixMetadataUUIDs(),this.initializeOriginalFields(),this.updates$=this.objectUpdatesService.getFieldUpdates(this.url,this.item.metadataAsList),this.notificationsService.success(this.getNotificationTitle(\"saved\"),this.getNotificationContent(\"saved\")))})):this.notificationsService.error(this.getNotificationTitle(\"invalid\"),this.getNotificationContent(\"invalid\"))}))}checkAndFixMetadataUUIDs(){const metadata=Object(lodash.cloneDeep)(this.item.metadata);Object.keys(this.item.metadata).forEach((key=>{metadata[key]=this.item.metadata[key].map((value=>Object(empty_util.b)(value.uuid)?value:Object.assign(new metadata_models.c,value)))})),this.item.metadata=metadata}}return ItemMetadataComponent.ɵfac=function(t){return new(t||ItemMetadataComponent)(core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f),core[\"ɵɵdirectiveInject\"](fesm2015_router.a))},ItemMetadataComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemMetadataComponent,selectors:[[\"ds-item-metadata\"]],inputs:{updateService:\"updateService\"},features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:56,vars:39,consts:[[1,\"item-metadata\"],[1,\"button-row\",\"top\",\"d-flex\",\"mb-2\"],[1,\"mr-auto\",\"btn\",\"btn-success\",3,\"click\"],[1,\"fas\",\"fa-plus\"],[1,\"d-none\",\"d-sm-inline\"],[\"class\",\"btn btn-warning\",3,\"click\",4,\"ngIf\"],[1,\"btn\",\"btn-primary\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-save\"],[\"class\",\"btn btn-danger\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"class\",\"table table-responsive table-striped table-bordered\",4,\"ngIf\"],[4,\"ngIf\"],[1,\"button-row\",\"bottom\"],[1,\"mt-2\",\"float-right\"],[1,\"btn\",\"btn-primary\",\"mr-0\",3,\"disabled\",\"click\"],[1,\"btn\",\"btn-warning\",3,\"click\"],[1,\"fas\",\"fa-undo-alt\"],[1,\"btn\",\"btn-danger\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-times\"],[1,\"table\",\"table-responsive\",\"table-striped\",\"table-bordered\"],[1,\"text-center\"],[\"ds-edit-in-place-field\",\"\",3,\"fieldUpdate\",\"url\",\"ngClass\",4,\"ngFor\",\"ngForOf\",\"ngForTrackBy\"],[\"ds-edit-in-place-field\",\"\",3,\"fieldUpdate\",\"url\",\"ngClass\"],[3,\"content\",\"type\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"button\",2),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.add()})),core[\"ɵɵelement\"](5,\"i\",3),core[\"ɵɵtext\"](6,\"\\n            \"),core[\"ɵɵelementStart\"](7,\"span\",4),core[\"ɵɵtext\"](8),core[\"ɵɵpipe\"](9,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n        \"),core[\"ɵɵtemplate\"](12,ItemMetadataComponent_button_12_Template,7,3,\"button\",5),core[\"ɵɵpipe\"](13,\"async\"),core[\"ɵɵtext\"](14,\"\\n        \"),core[\"ɵɵelementStart\"](15,\"button\",6),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.submit()})),core[\"ɵɵpipe\"](16,\"async\"),core[\"ɵɵpipe\"](17,\"async\"),core[\"ɵɵelement\"](18,\"i\",7),core[\"ɵɵtext\"](19,\"\\n            \"),core[\"ɵɵelementStart\"](20,\"span\",4),core[\"ɵɵtext\"](21),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n        \"),core[\"ɵɵtemplate\"](25,ItemMetadataComponent_button_25_Template,8,6,\"button\",8),core[\"ɵɵpipe\"](26,\"async\"),core[\"ɵɵtext\"](27,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](28,\"\\n    \"),core[\"ɵɵtemplate\"](29,ItemMetadataComponent_table_29_Template,28,18,\"table\",9),core[\"ɵɵpipe\"](30,\"dsObjectValues\"),core[\"ɵɵpipe\"](31,\"async\"),core[\"ɵɵtext\"](32,\"\\n    \"),core[\"ɵɵtemplate\"](33,ItemMetadataComponent_div_33_Template,4,2,\"div\",10),core[\"ɵɵpipe\"](34,\"dsObjectValues\"),core[\"ɵɵpipe\"](35,\"async\"),core[\"ɵɵtext\"](36,\"\\n    \"),core[\"ɵɵelementStart\"](37,\"div\",11),core[\"ɵɵtext\"](38,\"\\n      \"),core[\"ɵɵelementStart\"](39,\"div\",12),core[\"ɵɵtext\"](40,\"\\n              \"),core[\"ɵɵtemplate\"](41,ItemMetadataComponent_button_41_Template,4,3,\"button\",5),core[\"ɵɵpipe\"](42,\"async\"),core[\"ɵɵtext\"](43,\"\\n              \"),core[\"ɵɵelementStart\"](44,\"button\",13),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.submit()})),core[\"ɵɵpipe\"](45,\"async\"),core[\"ɵɵelement\"](46,\"i\",7),core[\"ɵɵtext\"](47),core[\"ɵɵpipe\"](48,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](49,\"\\n              \"),core[\"ɵɵtemplate\"](50,ItemMetadataComponent_button_50_Template,5,6,\"button\",8),core[\"ɵɵpipe\"](51,\"async\"),core[\"ɵɵtext\"](52,\"\\n          \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](53,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](54,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](55,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](8),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](9,11,\"item.edit.metadata.add-button\"),\"\"),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](13,13,ctx.isReinstatable())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](16,15,ctx.hasChanges())||!core[\"ɵɵpipeBind1\"](17,17,ctx.isValid())),core[\"ɵɵadvance\"](6),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](22,19,\"item.edit.metadata.save-button\"),\"\"),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](26,21,ctx.isReinstatable())),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](30,23,core[\"ɵɵpipeBind1\"](31,25,ctx.updates$)).length>0),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",0==core[\"ɵɵpipeBind1\"](34,27,core[\"ɵɵpipeBind1\"](35,29,ctx.updates$)).length),core[\"ɵɵadvance\"](8),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](42,31,ctx.isReinstatable())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](45,33,ctx.hasChanges())),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](48,35,\"item.edit.metadata.save-button\"),\"\\n              \"),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](51,37,ctx.isReinstatable())))},directives:[common.u,common.t,edit_in_place_field_component_EditInPlaceFieldComponent,common.r,alert_component.a],pipes:[ngx_translate_core.e,common.b,object_values_pipe.a],styles:[\".button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:calc(.5 * var(--bs-spacer))}.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}@media screen and (min-width:576px){.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:var(--ds-edit-item-button-min-width)}}.button-row.top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:calc(var(--bs-spacer) / 2);margin-bottom:calc(var(--bs-spacer) / 2)}\"]}),ItemMetadataComponent})()},\"8kTG\":function(module,exports,__webpack_require__){var map={\"./custom/app/+search-page/search-page.component\":[\"o4x0\",53]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then((function(){var e=new Error(\"Cannot find module '\"+req+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}));var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then((function(){return __webpack_require__(id)}))}webpackAsyncContext.keys=function(){return Object.keys(map)},webpackAsyncContext.id=\"8kTG\",module.exports=webpackAsyncContext},A0IO:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return I18nBreadcrumbResolver}));var _shared_empty_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"J3qs\"),_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"q5u1\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"8Y7J\"),_i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"tv3Y\");let I18nBreadcrumbResolver=(()=>{class I18nBreadcrumbResolver{constructor(breadcrumbService){this.breadcrumbService=breadcrumbService}resolve(route,state){const key=route.data.breadcrumbKey;if(Object(_shared_empty_util__WEBPACK_IMPORTED_MODULE_0__.a)(key))throw new Error('You provided an i18nBreadcrumbResolver for url \"'+route.url+\"\\\" but no breadcrumbKey in the route's data\");const fullPath=Object(_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_1__.b)(route);return{provider:this.breadcrumbService,key:key,url:fullPath}}}return I18nBreadcrumbResolver.ɵfac=function(t){return new(t||I18nBreadcrumbResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵinject\"](_i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__.a))},I18nBreadcrumbResolver.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdefineInjectable\"]({token:I18nBreadcrumbResolver,factory:I18nBreadcrumbResolver.ɵfac,providedIn:\"root\"}),I18nBreadcrumbResolver})()},GCaJ:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return DSOBreadcrumbsService}));var _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"zr/d\"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"LRne\"),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"84Zn\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"cBqT\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"eIep\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"lJxs\"),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"J3qs\"),_app_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"TVZh\"),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(\"8Y7J\"),_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(\"sfEo\"),_dso_name_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(\"C765\");let DSOBreadcrumbsService=(()=>{class DSOBreadcrumbsService{constructor(linkService,dsoNameService){this.linkService=linkService,this.dsoNameService=dsoNameService}getBreadcrumbs(key,url){const label=this.dsoNameService.getName(key),crumb=new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_0__.a(label,url),propertyName=key.getParentLinkKey();return this.linkService.resolveLink(key,Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_2__.a)(propertyName))[propertyName].pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((parentRD=>parentRD.hasSucceeded||204===parentRD.statusCode)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)((parentRD=>{if(Object(_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.b)(parentRD.payload)){const parent=parentRD.payload;return this.getBreadcrumbs(parent,Object(_app_routing_paths__WEBPACK_IMPORTED_MODULE_7__.n)(parent))}return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)([])})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.a)((breadcrumbs=>[...breadcrumbs,crumb])))}}return DSOBreadcrumbsService.ɵfac=function(t){return new(t||DSOBreadcrumbsService)(_angular_core__WEBPACK_IMPORTED_MODULE_8__[\"ɵɵinject\"](_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_8__[\"ɵɵinject\"](_dso_name_service__WEBPACK_IMPORTED_MODULE_10__.a))},DSOBreadcrumbsService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_8__[\"ɵɵdefineInjectable\"]({token:DSOBreadcrumbsService,factory:DSOBreadcrumbsService.ɵfac,providedIn:\"root\"}),DSOBreadcrumbsService})()},HENg:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return DsoPageSomeFeatureGuard}));var _shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"1QIV\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"lJxs\"),_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"J3qs\"),_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"a8lL\");class DsoPageSomeFeatureGuard extends _some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_3__.a{constructor(resolver,authorizationService,router,authService){super(authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getObjectUrl(route,state){const routeWithObjectID=this.getRouteWithDSOId(route);return this.resolver.resolve(routeWithObjectID,state).pipe(Object(_shared_operators__WEBPACK_IMPORTED_MODULE_0__.d)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((dso=>dso.self)))}getRouteWithDSOId(route){let routeWithDSOId=route;for(;Object(_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.a)(routeWithDSOId.params.id)&&Object(_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.b)(routeWithDSOId.parent);)routeWithDSOId=routeWithDSOId.parent;return routeWithDSOId}}},HQAL:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return SearchPageModule}));var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"SVse\"),_core_core_module__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"pKmL\"),_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"PCNd\"),_shared_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(\"FZ4K\"),__webpack_require__(\"7LZ0\")),_configuration_search_page_guard__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"mjBp\"),_statistics_statistics_module__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(\"tVEM\"),__webpack_require__(\"9i+i\")),_shared_sidebar_filter_sidebar_filter_service__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(\"ofZh\"),__webpack_require__(\"2XvB\")),_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(\"kesd\"),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(\"joI/\"),_entity_groups_journal_entities_journal_entities_module__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(\"N0eT\"),_entity_groups_research_entities_research_entities_module__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(\"udvk\"),_angular_core__WEBPACK_IMPORTED_MODULE_15__=(__webpack_require__(\"TIQJ\"),__webpack_require__(\"8Y7J\"));let SearchPageModule=(()=>{class SearchPageModule{}return SearchPageModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_15__[\"ɵɵdefineNgModule\"]({type:SearchPageModule}),SearchPageModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_15__[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||SearchPageModule)},providers:[_shared_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_4__.a,_shared_sidebar_filter_sidebar_filter_service__WEBPACK_IMPORTED_MODULE_9__.a,_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_10__.c,_configuration_search_page_guard__WEBPACK_IMPORTED_MODULE_5__.a,_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_11__.a],imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_0__.c,_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__.a.withEntryComponents(),_core_core_module__WEBPACK_IMPORTED_MODULE_1__.a.forRoot(),_statistics_statistics_module__WEBPACK_IMPORTED_MODULE_7__.a.forRoot(),_entity_groups_journal_entities_journal_entities_module__WEBPACK_IMPORTED_MODULE_12__.a.withEntryComponents(),_entity_groups_research_entities_research_entities_module__WEBPACK_IMPORTED_MODULE_13__.a.withEntryComponents()]]}),SearchPageModule})()},TIQJ:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ThemedSearchPageComponent}));var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"JTKQ\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"8Y7J\");function ThemedSearchPageComponent_ng_template_0_Template(rf,ctx){}let ThemedSearchPageComponent=(()=>{class ThemedSearchPageComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.a{getComponentName(){return\"SearchPageComponent\"}importThemedComponent(themeName){return __webpack_require__(\"8kTG\")(`./${themeName}/app/+search-page/search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(null,\"ofZh\"))}}return ThemedSearchPageComponent.ɵfac=function(t){return ɵThemedSearchPageComponent_BaseFactory(t||ThemedSearchPageComponent)},ThemedSearchPageComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ɵɵdefineComponent\"]({type:ThemedSearchPageComponent,selectors:[[\"ds-themed-search-page\"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ɵɵInheritDefinitionFeature\"]],decls:3,vars:0,consts:[[\"vcr\",\"\"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ɵɵtemplate\"](0,ThemedSearchPageComponent_ng_template_0_Template,0,0,\"ng-template\",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ɵɵtemplateRefExtractor\"]),_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ɵɵtext\"](2,\"\\n\"))},encapsulation:2}),ThemedSearchPageComponent})();const ɵThemedSearchPageComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"ɵɵgetInheritedFactory\"](ThemedSearchPageComponent)},TtSl:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ItemPageAdministratorGuard}));var _core_data_feature_authorization_feature_authorization_guard_dso_page_single_feature_guard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"0TMo\"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"LRne\"),_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"FU+A\"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"8Y7J\"),_item_page_resolver__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"Y2Xq\"),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"1mcE\"),_angular_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"iInd\"),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"Vurf\");let ItemPageAdministratorGuard=(()=>{class ItemPageAdministratorGuard extends _core_data_feature_authorization_feature_authorization_guard_dso_page_single_feature_guard__WEBPACK_IMPORTED_MODULE_0__.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)(_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_2__.a.AdministratorOf)}}return ItemPageAdministratorGuard.ɵfac=function(t){return new(t||ItemPageAdministratorGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ɵɵinject\"](_item_page_resolver__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ɵɵinject\"](_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ɵɵinject\"](_angular_router__WEBPACK_IMPORTED_MODULE_6__.g),_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ɵɵinject\"](_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_7__.a))},ItemPageAdministratorGuard.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ɵɵdefineInjectable\"]({token:ItemPageAdministratorGuard,factory:ItemPageAdministratorGuard.ɵfac,providedIn:\"root\"}),ItemPageAdministratorGuard})()},Y2Xq:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ItemPageResolver}));var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"lJxs\"),_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"J3qs\"),_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"MEmd\"),_item_resolver__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"u0Hx\"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"8Y7J\"),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"iqTE\"),_ngrx_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"tqRt\"),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"iInd\");let ItemPageResolver=(()=>{class ItemPageResolver extends _item_resolver__WEBPACK_IMPORTED_MODULE_3__.b{constructor(itemService,store,router){super(itemService,store,router),this.itemService=itemService,this.store=store,this.router=router}resolve(route,state){return super.resolve(route,state).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.a)((rd=>{if(rd.hasSucceeded&&Object(_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__.b)(rd.payload)){const itemRoute=Object(_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_2__.f)(rd.payload),thisRoute=state.url;if(!thisRoute.startsWith(itemRoute)){const itemId=rd.payload.uuid,subRoute=thisRoute.substring(thisRoute.indexOf(itemId)+itemId.length,thisRoute.length);this.router.navigateByUrl(itemRoute+subRoute)}}return rd})))}}return ItemPageResolver.ɵfac=function(t){return new(t||ItemPageResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ɵɵinject\"](_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ɵɵinject\"](_ngrx_store__WEBPACK_IMPORTED_MODULE_6__.h),_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ɵɵinject\"](_angular_router__WEBPACK_IMPORTED_MODULE_7__.g))},ItemPageResolver.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ɵɵdefineInjectable\"]({token:ItemPageResolver,factory:ItemPageResolver.ɵfac}),ItemPageResolver})()},bG9Y:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"EditItemPageModule\",(function(){return edit_item_page_module_EditItemPageModule}));var common=__webpack_require__(\"SVse\"),shared_module=__webpack_require__(\"PCNd\"),fesm2015_router=__webpack_require__(\"iInd\"),fade=__webpack_require__(\"mEo1\"),of=__webpack_require__(\"LRne\"),combineLatest=__webpack_require__(\"itXk\"),map=__webpack_require__(\"lJxs\"),empty_util=__webpack_require__(\"J3qs\"),item_page_routing_paths=__webpack_require__(\"MEmd\"),core=__webpack_require__(\"8Y7J\"),ng_bootstrap=__webpack_require__(\"G0yt\"),ngx_translate_core=__webpack_require__(\"TSSN\");const _c0=function(a0){return{active:a0}},_c1=function(a0){return[a0]};function EditItemPageComponent_li_14_a_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"a\",17),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf){const page_r1=core[\"ɵɵnextContext\"]().$implicit,ctx_r2=core[\"ɵɵnextContext\"]();core[\"ɵɵproperty\"](\"ngClass\",core[\"ɵɵpureFunction1\"](5,_c0,page_r1.page===ctx_r2.currentPage))(\"routerLink\",core[\"ɵɵpureFunction1\"](7,_c1,\"./\"+page_r1.page)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n                            \",core[\"ɵɵpipeBind1\"](2,3,\"item.edit.tabs.\"+page_r1.page+\".head\"),\"\\n                        \")}}function EditItemPageComponent_li_14_button_8_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"button\",18),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf){const page_r1=core[\"ɵɵnextContext\"]().$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n                                \",core[\"ɵɵpipeBind1\"](2,1,\"item.edit.tabs.\"+page_r1.page+\".head\"),\"\\n                            \")}}function EditItemPageComponent_li_14_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"li\",13),core[\"ɵɵtext\"](1,\"\\n                        \"),core[\"ɵɵtemplate\"](2,EditItemPageComponent_li_14_a_2_Template,3,9,\"a\",14),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵtext\"](4,\"\\n                        \"),core[\"ɵɵelementStart\"](5,\"span\",15),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵtext\"](7,\"\\n                            \"),core[\"ɵɵtemplate\"](8,EditItemPageComponent_li_14_button_8_Template,3,3,\"button\",16),core[\"ɵɵpipe\"](9,\"async\"),core[\"ɵɵtext\"](10,\"\\n                        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n                    \"),core[\"ɵɵelementEnd\"]()),2&rf){const page_r1=ctx.$implicit;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](3,3,page_r1.enabled)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngbTooltip\",core[\"ɵɵpipeBind1\"](6,5,\"item.edit.tabs.disabled.tooltip\")),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](9,7,page_r1.enabled))}}let edit_item_page_component_EditItemPageComponent=(()=>{class EditItemPageComponent{constructor(route,router,injector){this.route=route,this.router=router,this.injector=injector,this.router.events.subscribe((()=>this.initPageParamsByRoute()))}ngOnInit(){this.initPageParamsByRoute(),this.pages=this.route.routeConfig.children.filter((child=>Object(empty_util.e)(child.path))).map((child=>{let enabled=Object(of.a)(!0);return Object(empty_util.e)(child.canActivate)&&(enabled=Object(combineLatest.a)(child.canActivate.map((guardConstructor=>this.injector.get(guardConstructor).canActivate(this.route.snapshot,this.router.routerState.snapshot)))).pipe(Object(map.a)((canActivateOutcomes=>canActivateOutcomes.every((e=>!0===e)))))),{page:child.path,enabled:enabled}})),this.itemRD$=this.route.data.pipe(Object(map.a)((data=>data.dso)))}getItemPage(item){return Object(item_page_routing_paths.f)(item)}initPageParamsByRoute(){this.currentPage=this.route.snapshot.firstChild.routeConfig.path}}return EditItemPageComponent.ɵfac=function(t){return new(t||EditItemPageComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](core.Injector))},EditItemPageComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:EditItemPageComponent,selectors:[[\"ds-edit-item-page\"]],decls:41,vars:10,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[1,\"border-bottom\"],[1,\"pt-2\"],[1,\"nav\",\"nav-tabs\",\"justify-content-start\"],[\"class\",\"nav-item\",4,\"ngFor\",\"ngForOf\"],[1,\"tab-pane\",\"active\"],[1,\"mb-4\"],[1,\"button-row\",\"bottom\"],[1,\"text-right\"],[\"role\",\"button\",1,\"btn\",\"btn-outline-secondary\",\"mr-1\",3,\"routerLink\"],[1,\"fas\",\"fa-arrow-left\"],[1,\"nav-item\"],[\"class\",\"nav-link\",3,\"ngClass\",\"routerLink\",4,\"ngIf\"],[3,\"ngbTooltip\"],[\"class\",\"nav-link disabled\",4,\"ngIf\"],[1,\"nav-link\",3,\"ngClass\",\"routerLink\"],[1,\"nav-link\",\"disabled\"]],template:function(rf,ctx){var tmp_2_0;1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementStart\"](6,\"h2\",3),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n            \"),core[\"ɵɵelementStart\"](10,\"div\",4),core[\"ɵɵtext\"](11,\"\\n                \"),core[\"ɵɵelementStart\"](12,\"ul\",5),core[\"ɵɵtext\"](13,\"\\n                    \"),core[\"ɵɵtemplate\"](14,EditItemPageComponent_li_14_Template,12,9,\"li\",6),core[\"ɵɵtext\"](15,\"\\n                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](16,\"\\n                \"),core[\"ɵɵelementStart\"](17,\"div\",7),core[\"ɵɵtext\"](18,\"\\n                    \"),core[\"ɵɵelementStart\"](19,\"div\",8),core[\"ɵɵtext\"](20,\"\\n                        \"),core[\"ɵɵelement\"](21,\"router-outlet\"),core[\"ɵɵtext\"](22,\"\\n                    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n                    \"),core[\"ɵɵelementStart\"](24,\"div\",9),core[\"ɵɵtext\"](25,\"\\n                      \"),core[\"ɵɵelementStart\"](26,\"div\",10),core[\"ɵɵtext\"](27,\"\\n                        \"),core[\"ɵɵelementStart\"](28,\"a\",11),core[\"ɵɵpipe\"](29,\"async\"),core[\"ɵɵelement\"](30,\"i\",12),core[\"ɵɵtext\"](31),core[\"ɵɵpipe\"](32,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](33,\"\\n                      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](34,\"\\n                    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](35,\"\\n                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](36,\"\\n            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](37,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](38,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](39,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](40,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](8,4,\"item.edit.head\")),core[\"ɵɵadvance\"](7),core[\"ɵɵproperty\"](\"ngForOf\",ctx.pages),core[\"ɵɵadvance\"](14),core[\"ɵɵproperty\"](\"routerLink\",ctx.getItemPage(null==(tmp_2_0=core[\"ɵɵpipeBind1\"](29,6,ctx.itemRD$))?null:tmp_2_0.payload)),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](32,8,\"item.edit.return\"),\"\"))},directives:[common.t,fesm2015_router.l,fesm2015_router.j,common.u,ng_bootstrap.gb,common.r],pipes:[ngx_translate_core.e,common.b],encapsulation:2,data:{animation:[fade.a,fade.c]},changeDetection:0}),EditItemPageComponent})();var operators=__webpack_require__(\"1QIV\"),first=__webpack_require__(\"SxV6\"),notifications_service=__webpack_require__(\"lI3o\"),item_data_service=__webpack_require__(\"iqTE\"),modify_item_overview_component=__webpack_require__(\"3pMV\");const abstract_simple_item_action_component_c0=function(a0){return{id:a0}},abstract_simple_item_action_component_c1=function(a0){return[a0,\"edit\"]};let abstract_simple_item_action_component_AbstractSimpleItemActionComponent=(()=>{class AbstractSimpleItemActionComponent{constructor(route,router,notificationsService,itemDataService,translateService){this.route=route,this.router=router,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService}ngOnInit(){this.itemRD$=this.route.data.pipe(Object(map.a)((data=>data.dso)),Object(operators.i)()),this.itemRD$.pipe(Object(first.a)()).subscribe((rd=>{this.item=rd.payload,this.itemPageRoute=Object(item_page_routing_paths.f)(this.item)})),this.confirmMessage=\"item.edit.\"+this.messageKey+\".confirm\",this.cancelMessage=\"item.edit.\"+this.messageKey+\".cancel\",this.headerMessage=\"item.edit.\"+this.messageKey+\".header\",this.descriptionMessage=\"item.edit.\"+this.messageKey+\".description\"}performAction(){}processRestResponse(response){var predicate;response.hasSucceeded?this.itemDataService.findById(this.item.id).pipe((predicate=this.predicate,source=>source.pipe(Object(operators.c)(),Object(first.a)(predicate)))).subscribe((()=>{this.notificationsService.success(this.translateService.get(\"item.edit.\"+this.messageKey+\".success\")),this.router.navigate([Object(item_page_routing_paths.e)(this.item)])})):(this.notificationsService.error(this.translateService.get(\"item.edit.\"+this.messageKey+\".error\")),this.router.navigate([Object(item_page_routing_paths.e)(this.item)]))}}return AbstractSimpleItemActionComponent.ɵfac=function(t){return new(t||AbstractSimpleItemActionComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f))},AbstractSimpleItemActionComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:AbstractSimpleItemActionComponent,selectors:[[\"ds-simple-action\"]],decls:27,vars:19,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[3,\"item\"],[1,\"btn\",\"btn-outline-secondary\",\"perform-action\",3,\"click\"],[1,\"btn\",\"btn-outline-secondary\",\"cancel\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementStart\"](6,\"h2\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n            \"),core[\"ɵɵelementStart\"](10,\"p\"),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n            \"),core[\"ɵɵelement\"](14,\"ds-modify-item-overview\",3),core[\"ɵɵtext\"](15,\"\\n            \"),core[\"ɵɵelementStart\"](16,\"button\",4),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.performAction()})),core[\"ɵɵtext\"](17),core[\"ɵɵpipe\"](18,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](19,\"\\n            \"),core[\"ɵɵelementStart\"](20,\"button\",5),core[\"ɵɵtext\"](21),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind2\"](8,6,ctx.headerMessage,core[\"ɵɵpureFunction1\"](15,abstract_simple_item_action_component_c0,ctx.item.handle))),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,9,ctx.descriptionMessage)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"item\",ctx.item),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](18,11,ctx.confirmMessage),\"\\n            \"),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](17,abstract_simple_item_action_component_c1,ctx.itemPageRoute)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n                \",core[\"ɵɵpipeBind1\"](22,13,ctx.cancelMessage),\"\\n            \"))},directives:[modify_item_overview_component.a,fesm2015_router.h],pipes:[ngx_translate_core.e],encapsulation:2}),AbstractSimpleItemActionComponent})();const item_withdraw_component_c0=function(a0){return{id:a0}},item_withdraw_component_c1=function(a0){return[a0,\"edit\"]};let item_withdraw_component_ItemWithdrawComponent=(()=>{class ItemWithdrawComponent extends abstract_simple_item_action_component_AbstractSimpleItemActionComponent{constructor(route,router,notificationsService,itemDataService,translateService){super(route,router,notificationsService,itemDataService,translateService),this.route=route,this.router=router,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.messageKey=\"withdraw\",this.predicate=rd=>rd.payload.isWithdrawn}performAction(){this.itemDataService.setWithDrawn(this.item,!0).pipe(Object(operators.g)()).subscribe((response=>{this.processRestResponse(response)}))}}return ItemWithdrawComponent.ɵfac=function(t){return new(t||ItemWithdrawComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f))},ItemWithdrawComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemWithdrawComponent,selectors:[[\"ds-item-withdraw\"]],features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:27,vars:19,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[3,\"item\"],[1,\"btn\",\"btn-outline-secondary\",\"perform-action\",3,\"click\"],[1,\"btn\",\"btn-outline-secondary\",\"cancel\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementStart\"](6,\"h2\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n            \"),core[\"ɵɵelementStart\"](10,\"p\"),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n            \"),core[\"ɵɵelement\"](14,\"ds-modify-item-overview\",3),core[\"ɵɵtext\"](15,\"\\n            \"),core[\"ɵɵelementStart\"](16,\"button\",4),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.performAction()})),core[\"ɵɵtext\"](17),core[\"ɵɵpipe\"](18,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](19,\"\\n            \"),core[\"ɵɵelementStart\"](20,\"button\",5),core[\"ɵɵtext\"](21),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind2\"](8,6,ctx.headerMessage,core[\"ɵɵpureFunction1\"](15,item_withdraw_component_c0,ctx.item.handle))),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,9,ctx.descriptionMessage)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"item\",ctx.item),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](18,11,ctx.confirmMessage),\"\\n            \"),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](17,item_withdraw_component_c1,ctx.itemPageRoute)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n                \",core[\"ɵɵpipeBind1\"](22,13,ctx.cancelMessage),\"\\n            \"))},directives:[modify_item_overview_component.a,fesm2015_router.h],pipes:[ngx_translate_core.e],encapsulation:2}),ItemWithdrawComponent})();const item_reinstate_component_c0=function(a0){return{id:a0}},item_reinstate_component_c1=function(a0){return[a0,\"edit\"]};let item_reinstate_component_ItemReinstateComponent=(()=>{class ItemReinstateComponent extends abstract_simple_item_action_component_AbstractSimpleItemActionComponent{constructor(route,router,notificationsService,itemDataService,translateService){super(route,router,notificationsService,itemDataService,translateService),this.route=route,this.router=router,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.messageKey=\"reinstate\",this.predicate=rd=>!rd.payload.isWithdrawn}performAction(){this.itemDataService.setWithDrawn(this.item,!1).pipe(Object(operators.g)()).subscribe((response=>{this.processRestResponse(response)}))}}return ItemReinstateComponent.ɵfac=function(t){return new(t||ItemReinstateComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f))},ItemReinstateComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemReinstateComponent,selectors:[[\"ds-item-reinstate\"]],features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:27,vars:19,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[3,\"item\"],[1,\"btn\",\"btn-outline-secondary\",\"perform-action\",3,\"click\"],[1,\"btn\",\"btn-outline-secondary\",\"cancel\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementStart\"](6,\"h2\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n            \"),core[\"ɵɵelementStart\"](10,\"p\"),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n            \"),core[\"ɵɵelement\"](14,\"ds-modify-item-overview\",3),core[\"ɵɵtext\"](15,\"\\n            \"),core[\"ɵɵelementStart\"](16,\"button\",4),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.performAction()})),core[\"ɵɵtext\"](17),core[\"ɵɵpipe\"](18,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](19,\"\\n            \"),core[\"ɵɵelementStart\"](20,\"button\",5),core[\"ɵɵtext\"](21),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind2\"](8,6,ctx.headerMessage,core[\"ɵɵpureFunction1\"](15,item_reinstate_component_c0,ctx.item.handle))),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,9,ctx.descriptionMessage)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"item\",ctx.item),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](18,11,ctx.confirmMessage),\"\\n            \"),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](17,item_reinstate_component_c1,ctx.itemPageRoute)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n                \",core[\"ɵɵpipeBind1\"](22,13,ctx.cancelMessage),\"\\n            \"))},directives:[modify_item_overview_component.a,fesm2015_router.h],pipes:[ngx_translate_core.e],encapsulation:2}),ItemReinstateComponent})();const item_private_component_c0=function(a0){return{id:a0}},item_private_component_c1=function(a0){return[a0,\"edit\"]};let item_private_component_ItemPrivateComponent=(()=>{class ItemPrivateComponent extends abstract_simple_item_action_component_AbstractSimpleItemActionComponent{constructor(route,router,notificationsService,itemDataService,translateService){super(route,router,notificationsService,itemDataService,translateService),this.route=route,this.router=router,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.messageKey=\"private\",this.predicate=rd=>!rd.payload.isDiscoverable}performAction(){this.itemDataService.setDiscoverable(this.item,!1).pipe(Object(operators.g)()).subscribe((rd=>{this.processRestResponse(rd)}))}}return ItemPrivateComponent.ɵfac=function(t){return new(t||ItemPrivateComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f))},ItemPrivateComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemPrivateComponent,selectors:[[\"ds-item-private\"]],features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:27,vars:19,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[3,\"item\"],[1,\"btn\",\"btn-outline-secondary\",\"perform-action\",3,\"click\"],[1,\"btn\",\"btn-outline-secondary\",\"cancel\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementStart\"](6,\"h2\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n            \"),core[\"ɵɵelementStart\"](10,\"p\"),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n            \"),core[\"ɵɵelement\"](14,\"ds-modify-item-overview\",3),core[\"ɵɵtext\"](15,\"\\n            \"),core[\"ɵɵelementStart\"](16,\"button\",4),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.performAction()})),core[\"ɵɵtext\"](17),core[\"ɵɵpipe\"](18,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](19,\"\\n            \"),core[\"ɵɵelementStart\"](20,\"button\",5),core[\"ɵɵtext\"](21),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind2\"](8,6,ctx.headerMessage,core[\"ɵɵpureFunction1\"](15,item_private_component_c0,ctx.item.handle))),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,9,ctx.descriptionMessage)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"item\",ctx.item),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](18,11,ctx.confirmMessage),\"\\n            \"),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](17,item_private_component_c1,ctx.itemPageRoute)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n                \",core[\"ɵɵpipeBind1\"](22,13,ctx.cancelMessage),\"\\n            \"))},directives:[modify_item_overview_component.a,fesm2015_router.h],pipes:[ngx_translate_core.e],encapsulation:2}),ItemPrivateComponent})();const item_public_component_c0=function(a0){return{id:a0}},item_public_component_c1=function(a0){return[a0,\"edit\"]};let item_public_component_ItemPublicComponent=(()=>{class ItemPublicComponent extends abstract_simple_item_action_component_AbstractSimpleItemActionComponent{constructor(route,router,notificationsService,itemDataService,translateService){super(route,router,notificationsService,itemDataService,translateService),this.route=route,this.router=router,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.messageKey=\"public\",this.predicate=rd=>rd.payload.isDiscoverable}performAction(){this.itemDataService.setDiscoverable(this.item,!0).pipe(Object(operators.g)()).subscribe((response=>{this.processRestResponse(response)}))}}return ItemPublicComponent.ɵfac=function(t){return new(t||ItemPublicComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f))},ItemPublicComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemPublicComponent,selectors:[[\"ds-item-public\"]],features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:27,vars:19,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[3,\"item\"],[1,\"btn\",\"btn-outline-secondary\",\"perform-action\",3,\"click\"],[1,\"btn\",\"btn-outline-secondary\",\"cancel\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementStart\"](6,\"h2\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n            \"),core[\"ɵɵelementStart\"](10,\"p\"),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n            \"),core[\"ɵɵelement\"](14,\"ds-modify-item-overview\",3),core[\"ɵɵtext\"](15,\"\\n            \"),core[\"ɵɵelementStart\"](16,\"button\",4),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.performAction()})),core[\"ɵɵtext\"](17),core[\"ɵɵpipe\"](18,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](19,\"\\n            \"),core[\"ɵɵelementStart\"](20,\"button\",5),core[\"ɵɵtext\"](21),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind2\"](8,6,ctx.headerMessage,core[\"ɵɵpureFunction1\"](15,item_public_component_c0,ctx.item.handle))),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,9,ctx.descriptionMessage)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"item\",ctx.item),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](18,11,ctx.confirmMessage),\"\\n            \"),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](17,item_public_component_c1,ctx.itemPageRoute)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n                \",core[\"ɵɵpipeBind1\"](22,13,ctx.cancelMessage),\"\\n            \"))},directives:[modify_item_overview_component.a,fesm2015_router.h],pipes:[ngx_translate_core.e],encapsulation:2}),ItemPublicComponent})();var switchMap=__webpack_require__(\"eIep\"),take=__webpack_require__(\"IzEk\"),defaultIfEmpty=__webpack_require__(\"xbPD\"),filter=__webpack_require__(\"pLZG\"),view_mode_model=__webpack_require__(\"3jCq\"),follow_link_config_model=__webpack_require__(\"84Zn\"),object_updates_service=__webpack_require__(\"loKC\"),relationship_service=__webpack_require__(\"kN8A\"),entity_type_service=__webpack_require__(\"bxbP\"),link_service=__webpack_require__(\"sfEo\"),var_directive=__webpack_require__(\"O/5o\"),listable_object_component_loader_component=__webpack_require__(\"1aCu\");function ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ds_listable_object_component_loader_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"ds-listable-object-component-loader\",23),core[\"ɵɵtext\"](1,\"\\n                                        \"),core[\"ɵɵelementEnd\"]()),2&rf){const relatedItem_r10=core[\"ɵɵnextContext\"]().ngVar,ctx_r11=core[\"ɵɵnextContext\"](6);core[\"ɵɵproperty\"](\"object\",relatedItem_r10)(\"viewMode\",ctx_r11.viewMode)}}function ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_ds_listable_object_component_loader_15_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"ds-listable-object-component-loader\",23),core[\"ɵɵtext\"](1,\"\\n                                                    \"),core[\"ɵɵelementEnd\"]()),2&rf){const relatedItem_r10=core[\"ɵɵnextContext\"](2).ngVar,ctx_r15=core[\"ɵɵnextContext\"](6);core[\"ɵɵproperty\"](\"object\",relatedItem_r10)(\"viewMode\",ctx_r15.viewMode)}}function ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_div_17_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\"\\n                                                        \"),core[\"ɵɵelementStart\"](2,\"div\"),core[\"ɵɵtext\"](3,\"\\n                                                            \"),core[\"ɵɵelementStart\"](4,\"div\",29),core[\"ɵɵtext\"](5),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n                                                            \"),core[\"ɵɵelementStart\"](7,\"div\"),core[\"ɵɵtext\"](8),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n                                                        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n                                                    \"),core[\"ɵɵelementEnd\"]()),2&rf){const metadata_r18=ctx.$implicit;core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\"\\n                                                                \",metadata_r18.metadataField,\"\\n                                                            \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n                                                                \",metadata_r18.metadataValue.value,\"\\n                                                            \")}}function ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_Template(rf,ctx){if(1&rf){const _r20=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵtext\"](0,\"\\n                                            \"),core[\"ɵɵelementStart\"](1,\"div\"),core[\"ɵɵtext\"](2,\"\\n                                                \"),core[\"ɵɵelementStart\"](3,\"div\",24),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementStart\"](6,\"button\",25),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r20),core[\"ɵɵnextContext\"](7).closeVirtualMetadataModal()})),core[\"ɵɵtext\"](7,\"\\n                                                        \"),core[\"ɵɵelementStart\"](8,\"span\",26),core[\"ɵɵtext\"](9,\"×\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n                                                    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n                                                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](12,\"\\n                                                \"),core[\"ɵɵelementStart\"](13,\"div\",27),core[\"ɵɵtext\"](14,\"\\n                                                    \"),core[\"ɵɵtemplate\"](15,ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_ds_listable_object_component_loader_15_Template,2,2,\"ds-listable-object-component-loader\",17),core[\"ɵɵtext\"](16,\"\\n                                                    \"),core[\"ɵɵtemplate\"](17,ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_div_17_Template,11,2,\"div\",28),core[\"ɵɵpipe\"](18,\"async\"),core[\"ɵɵtext\"](19,\"\\n                                                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](20,\"\\n                                            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](21,\"\\n                                        \")}if(2&rf){const relatedItem_r10=core[\"ɵɵnextContext\"]().ngVar,relationship_r8=core[\"ɵɵnextContext\"]().$implicit,ctx_r13=core[\"ɵɵnextContext\"](5);core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\"\\n                                                    \",core[\"ɵɵpipeBind1\"](5,3,\"virtual-metadata.delete-item.modal-head\"),\"\\n                                                    \"),core[\"ɵɵadvance\"](11),core[\"ɵɵproperty\"](\"ngIf\",relatedItem_r10),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",core[\"ɵɵpipeBind1\"](18,5,ctx_r13.getVirtualMetadata(relationship_r8)))}}function ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_Template(rf,ctx){if(1&rf){const _r24=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n\\n                                        \"),core[\"ɵɵtemplate\"](2,ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ds_listable_object_component_loader_2_Template,2,2,\"ds-listable-object-component-loader\",17),core[\"ɵɵtext\"](3,\"\\n                                        \"),core[\"ɵɵelementStart\"](4,\"div\",18),core[\"ɵɵtext\"](5,\"\\n                                            \"),core[\"ɵɵelementStart\"](6,\"div\",19),core[\"ɵɵtext\"](7,\"\\n                                                \"),core[\"ɵɵelementStart\"](8,\"button\",20),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r24);const _r12=core[\"ɵɵreference\"](16);return core[\"ɵɵnextContext\"](6).openVirtualMetadataModal(_r12)})),core[\"ɵɵtext\"](9,\"\\n                                                    \"),core[\"ɵɵelement\"](10,\"i\",21),core[\"ɵɵtext\"](11,\"\\n                                                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](12,\"\\n                                            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n                                        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](14,\"\\n\\n                                        \"),core[\"ɵɵtemplate\"](15,ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_Template,22,7,\"ng-template\",null,22,core[\"ɵɵtemplateRefExtractor\"]),core[\"ɵɵtext\"](17,\"\\n\\n                                    \"),core[\"ɵɵelementContainerEnd\"]()}if(2&rf){const relatedItem_r10=ctx.ngVar;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",relatedItem_r10)}}function ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",11),core[\"ɵɵtext\"](1,\"\\n                                    \"),core[\"ɵɵtemplate\"](2,ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_Template,18,1,\"ng-container\",4),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵtext\"](4,\"\\n                                \"),core[\"ɵɵelementEnd\"]()),2&rf){const relationship_r8=ctx.$implicit,ctx_r7=core[\"ɵɵnextContext\"](5);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](3,1,ctx_r7.getRelatedItem(relationship_r8)))}}function ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_Template(rf,ctx){if(1&rf){const _r27=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",11),core[\"ɵɵtext\"](1,\"\\n\\n                            \"),core[\"ɵɵelementStart\"](2,\"div\",12),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r27);const selected_r6=ctx.ngVar,type_r4=core[\"ɵɵnextContext\"]().$implicit;return core[\"ɵɵnextContext\"](3).setSelected(type_r4,!selected_r6)})),core[\"ɵɵtext\"](3,\"\\n                                \"),core[\"ɵɵelementStart\"](4,\"label\"),core[\"ɵɵtext\"](5,\"\\n                                    \"),core[\"ɵɵelement\"](6,\"input\",13),core[\"ɵɵtext\"](7,\"\\n                                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](8,\"\\n                            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n\\n                            \"),core[\"ɵɵelementStart\"](10,\"div\",14),core[\"ɵɵtext\"](11,\"\\n                                \"),core[\"ɵɵelementStart\"](12,\"h5\",15),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r27);const selected_r6=ctx.ngVar,type_r4=core[\"ɵɵnextContext\"]().$implicit;return core[\"ɵɵnextContext\"](3).setSelected(type_r4,!selected_r6)})),core[\"ɵɵtext\"](13),core[\"ɵɵpipe\"](14,\"translate\"),core[\"ɵɵpipe\"](15,\"async\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](16,\"\\n                                \"),core[\"ɵɵtemplate\"](17,ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_Template,5,3,\"div\",16),core[\"ɵɵpipe\"](18,\"async\"),core[\"ɵɵtext\"](19,\"\\n                            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](20,\"\\n\\n                        \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const selected_r6=ctx.ngVar,type_r4=core[\"ɵɵnextContext\"]().$implicit,ctx_r5=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](6),core[\"ɵɵproperty\"](\"checked\",selected_r6),core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate1\"](\"\\n                                    \",core[\"ɵɵpipeBind1\"](14,3,ctx_r5.getRelationshipMessageKey(core[\"ɵɵpipeBind1\"](15,5,ctx_r5.getLabel(type_r4)))),\"\\n                                \"),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngForOf\",core[\"ɵɵpipeBind1\"](18,7,ctx_r5.getRelationships(type_r4)))}}function ItemDeleteComponent_ng_container_16_div_2_div_3_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",8),core[\"ɵɵtext\"](1,\"\\n\\n                        \"),core[\"ɵɵtemplate\"](2,ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_Template,21,9,\"div\",10),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵtext\"](4,\"\\n\\n                    \"),core[\"ɵɵelementEnd\"]()),2&rf){const type_r4=ctx.$implicit,ctx_r3=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](3,1,ctx_r3.isSelected(type_r4)))}}function ItemDeleteComponent_ng_container_16_div_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",8),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵtemplate\"](3,ItemDeleteComponent_ng_container_16_div_2_div_3_Template,5,3,\"div\",9),core[\"ɵɵtext\"](4,\"\\n\\n                \"),core[\"ɵɵelementEnd\"]()),2&rf){const types_r1=core[\"ɵɵnextContext\"]().ngVar;core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n\\n                    \",core[\"ɵɵpipeBind1\"](2,2,\"virtual-metadata.delete-item.info\"),\"\\n\\n                    \"),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",types_r1)}}function ItemDeleteComponent_ng_container_16_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n\\n                \"),core[\"ɵɵtemplate\"](2,ItemDeleteComponent_ng_container_16_div_2_Template,5,4,\"div\",7),core[\"ɵɵtext\"](3,\"\\n\\n            \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const types_r1=ctx.ngVar;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",types_r1&&types_r1.length>0)}}const item_delete_component_c0=function(a0){return{id:a0}},item_delete_component_c1=function(a0){return[a0,\"edit\"]};let item_delete_component_ItemDeleteComponent=(()=>{class ItemDeleteComponent extends abstract_simple_item_action_component_AbstractSimpleItemActionComponent{constructor(route,router,notificationsService,itemDataService,translateService,modalService,objectUpdatesService,relationshipService,entityTypeService,linkService){super(route,router,notificationsService,itemDataService,translateService),this.route=route,this.router=router,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.modalService=modalService,this.objectUpdatesService=objectUpdatesService,this.relationshipService=relationshipService,this.entityTypeService=entityTypeService,this.linkService=linkService,this.messageKey=\"delete\",this.viewMode=view_mode_model.a.ListElement,this.relationships$=new Map,this.relatedItems$=new Map,this.virtualMetadata$=new Map}ngOnInit(){super.ngOnInit(),this.url=this.router.url;const label=this.item.firstMetadataValue(\"dspace.entity.type\");this.types$=void 0!==label?this.entityTypeService.getEntityTypeByLabel(label).pipe(Object(operators.i)(),Object(operators.o)(),Object(switchMap.a)((entityType=>this.entityTypeService.getEntityTypeRelationships(entityType.id))),Object(operators.i)(),Object(operators.o)(),Object(map.a)((relationshipTypes=>relationshipTypes.page)),Object(switchMap.a)((types=>0===types.length?Object(of.a)(types):Object(combineLatest.a)(types.map((type=>this.getRelationships(type)))).pipe(Object(map.a)((relationships=>types.reduce(((includedTypes,type,index)=>includedTypes.some((includedType=>includedType.id===type.id))||0===relationships[index].length?includedTypes:[...includedTypes,type]),[]))))))):Object(of.a)([]),this.types$.pipe(Object(take.a)(1)).subscribe((types=>this.objectUpdatesService.initialize(this.url,types,this.item.lastModified)))}openVirtualMetadataModal(content){this.modalRef=this.modalService.open(content)}closeVirtualMetadataModal(){this.modalRef.close()}getRelationshipMessageKey(label){return Object(empty_util.b)(label)&&label.indexOf(\"Of\")>-1?`relationships.${label.substring(0,label.indexOf(\"Of\")+2)}`:label}getLabel(relationshipType){return this.getRelationships(relationshipType).pipe(Object(switchMap.a)((relationships=>this.isLeftItem(relationships[0]).pipe(Object(map.a)((isLeftItem=>isLeftItem?relationshipType.leftwardType:relationshipType.rightwardType))))))}getRelationships(relationshipType){return this.relationships$.has(relationshipType)||this.relationships$.set(relationshipType,this.relationshipService.getItemRelationshipsArray(this.item).pipe(Object(switchMap.a)((relationships=>Object(combineLatest.a)(relationships.map((relationship=>this.getRelationshipType(relationship)))).pipe(Object(defaultIfEmpty.a)([]),Object(map.a)((types=>relationships.filter(((relationship,index)=>relationshipType.id===types[index].id))))))))),this.relationships$.get(relationshipType)}getRelationshipType(relationship){return this.linkService.resolveLinks(relationship,Object(follow_link_config_model.a)(\"relationshipType\"),Object(follow_link_config_model.a)(\"leftItem\"),Object(follow_link_config_model.a)(\"rightItem\")),relationship.relationshipType.pipe(Object(operators.i)(),Object(operators.o)(),Object(filter.a)((relationshipType=>Object(empty_util.b)(relationshipType)&&Object(empty_util.e)(relationshipType.uuid))))}getRelatedItem(relationship){return this.relatedItems$.has(relationship)||this.relatedItems$.set(relationship,this.isLeftItem(relationship).pipe(Object(switchMap.a)((isLeftItem=>isLeftItem?relationship.rightItem:relationship.leftItem)),Object(operators.i)(),Object(operators.o)())),this.relatedItems$.get(relationship)}getVirtualMetadata(relationship){return this.virtualMetadata$.has(relationship)||this.virtualMetadata$.set(relationship,this.getRelatedItem(relationship).pipe(Object(map.a)((relatedItem=>Object.entries(relatedItem.metadata).map((([key,value])=>value.filter((metadata=>metadata.authority&&metadata.authority.endsWith(relationship.id))).map((metadata=>({metadataField:key,metadataValue:metadata}))))).reduce(((previous,current)=>previous.concat(current))))))),this.virtualMetadata$.get(relationship)}isLeftItem(relationship){return relationship.leftItem.pipe(Object(operators.i)(),Object(operators.o)(),Object(filter.a)((item=>Object(empty_util.b)(item)&&Object(empty_util.e)(item.uuid))),Object(map.a)((leftItem=>leftItem.uuid===this.item.uuid)))}isSelected(type){return this.objectUpdatesService.isSelectedVirtualMetadata(this.url,this.item.uuid,type.uuid)}setSelected(type,selected){this.objectUpdatesService.setSelectedVirtualMetadata(this.url,this.item.uuid,type.uuid,selected)}performAction(){this.types$.pipe(Object(switchMap.a)((types=>Object(combineLatest.a)(types.map((type=>this.isSelected(type)))).pipe(Object(defaultIfEmpty.a)([]),Object(map.a)((selection=>types.filter(((type,index)=>selection[index])))),Object(map.a)((selectedTypes=>selectedTypes.map((type=>type.id)))))))).subscribe((types=>{this.itemDataService.delete(this.item.id,types).pipe(Object(operators.g)()).subscribe((rd=>{this.notify(rd.hasSucceeded)}))}))}notify(succeeded){succeeded?(this.notificationsService.success(this.translateService.get(\"item.edit.\"+this.messageKey+\".success\")),this.router.navigate([\"\"])):(this.notificationsService.error(this.translateService.get(\"item.edit.\"+this.messageKey+\".error\")),this.router.navigate([Object(item_page_routing_paths.e)(this.item)]))}}return ItemDeleteComponent.ɵfac=function(t){return new(t||ItemDeleteComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f),core[\"ɵɵdirectiveInject\"](ng_bootstrap.u),core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](relationship_service.a),core[\"ɵɵdirectiveInject\"](entity_type_service.a),core[\"ɵɵdirectiveInject\"](link_service.a))},ItemDeleteComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemDeleteComponent,selectors:[[\"ds-item-delete\"]],inputs:{url:\"url\"},features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:30,vars:22,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[3,\"item\"],[4,\"ngVar\"],[1,\"btn\",\"btn-outline-secondary\",\"perform-action\",3,\"click\"],[1,\"btn\",\"btn-outline-secondary\",\"cancel\",3,\"routerLink\"],[\"class\",\"mb-4\",4,\"ngIf\"],[1,\"mb-4\"],[\"class\",\"mb-4\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"d-flex flex-row\",4,\"ngVar\"],[1,\"d-flex\",\"flex-row\"],[1,\"m-2\",3,\"click\"],[\"type\",\"checkbox\",3,\"checked\"],[1,\"flex-column\",\"flex-grow-1\"],[3,\"click\"],[\"class\",\"d-flex flex-row\",4,\"ngFor\",\"ngForOf\"],[3,\"object\",\"viewMode\",4,\"ngIf\"],[1,\"ml-auto\"],[1,\"btn-group\"],[1,\"btn\",\"btn-outline-info\",\"btn-sm\",3,\"click\"],[1,\"fas\",\"fa-info\",\"fa-fw\"],[\"virtualMetadataModal\",\"\"],[3,\"object\",\"viewMode\"],[1,\"modal-header\"],[\"type\",\"button\",\"aria-label\",\"Close\",1,\"close\",3,\"click\"],[\"aria-hidden\",\"true\"],[1,\"modal-body\"],[4,\"ngFor\",\"ngForOf\"],[1,\"font-weight-bold\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n\\n            \"),core[\"ɵɵelementStart\"](6,\"h2\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n            \"),core[\"ɵɵelementStart\"](10,\"p\"),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n            \"),core[\"ɵɵelement\"](14,\"ds-modify-item-overview\",3),core[\"ɵɵtext\"](15,\"\\n\\n            \"),core[\"ɵɵtemplate\"](16,ItemDeleteComponent_ng_container_16_Template,4,1,\"ng-container\",4),core[\"ɵɵpipe\"](17,\"async\"),core[\"ɵɵtext\"](18,\"\\n\\n            \"),core[\"ɵɵelementStart\"](19,\"button\",5),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.performAction()})),core[\"ɵɵtext\"](20),core[\"ɵɵpipe\"](21,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](22,\"\\n            \"),core[\"ɵɵelementStart\"](23,\"button\",6),core[\"ɵɵtext\"](24),core[\"ɵɵpipe\"](25,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](27,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](28,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](29,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind2\"](8,7,ctx.headerMessage,core[\"ɵɵpureFunction1\"](18,item_delete_component_c0,ctx.item.handle))),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,10,ctx.descriptionMessage)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"item\",ctx.item),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](17,12,ctx.types$)),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](21,14,ctx.confirmMessage),\"\\n            \"),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](20,item_delete_component_c1,ctx.itemPageRoute)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n                \",core[\"ɵɵpipeBind1\"](25,16,ctx.cancelMessage),\"\\n            \"))},directives:[modify_item_overview_component.a,var_directive.a,fesm2015_router.h,common.u,common.t,listable_object_component_loader_component.a],pipes:[ngx_translate_core.e,common.b],encapsulation:2}),ItemDeleteComponent})();class ItemOperation{constructor(operationKey,operationUrl,featureID,disabled=!1,authorized=!0){this.operationKey=operationKey,this.operationUrl=operationUrl,this.featureID=featureID,this.authorized=authorized,this.setDisabled(disabled)}setDisabled(disabled){this.disabled=disabled}}var mergeMap=__webpack_require__(\"5+tZ\"),distinctUntilChanged=__webpack_require__(\"/uUt\"),toArray=__webpack_require__(\"IAdc\"),BehaviorSubject=__webpack_require__(\"2Vo4\"),from=__webpack_require__(\"Cfvw\"),feature_id=__webpack_require__(\"FU+A\"),authorization_data_service=__webpack_require__(\"1mcE\");function ItemOperationComponent_span_9_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"span\"),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"button\",5),core[\"ɵɵtext\"](3),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](5,\"\\n  \"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r0=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"disabled\",ctx_r0.operation.disabled)(\"routerLink\",ctx_r0.operation.operationUrl),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n      \",core[\"ɵɵpipeBind1\"](4,3,\"item.edit.tabs.status.buttons.\"+ctx_r0.operation.operationKey+\".button\"),\"\\n    \")}}function ItemOperationComponent_span_11_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",6),core[\"ɵɵpipe\"](1,\"translate\"),core[\"ɵɵtext\"](2,\"\\n    \"),core[\"ɵɵelementStart\"](3,\"button\",7),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n  \"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r1=core[\"ɵɵnextContext\"]();core[\"ɵɵproperty\"](\"ngbTooltip\",core[\"ɵɵpipeBind1\"](1,3,\"item.edit.tabs.status.buttons.unauthorized\")),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"disabled\",!0),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n      \",core[\"ɵɵpipeBind1\"](5,5,\"item.edit.tabs.status.buttons.\"+ctx_r1.operation.operationKey+\".button\"),\"\\n    \")}}let item_operation_component_ItemOperationComponent=(()=>{class ItemOperationComponent{}return ItemOperationComponent.ɵfac=function(t){return new(t||ItemOperationComponent)},ItemOperationComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemOperationComponent,selectors:[[\"ds-item-operation\"]],inputs:{operation:\"operation\"},decls:14,vars:5,consts:[[1,\"col-3\",\"float-left\",\"d-flex\",\"h-100\",\"action-label\"],[1,\"justify-content-center\",\"align-self-center\"],[1,\"col-9\",\"float-left\",\"action-button\"],[4,\"ngIf\"],[3,\"ngbTooltip\",4,\"ngIf\"],[1,\"btn\",\"btn-outline-primary\",3,\"disabled\",\"routerLink\"],[3,\"ngbTooltip\"],[1,\"btn\",\"btn-outline-primary\",3,\"disabled\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n      \"),core[\"ɵɵelementStart\"](2,\"span\",1),core[\"ɵɵtext\"](3),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](5,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n\"),core[\"ɵɵelementStart\"](7,\"div\",2),core[\"ɵɵtext\"](8,\"\\n  \"),core[\"ɵɵtemplate\"](9,ItemOperationComponent_span_9_Template,6,5,\"span\",3),core[\"ɵɵtext\"](10,\"\\n  \"),core[\"ɵɵtemplate\"](11,ItemOperationComponent_span_11_Template,7,7,\"span\",4),core[\"ɵɵtext\"](12,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n        \",core[\"ɵɵpipeBind1\"](4,3,\"item.edit.tabs.status.buttons.\"+ctx.operation.operationKey+\".label\"),\"\\n      \"),core[\"ɵɵadvance\"](6),core[\"ɵɵproperty\"](\"ngIf\",ctx.operation.authorized),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",!ctx.operation.authorized))},directives:[common.u,fesm2015_router.h,ng_bootstrap.gb],pipes:[ngx_translate_core.e],encapsulation:2}),ItemOperationComponent})();function ItemStatusComponent_div_6_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",7),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",3),core[\"ɵɵtext\"](3),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](5,\"\\n    \"),core[\"ɵɵelementStart\"](6,\"div\",8),core[\"ɵɵtext\"](7),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](8,\"\\n  \"),core[\"ɵɵelementEnd\"]()),2&rf){const statusKey_r2=ctx.$implicit,ctx_r0=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n      \",core[\"ɵɵpipeBind1\"](4,3,\"item.edit.tabs.status.labels.\"+statusKey_r2),\":\\n    \"),core[\"ɵɵadvance\"](3),core[\"ɵɵpropertyInterpolate1\"](\"id\",\"status-\",statusKey_r2,\"\"),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n      \",ctx_r0.statusData[statusKey_r2],\"\\n    \")}}function ItemStatusComponent_div_20_ds_item_operation_2_Template(rf,ctx){if(1&rf&&core[\"ɵɵelement\"](0,\"ds-item-operation\",11),2&rf){const operation_r3=core[\"ɵɵnextContext\"]().$implicit;core[\"ɵɵproperty\"](\"operation\",operation_r3)}}const item_status_component_c0=function(a0){return{\"pt-3\":a0}};function ItemStatusComponent_div_20_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",9),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵtemplate\"](2,ItemStatusComponent_div_20_ds_item_operation_2_Template,1,1,\"ds-item-operation\",10),core[\"ɵɵtext\"](3,\"\\n  \"),core[\"ɵɵelementEnd\"]()),2&rf){const operation_r3=ctx.$implicit;core[\"ɵɵproperty\"](\"ngClass\",core[\"ɵɵpureFunction1\"](2,item_status_component_c0,operation_r3)),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",operation_r3)}}let item_status_component_ItemStatusComponent=(()=>{class ItemStatusComponent{constructor(route,authorizationService){this.route=route,this.authorizationService=authorizationService,this.operations$=new BehaviorSubject.a([])}ngOnInit(){this.itemRD$=this.route.parent.data.pipe(Object(map.a)((data=>data.dso))),this.itemRD$.pipe(Object(first.a)(),Object(map.a)((data=>data.payload))).subscribe((item=>{this.statusData=Object.assign({id:item.id,handle:item.handle,lastModified:item.lastModified}),this.statusDataKeys=Object.keys(this.statusData);const operations=[];operations.push(new ItemOperation(\"authorizations\",this.getCurrentUrl(item)+\"/authorizations\",feature_id.a.CanManagePolicies,!0)),operations.push(new ItemOperation(\"mappedCollections\",this.getCurrentUrl(item)+\"/mapper\",feature_id.a.CanManageMappings,!0)),operations.push(item.isWithdrawn?new ItemOperation(\"reinstate\",this.getCurrentUrl(item)+\"/reinstate\",feature_id.a.ReinstateItem,!0):new ItemOperation(\"withdraw\",this.getCurrentUrl(item)+\"/withdraw\",feature_id.a.WithdrawItem,!0)),operations.push(item.isDiscoverable?new ItemOperation(\"private\",this.getCurrentUrl(item)+\"/private\",feature_id.a.CanMakePrivate,!0):new ItemOperation(\"public\",this.getCurrentUrl(item)+\"/public\",feature_id.a.CanMakePrivate,!0)),operations.push(new ItemOperation(\"delete\",this.getCurrentUrl(item)+\"/delete\",feature_id.a.CanDelete,!0)),operations.push(new ItemOperation(\"move\",this.getCurrentUrl(item)+\"/move\",feature_id.a.CanMove,!0)),this.operations$.next(operations),Object(from.a)(operations).pipe(Object(mergeMap.a)((operation=>Object(empty_util.b)(operation.featureID)?this.authorizationService.isAuthorized(operation.featureID,item.self).pipe(Object(distinctUntilChanged.a)(),Object(map.a)((authorized=>new ItemOperation(operation.operationKey,operation.operationUrl,operation.featureID,!authorized,authorized)))):[operation])),Object(toArray.a)()).subscribe((ops=>this.operations$.next(ops)))})),this.itemPageRoute$=this.itemRD$.pipe(Object(operators.d)(),Object(map.a)((item=>Object(item_page_routing_paths.f)(item))))}getCurrentUrl(item){return Object(item_page_routing_paths.e)(item)}trackOperation(index,operation){return Object(empty_util.b)(operation)?operation.operationKey:void 0}}return ItemStatusComponent.ɵfac=function(t){return new(t||ItemStatusComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](authorization_data_service.a))},ItemStatusComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemStatusComponent,selectors:[[\"ds-item-status\"]],decls:24,vars:16,consts:[[1,\"mt-2\"],[1,\"row\"],[\"class\",\"w-100\",4,\"ngFor\",\"ngForOf\"],[1,\"col-3\",\"float-left\",\"status-label\"],[\"id\",\"status-itemPage\",1,\"col-9\",\"float-left\",\"status-data\"],[3,\"routerLink\"],[\"class\",\"w-100\",3,\"ngClass\",4,\"ngFor\",\"ngForOf\"],[1,\"w-100\"],[1,\"col-9\",\"float-left\",\"status-data\",3,\"id\"],[1,\"w-100\",3,\"ngClass\"],[3,\"operation\",4,\"ngIf\"],[3,\"operation\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"p\",0),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](3,\"\\n\"),core[\"ɵɵelementStart\"](4,\"div\",1),core[\"ɵɵtext\"](5,\"\\n  \"),core[\"ɵɵtemplate\"](6,ItemStatusComponent_div_6_Template,9,5,\"div\",2),core[\"ɵɵtext\"](7,\"\\n  \"),core[\"ɵɵelementStart\"](8,\"div\",3),core[\"ɵɵtext\"](9),core[\"ɵɵpipe\"](10,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n  \"),core[\"ɵɵelementStart\"](12,\"div\",4),core[\"ɵɵtext\"](13,\"\\n    \"),core[\"ɵɵelementStart\"](14,\"a\",5),core[\"ɵɵpipe\"](15,\"async\"),core[\"ɵɵtext\"](16),core[\"ɵɵpipe\"](17,\"async\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](18,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](19,\"\\n\\n  \"),core[\"ɵɵtemplate\"](20,ItemStatusComponent_div_20_Template,4,4,\"div\",6),core[\"ɵɵpipe\"](21,\"async\"),core[\"ɵɵtext\"](22,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,6,\"item.edit.tabs.status.description\")),core[\"ɵɵadvance\"](5),core[\"ɵɵproperty\"](\"ngForOf\",ctx.statusDataKeys),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n    \",core[\"ɵɵpipeBind1\"](10,8,\"item.edit.tabs.status.labels.itemPage\"),\":\\n  \"),core[\"ɵɵadvance\"](5),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpipeBind1\"](15,10,ctx.itemPageRoute$)),core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](17,12,ctx.itemPageRoute$)),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngForOf\",core[\"ɵɵpipeBind1\"](21,14,ctx.operations$)))},directives:[common.t,fesm2015_router.j,common.r,common.u,item_operation_component_ItemOperationComponent],pipes:[ngx_translate_core.e,common.b],encapsulation:2,data:{animation:[fade.a,fade.c]}}),ItemStatusComponent})();var item_metadata_component=__webpack_require__(\"5FsK\"),abstract_item_update_component=__webpack_require__(\"d/jG\"),zip=__webpack_require__(\"1uah\"),object_updates_actions=__webpack_require__(\"X8f1\"),paginated_search_options_model=__webpack_require__(\"g7AC\");class ResponsiveColumnSizes{constructor(xs,sm,md,lg,xl){this.xs=xs,this.sm=sm,this.md=md,this.lg=lg,this.xl=xl}buildClasses(){return`col-${this.xs} col-sm-${this.sm} col-md-${this.md} col-lg-${this.lg} col-xl-${this.xl}`}}class responsive_table_sizes_ResponsiveTableSizes{constructor(columns){this.columns=columns}combineColumns(start,end){if(start<end&&Object(empty_util.b)(this.columns[start])&&Object(empty_util.b)(this.columns[end])){let xs=this.columns[start].xs,sm=this.columns[start].sm,md=this.columns[start].md,lg=this.columns[start].lg,xl=this.columns[start].xl;for(let i=start+1;i<end+1;i++)xs+=this.columns[i].xs,sm+=this.columns[i].sm,md+=this.columns[i].md,lg+=this.columns[i].lg,xl+=this.columns[i].xl;return new ResponsiveColumnSizes(xs,sm,md,lg,xl)}}}var bitstream_data_service=__webpack_require__(\"PCBh\"),object_cache_service=__webpack_require__(\"mycY\"),request_service=__webpack_require__(\"X/78\"),bundle_data_service=__webpack_require__(\"yhw/\");const item_edit_bitstream_drag_handle_component_c0=[\"handleView\"];function ItemEditBitstreamDragHandleComponent_ng_template_0_Template(rf,ctx){1&rf&&(core[\"ɵɵtext\"](0,\"\\n  \"),core[\"ɵɵelementStart\"](1,\"div\",1),core[\"ɵɵtext\"](2,\"\\n    \"),core[\"ɵɵelement\"](3,\"i\",2),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵtext\"](5,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"title\",core[\"ɵɵpipeBind1\"](4,1,\"item.edit.bitstreams.edit.buttons.drag\")))}let item_edit_bitstream_drag_handle_component_ItemEditBitstreamDragHandleComponent=(()=>{class ItemEditBitstreamDragHandleComponent{constructor(viewContainerRef){this.viewContainerRef=viewContainerRef}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.handleView)}}return ItemEditBitstreamDragHandleComponent.ɵfac=function(t){return new(t||ItemEditBitstreamDragHandleComponent)(core[\"ɵɵdirectiveInject\"](core.ViewContainerRef))},ItemEditBitstreamDragHandleComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemEditBitstreamDragHandleComponent,selectors:[[\"ds-item-edit-bitstream-drag-handle\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core[\"ɵɵstaticViewQuery\"](item_edit_bitstream_drag_handle_component_c0,!0),2&rf&&core[\"ɵɵqueryRefresh\"](_t=core[\"ɵɵloadQuery\"]())&&(ctx.handleView=_t.first)},decls:3,vars:0,consts:[[\"handleView\",\"\"],[1,\"drag-handle\",\"text-muted\",\"float-left\",\"p-1\",\"mr-2\"],[1,\"fas\",\"fa-grip-vertical\",\"fa-fw\",3,\"title\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵtemplate\"](0,ItemEditBitstreamDragHandleComponent_ng_template_0_Template,7,3,\"ng-template\",null,0,core[\"ɵɵtemplateRefExtractor\"]),core[\"ɵɵtext\"](2,\"\\n\"))},pipes:[ngx_translate_core.e],styles:[\".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}\"]}),ItemEditBitstreamDragHandleComponent})();var pagination_component_options_model=__webpack_require__(\"7DXY\"),drag_drop=__webpack_require__(\"ltgo\"),pagination_component=__webpack_require__(\"Exvd\"),item_relationships_utils=__webpack_require__(\"eReX\"),object_values_pipe=__webpack_require__(\"snSO\"),pagination_service=__webpack_require__(\"MFUF\");let abstract_paginated_drag_and_drop_list_component_AbstractPaginatedDragAndDropListComponent=(()=>{class AbstractPaginatedDragAndDropListComponent{constructor(objectUpdatesService,elRef,objectValuesPipe,paginationService){this.objectUpdatesService=objectUpdatesService,this.elRef=elRef,this.objectValuesPipe=objectValuesPipe,this.paginationService=paginationService,this.dropObject=new core.EventEmitter,this.pageSize=10,this.options=Object.assign(new pagination_component_options_model.a,{id:\"dad\",currentPage:1,pageSize:this.pageSize}),this.currentPage$=new BehaviorSubject.a(this.options),this.loading$=new BehaviorSubject.a(!1),this.subs=[]}ngOnInit(){this.initializeObjectsRD(),this.initializeURL(),this.initializeUpdates(),this.initializePagination()}initializePagination(){this.paginationService.getCurrentPagination(this.options.id,this.options).subscribe((currentPagination=>{this.currentPage$.next(currentPagination)}))}initializeUpdates(){this.objectsRD$.pipe(Object(operators.i)(),Object(operators.s)()).subscribe((objects=>{this.objectUpdatesService.initialize(this.url,objects,new Date)})),this.updates$=this.objectsRD$.pipe(Object(operators.c)(),Object(operators.s)(),Object(switchMap.a)((objects=>this.objectUpdatesService.getFieldUpdatesExclusive(this.url,objects)))),this.subs.push(this.updates$.pipe(Object(map.a)((fieldUpdates=>this.objectValuesPipe.transform(fieldUpdates))),Object(distinctUntilChanged.a)(Object(item_relationships_utils.b)((fieldUpdate=>Object(empty_util.b)(fieldUpdate)&&Object(empty_util.b)(fieldUpdate.field)?fieldUpdate.field.uuid:void 0)))).subscribe((updateValues=>{this.customOrder=updateValues.map((fieldUpdate=>fieldUpdate.field.uuid)),this.loading$.next(!1)})),this.loading$.subscribe((loading=>this.options.disabled=loading)))}drop(event){const dragIndex=event.previousIndex;let dropIndex=event.currentIndex;const dragPage=this.currentPage$.value.currentPage-1;let dropPage=this.currentPage$.value.currentPage-1;const droppedOnElement=this.elRef.nativeElement.querySelector(\".page-item:hover\");if(Object(empty_util.b)(droppedOnElement)&&Object(empty_util.b)(droppedOnElement.textContent)){const droppedPage=Number(droppedOnElement.textContent);Object(empty_util.b)(droppedPage)&&!Number.isNaN(droppedPage)&&(dropPage=droppedPage-1,dropIndex=0)}const isNewPage=dragPage!==dropPage;isNewPage||dragIndex===dropIndex||Object(drag_drop.h)(this.customOrder,dragIndex,dropIndex);const redirectPage=dropPage+1,fromIndex=dragPage*this.pageSize+dragIndex,toIndex=dropPage*this.pageSize+dropIndex;fromIndex!==toIndex&&(isNewPage&&this.loading$.next(!0),this.dropObject.emit(Object.assign({fromIndex:fromIndex,toIndex:toIndex,finish:()=>{isNewPage&&this.paginationComponent.doPageChange(redirectPage)}})))}ngOnDestroy(){this.subs.filter((sub=>Object(empty_util.b)(sub))).forEach((sub=>sub.unsubscribe())),this.paginationService.clearPagination(this.options.id)}}return AbstractPaginatedDragAndDropListComponent.ɵfac=function(t){return new(t||AbstractPaginatedDragAndDropListComponent)(core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](core.ElementRef),core[\"ɵɵdirectiveInject\"](object_values_pipe.a),core[\"ɵɵdirectiveInject\"](pagination_service.a))},AbstractPaginatedDragAndDropListComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:AbstractPaginatedDragAndDropListComponent,selectors:[[\"ds-paginated-drag-drop-abstract\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core[\"ɵɵviewQuery\"](pagination_component.a,!0),2&rf&&core[\"ɵɵqueryRefresh\"](_t=core[\"ɵɵloadQuery\"]())&&(ctx.paginationComponent=_t.first)},outputs:{dropObject:\"dropObject\"},decls:0,vars:0,template:function(rf,ctx){},encapsulation:2}),AbstractPaginatedDragAndDropListComponent})();var lodash=__webpack_require__(\"LvDl\"),dso_name_service=__webpack_require__(\"C765\");const item_edit_bitstream_component_c0=[\"bitstreamView\"],item_edit_bitstream_component_c1=function(a1){return[\"/bitstreams/\",a1,\"edit\"]};function ItemEditBitstreamComponent_ng_template_0_Template(rf,ctx){if(1&rf){const _r3=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵtext\"](0,\"\\n  \"),core[\"ɵɵelementStart\"](1,\"div\"),core[\"ɵɵtext\"](2,\"\\n    \"),core[\"ɵɵprojection\"](3),core[\"ɵɵtext\"](4,\"\\n    \"),core[\"ɵɵelementStart\"](5,\"div\",1),core[\"ɵɵtext\"](6),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](7,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](8,\"\\n  \"),core[\"ɵɵelementStart\"](9,\"div\"),core[\"ɵɵtext\"](10,\"\\n    \"),core[\"ɵɵelementStart\"](11,\"div\",2),core[\"ɵɵtext\"](12),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](14,\"\\n  \"),core[\"ɵɵelementStart\"](15,\"div\"),core[\"ɵɵtext\"](16,\"\\n    \"),core[\"ɵɵelementStart\"](17,\"div\",3),core[\"ɵɵtext\"](18),core[\"ɵɵpipe\"](19,\"async\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](20,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](21,\"\\n  \"),core[\"ɵɵelementStart\"](22,\"div\"),core[\"ɵɵtext\"](23,\"\\n    \"),core[\"ɵɵelementStart\"](24,\"div\",3),core[\"ɵɵtext\"](25,\"\\n      \"),core[\"ɵɵelementStart\"](26,\"div\",4),core[\"ɵɵtext\"](27,\"\\n        \"),core[\"ɵɵelementStart\"](28,\"a\",5),core[\"ɵɵpipe\"](29,\"translate\"),core[\"ɵɵtext\"](30,\"\\n          \"),core[\"ɵɵelement\"](31,\"i\",6),core[\"ɵɵtext\"](32,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](33,\"\\n        \"),core[\"ɵɵelementStart\"](34,\"button\",7),core[\"ɵɵpipe\"](35,\"translate\"),core[\"ɵɵtext\"](36,\"\\n          \"),core[\"ɵɵelement\"](37,\"i\",8),core[\"ɵɵtext\"](38,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](39,\"\\n        \"),core[\"ɵɵelementStart\"](40,\"button\",9),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r3),core[\"ɵɵnextContext\"]().remove()})),core[\"ɵɵpipe\"](41,\"translate\"),core[\"ɵɵtext\"](42,\"\\n          \"),core[\"ɵɵelement\"](43,\"i\",10),core[\"ɵɵtext\"](44,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](45,\"\\n        \"),core[\"ɵɵelementStart\"](46,\"button\",11),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r3),core[\"ɵɵnextContext\"]().undo()})),core[\"ɵɵpipe\"](47,\"translate\"),core[\"ɵɵtext\"](48,\"\\n          \"),core[\"ɵɵelement\"](49,\"i\",12),core[\"ɵɵtext\"](50,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](51,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](52,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](53,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](54,\"\\n\")}if(2&rf){const ctx_r1=core[\"ɵɵnextContext\"]();var tmp_5_0;core[\"ɵɵadvance\"](1),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r1.columnSizes.columns[0].buildClasses(),\" row-element d-flex\"),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\"\\n      \",ctx_r1.bitstreamName,\"\\n    \"),core[\"ɵɵadvance\"](3),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r1.columnSizes.columns[1].buildClasses(),\" row-element d-flex align-items-center\"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n      \",null==ctx_r1.bitstream?null:ctx_r1.bitstream.firstMetadataValue(\"dc.description\"),\"\\n    \"),core[\"ɵɵadvance\"](3),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r1.columnSizes.columns[2].buildClasses(),\" row-element d-flex align-items-center\"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n      \",null==(tmp_5_0=core[\"ɵɵpipeBind1\"](19,23,ctx_r1.format$))?null:tmp_5_0.shortDescription,\"\\n    \"),core[\"ɵɵadvance\"](4),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r1.columnSizes.columns[3].buildClasses(),\" row-element d-flex align-items-center\"),core[\"ɵɵadvance\"](6),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](29,25,\"item.edit.bitstreams.edit.buttons.download\")),core[\"ɵɵproperty\"](\"href\",null==ctx_r1.bitstream||null==ctx_r1.bitstream._links||null==ctx_r1.bitstream._links.content?null:ctx_r1.bitstream._links.content.href,core[\"ɵɵsanitizeUrl\"]),core[\"ɵɵadvance\"](6),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](35,27,\"item.edit.bitstreams.edit.buttons.edit\")),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](33,item_edit_bitstream_component_c1,ctx_r1.bitstream.id)),core[\"ɵɵadvance\"](6),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](41,29,\"item.edit.bitstreams.edit.buttons.remove\")),core[\"ɵɵproperty\"](\"disabled\",!ctx_r1.canRemove()),core[\"ɵɵadvance\"](6),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](47,31,\"item.edit.bitstreams.edit.buttons.undo\")),core[\"ɵɵproperty\"](\"disabled\",!ctx_r1.canUndo())}}const _c2=[[[\"\",\"slot\",\"drag-handle\"]]],_c3=[\"[slot=drag-handle]\"];let item_edit_bitstream_component_ItemEditBitstreamComponent=(()=>{class ItemEditBitstreamComponent{constructor(objectUpdatesService,dsoNameService,viewContainerRef){this.objectUpdatesService=objectUpdatesService,this.dsoNameService=dsoNameService,this.viewContainerRef=viewContainerRef}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.bitstreamView)}ngOnChanges(changes){this.bitstream=Object(lodash.cloneDeep)(this.fieldUpdate.field),this.bitstreamName=this.dsoNameService.getName(this.bitstream),this.format$=this.bitstream.format.pipe(Object(operators.i)(),Object(operators.o)())}remove(){this.objectUpdatesService.saveRemoveFieldUpdate(this.bundleUrl,this.bitstream)}undo(){this.objectUpdatesService.removeSingleFieldUpdate(this.bundleUrl,this.bitstream.uuid)}canRemove(){return this.fieldUpdate.changeType!==object_updates_actions.c.REMOVE}canUndo(){return this.fieldUpdate.changeType>=0}}return ItemEditBitstreamComponent.ɵfac=function(t){return new(t||ItemEditBitstreamComponent)(core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](dso_name_service.a),core[\"ɵɵdirectiveInject\"](core.ViewContainerRef))},ItemEditBitstreamComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemEditBitstreamComponent,selectors:[[\"ds-item-edit-bitstream\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core[\"ɵɵstaticViewQuery\"](item_edit_bitstream_component_c0,!0),2&rf&&core[\"ɵɵqueryRefresh\"](_t=core[\"ɵɵloadQuery\"]())&&(ctx.bitstreamView=_t.first)},inputs:{fieldUpdate:\"fieldUpdate\",bundleUrl:\"bundleUrl\",columnSizes:\"columnSizes\"},features:[core[\"ɵɵNgOnChangesFeature\"]],ngContentSelectors:_c3,decls:3,vars:0,consts:[[\"bitstreamView\",\"\"],[1,\"float-left\",\"d-flex\",\"align-items-center\"],[1,\"w-100\"],[1,\"text-center\",\"w-100\"],[1,\"btn-group\",\"relationship-action-buttons\"],[1,\"btn\",\"btn-outline-primary\",\"btn-sm\",3,\"href\",\"title\"],[1,\"fas\",\"fa-download\",\"fa-fw\"],[1,\"btn\",\"btn-outline-primary\",\"btn-sm\",3,\"routerLink\",\"title\"],[1,\"fas\",\"fa-edit\",\"fa-fw\"],[1,\"btn\",\"btn-outline-danger\",\"btn-sm\",3,\"disabled\",\"title\",\"click\"],[1,\"fas\",\"fa-trash-alt\",\"fa-fw\"],[1,\"btn\",\"btn-outline-warning\",\"btn-sm\",3,\"disabled\",\"title\",\"click\"],[1,\"fas\",\"fa-undo-alt\",\"fa-fw\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵprojectionDef\"](_c2),core[\"ɵɵtemplate\"](0,ItemEditBitstreamComponent_ng_template_0_Template,55,35,\"ng-template\",null,0,core[\"ɵɵtemplateRefExtractor\"]),core[\"ɵɵtext\"](2,\"\\n\"))},directives:[fesm2015_router.h],pipes:[common.b,ngx_translate_core.e],styles:[\".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}\"]}),ItemEditBitstreamComponent})();var loading_component=__webpack_require__(\"Frqi\");const paginated_drag_and_drop_bitstream_list_component_c0=function(a0,a1,a2,a3){return{\"table-warning\":a0,\"table-danger\":a1,\"table-success\":a2,\"bg-white\":a3}};function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_ng_container_3_div_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",7),core[\"ɵɵtext\"](1,\"\\n          \"),core[\"ɵɵelementStart\"](2,\"ds-item-edit-bitstream\",8),core[\"ɵɵtext\"](3,\"\\n            \"),core[\"ɵɵelementStart\"](4,\"div\",9),core[\"ɵɵtext\"](5,\"\\n              \"),core[\"ɵɵelement\"](6,\"ds-item-edit-bitstream-drag-handle\"),core[\"ɵɵtext\"](7,\"\\n            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](8,\"\\n          \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n        \"),core[\"ɵɵelementEnd\"]()),2&rf){const uuid_r7=ctx.$implicit,updates_r4=core[\"ɵɵnextContext\"](2).ngVar,ctx_r6=core[\"ɵɵnextContext\"](3);core[\"ɵɵproperty\"](\"id\",uuid_r7)(\"ngClass\",core[\"ɵɵpureFunction4\"](5,paginated_drag_and_drop_bitstream_list_component_c0,0===updates_r4[uuid_r7].changeType,2===updates_r4[uuid_r7].changeType,1===updates_r4[uuid_r7].changeType,void 0===updates_r4[uuid_r7].changeType)),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"fieldUpdate\",updates_r4[uuid_r7])(\"bundleUrl\",ctx_r6.bundle.self)(\"columnSizes\",ctx_r6.columnSizes)}}function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_ng_container_3_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n        \"),core[\"ɵɵtemplate\"](2,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_ng_container_3_div_2_Template,10,10,\"div\",6),core[\"ɵɵtext\"](3,\"\\n      \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const ctx_r5=core[\"ɵɵnextContext\"](4);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",ctx_r5.customOrder)}}const paginated_drag_and_drop_bitstream_list_component_c1=function(a0){return{\"mb-3\":a0}};function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_Template(rf,ctx){if(1&rf){const _r10=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",5),core[\"ɵɵlistener\"](\"cdkDropListDropped\",(function($event){return core[\"ɵɵrestoreView\"](_r10),core[\"ɵɵnextContext\"](3).drop($event)})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵtext\"](2,\"\\n      \"),core[\"ɵɵtemplate\"](3,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_ng_container_3_Template,4,1,\"ng-container\",2),core[\"ɵɵtext\"](4,\"\\n    \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const updates_r4=ctx.ngVar,ctx_r3=core[\"ɵɵnextContext\"](3);var tmp_1_0;core[\"ɵɵproperty\"](\"id\",ctx_r3.bundle.id)(\"ngClass\",core[\"ɵɵpureFunction1\"](5,paginated_drag_and_drop_bitstream_list_component_c1,(null==(tmp_1_0=core[\"ɵɵpipeBind1\"](1,3,ctx_r3.objectsRD$))||null==tmp_1_0.payload?null:tmp_1_0.payload.totalElements)>ctx_r3.pageSize)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",updates_r4)}}function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵtemplate\"](2,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_Template,5,7,\"div\",4),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵtext\"](4,\"\\n  \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const ctx_r1=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](3,1,ctx_r1.updates$))}}function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ds_loading_7_Template(rf,ctx){1&rf&&(core[\"ɵɵelement\"](0,\"ds-loading\",10),core[\"ɵɵpipe\"](1,\"translate\")),2&rf&&core[\"ɵɵproperty\"](\"message\",core[\"ɵɵpipeBind1\"](1,1,\"loading.bitstreams\"))}function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"ds-pagination\",1),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵpipe\"](2,\"async\"),core[\"ɵɵtext\"](3,\"\\n  \"),core[\"ɵɵtemplate\"](4,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_Template,5,3,\"ng-container\",2),core[\"ɵɵpipe\"](5,\"async\"),core[\"ɵɵtext\"](6,\"\\n  \"),core[\"ɵɵtemplate\"](7,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ds_loading_7_Template,2,3,\"ds-loading\",3),core[\"ɵɵpipe\"](8,\"async\"),core[\"ɵɵtext\"](9,\"\\n\"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r0=core[\"ɵɵnextContext\"]();var tmp_4_0,tmp_5_0;core[\"ɵɵproperty\"](\"hideGear\",!0)(\"hidePagerWhenSinglePage\",!0)(\"hidePaginationDetail\",!0)(\"paginationOptions\",ctx_r0.options)(\"pageInfoState\",null==(tmp_4_0=core[\"ɵɵpipeBind1\"](1,8,ctx_r0.objectsRD$))?null:tmp_4_0.payload)(\"collectionSize\",null==(tmp_5_0=core[\"ɵɵpipeBind1\"](2,10,ctx_r0.objectsRD$))||null==tmp_5_0.payload?null:tmp_5_0.payload.totalElements),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](5,12,ctx_r0.loading$)),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](8,14,ctx_r0.loading$))}}let paginated_drag_and_drop_bitstream_list_component_PaginatedDragAndDropBitstreamListComponent=(()=>{class PaginatedDragAndDropBitstreamListComponent extends abstract_paginated_drag_and_drop_list_component_AbstractPaginatedDragAndDropListComponent{constructor(objectUpdatesService,elRef,objectValuesPipe,bundleService,paginationService,requestService){super(objectUpdatesService,elRef,objectValuesPipe,paginationService),this.objectUpdatesService=objectUpdatesService,this.elRef=elRef,this.objectValuesPipe=objectValuesPipe,this.bundleService=bundleService,this.paginationService=paginationService,this.requestService=requestService}ngOnInit(){super.ngOnInit()}initializeObjectsRD(){this.objectsRD$=this.currentPage$.pipe(Object(switchMap.a)((page=>{const paginatedOptions=new paginated_search_options_model.a({pagination:Object.assign({},page)});return this.bundleService.getBitstreamsEndpoint(this.bundle.id,paginatedOptions).pipe(Object(switchMap.a)((href=>this.requestService.hasByHref$(href))),Object(switchMap.a)((()=>this.bundleService.getBitstreams(this.bundle.id,paginatedOptions,Object(follow_link_config_model.a)(\"format\")))))})))}initializeURL(){this.url=this.bundle.self}}return PaginatedDragAndDropBitstreamListComponent.ɵfac=function(t){return new(t||PaginatedDragAndDropBitstreamListComponent)(core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](core.ElementRef),core[\"ɵɵdirectiveInject\"](object_values_pipe.a),core[\"ɵɵdirectiveInject\"](bundle_data_service.a),core[\"ɵɵdirectiveInject\"](pagination_service.a),core[\"ɵɵdirectiveInject\"](request_service.a))},PaginatedDragAndDropBitstreamListComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:PaginatedDragAndDropBitstreamListComponent,selectors:[[\"ds-paginated-drag-and-drop-bitstream-list\"]],inputs:{bundle:\"bundle\",columnSizes:\"columnSizes\"},features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:3,vars:3,consts:[[3,\"hideGear\",\"hidePagerWhenSinglePage\",\"hidePaginationDetail\",\"paginationOptions\",\"pageInfoState\",\"collectionSize\",4,\"ngIf\"],[3,\"hideGear\",\"hidePagerWhenSinglePage\",\"hidePaginationDetail\",\"paginationOptions\",\"pageInfoState\",\"collectionSize\"],[4,\"ngIf\"],[3,\"message\",4,\"ngIf\"],[\"class\",\"bundle-bitstreams-list\",\"cdkDropList\",\"\",3,\"id\",\"ngClass\",\"cdkDropListDropped\",4,\"ngVar\"],[\"cdkDropList\",\"\",1,\"bundle-bitstreams-list\",3,\"id\",\"ngClass\",\"cdkDropListDropped\"],[\"class\",\"row bitstream-row\",\"cdkDrag\",\"\",3,\"id\",\"ngClass\",4,\"ngFor\",\"ngForOf\"],[\"cdkDrag\",\"\",1,\"row\",\"bitstream-row\",3,\"id\",\"ngClass\"],[3,\"fieldUpdate\",\"bundleUrl\",\"columnSizes\"],[\"slot\",\"drag-handle\",\"cdkDragHandle\",\"\",1,\"d-flex\",\"align-items-center\"],[3,\"message\"]],template:function(rf,ctx){var tmp_0_0;1&rf&&(core[\"ɵɵtemplate\"](0,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_Template,10,16,\"ds-pagination\",0),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵtext\"](2,\"\\n\")),2&rf&&core[\"ɵɵproperty\"](\"ngIf\",null==(tmp_0_0=core[\"ɵɵpipeBind1\"](1,1,ctx.objectsRD$))?null:tmp_0_0.payload)},directives:[common.u,pagination_component.a,var_directive.a,drag_drop.e,common.r,common.t,drag_drop.a,item_edit_bitstream_component_ItemEditBitstreamComponent,drag_drop.b,item_edit_bitstream_drag_handle_component_ItemEditBitstreamDragHandleComponent,loading_component.a],pipes:[common.b,ngx_translate_core.e],styles:[\".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}\"]}),PaginatedDragAndDropBitstreamListComponent})();const item_edit_bitstream_bundle_component_c0=[\"bundleView\"],item_edit_bitstream_bundle_component_c1=function(a0){return{name:a0}},item_edit_bitstream_bundle_component_c2=function(a0){return[a0,\"bitstreams\",\"new\"]},item_edit_bitstream_bundle_component_c3=function(a0){return{bundle:a0}};function ItemEditBitstreamBundleComponent_ng_template_0_Template(rf,ctx){if(1&rf){const _r3=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵtext\"](0,\"\\n  \"),core[\"ɵɵelementStart\"](1,\"div\",1),core[\"ɵɵtext\"](2,\"\\n    \"),core[\"ɵɵelementStart\"](3,\"div\"),core[\"ɵɵtext\"](4,\"\\n      \"),core[\"ɵɵelement\"](5,\"ds-item-edit-bitstream-drag-handle\"),core[\"ɵɵtext\"](6,\"\\n      \"),core[\"ɵɵelementStart\"](7,\"div\",2),core[\"ɵɵtext\"](8),core[\"ɵɵpipe\"](9,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n    \"),core[\"ɵɵelementStart\"](12,\"div\"),core[\"ɵɵtext\"](13,\"\\n      \"),core[\"ɵɵelementStart\"](14,\"div\",3),core[\"ɵɵtext\"](15,\"\\n        \"),core[\"ɵɵelementStart\"](16,\"button\",4),core[\"ɵɵpipe\"](17,\"translate\"),core[\"ɵɵtext\"](18,\"\\n          \"),core[\"ɵɵelement\"](19,\"i\",5),core[\"ɵɵtext\"](20,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](21,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](22,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n  \"),core[\"ɵɵelementStart\"](25,\"ds-paginated-drag-and-drop-bitstream-list\",6),core[\"ɵɵlistener\"](\"dropObject\",(function($event){return core[\"ɵɵrestoreView\"](_r3),core[\"ɵɵnextContext\"]().dropObject.emit($event)})),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\")}if(2&rf){const ctx_r1=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](3),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r1.bundleNameColumn.buildClasses(),\" font-weight-bold row-element d-flex\"),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\"\\n        \",core[\"ɵɵpipeBind2\"](9,12,\"item.edit.bitstreams.bundle.name\",core[\"ɵɵpureFunction1\"](17,item_edit_bitstream_bundle_component_c1,ctx_r1.bundle.name)),\"\\n      \"),core[\"ɵɵadvance\"](4),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r1.columnSizes.columns[3].buildClasses(),\" text-center row-element\"),core[\"ɵɵadvance\"](4),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](17,15,\"item.edit.bitstreams.bundle.edit.buttons.upload\")),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](19,item_edit_bitstream_bundle_component_c2,ctx_r1.itemPageRoute))(\"queryParams\",core[\"ɵɵpureFunction1\"](21,item_edit_bitstream_bundle_component_c3,ctx_r1.bundle.id)),core[\"ɵɵadvance\"](9),core[\"ɵɵproperty\"](\"bundle\",ctx_r1.bundle)(\"columnSizes\",ctx_r1.columnSizes)}}let item_edit_bitstream_bundle_component_ItemEditBitstreamBundleComponent=(()=>{class ItemEditBitstreamBundleComponent{constructor(viewContainerRef){this.viewContainerRef=viewContainerRef,this.dropObject=new core.EventEmitter}ngOnInit(){this.bundleNameColumn=this.columnSizes.combineColumns(0,2),this.viewContainerRef.createEmbeddedView(this.bundleView),this.itemPageRoute=Object(item_page_routing_paths.f)(this.item)}}return ItemEditBitstreamBundleComponent.ɵfac=function(t){return new(t||ItemEditBitstreamBundleComponent)(core[\"ɵɵdirectiveInject\"](core.ViewContainerRef))},ItemEditBitstreamBundleComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemEditBitstreamBundleComponent,selectors:[[\"ds-item-edit-bitstream-bundle\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core[\"ɵɵstaticViewQuery\"](item_edit_bitstream_bundle_component_c0,!0),2&rf&&core[\"ɵɵqueryRefresh\"](_t=core[\"ɵɵloadQuery\"]())&&(ctx.bundleView=_t.first)},inputs:{bundle:\"bundle\",item:\"item\",columnSizes:\"columnSizes\"},outputs:{dropObject:\"dropObject\"},decls:3,vars:0,consts:[[\"bundleView\",\"\"],[1,\"row\",\"bundle-row\"],[1,\"float-left\",\"d-flex\",\"align-items-center\"],[1,\"btn-group\",\"bundle-action-buttons\"],[1,\"btn\",\"btn-outline-success\",\"btn-sm\",3,\"routerLink\",\"queryParams\",\"title\"],[1,\"fas\",\"fa-upload\",\"fa-fw\"],[3,\"bundle\",\"columnSizes\",\"dropObject\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵtemplate\"](0,ItemEditBitstreamBundleComponent_ng_template_0_Template,27,23,\"ng-template\",null,0,core[\"ɵɵtemplateRefExtractor\"]),core[\"ɵɵtext\"](2,\"\\n\"))},directives:[item_edit_bitstream_drag_handle_component_ItemEditBitstreamDragHandleComponent,fesm2015_router.h,paginated_drag_and_drop_bitstream_list_component_PaginatedDragAndDropBitstreamListComponent],pipes:[ngx_translate_core.e],styles:[\".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}\"]}),ItemEditBitstreamBundleComponent})();function ItemBitstreamsComponent_div_0_button_12_Template(rf,ctx){if(1&rf){const _r10=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",17),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r10),core[\"ɵɵnextContext\"](2).reinstate()})),core[\"ɵɵelement\"](1,\"i\",18),core[\"ɵɵtext\"](2,\"\\n      \"),core[\"ɵɵelementStart\"](3,\"span\",5),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n    \"),core[\"ɵɵelementEnd\"]()}2&rf&&(core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](5,1,\"item.edit.bitstreams.reinstate-button\"),\"\"))}function ItemBitstreamsComponent_div_0_button_24_Template(rf,ctx){if(1&rf){const _r12=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",19),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r12),core[\"ɵɵnextContext\"](2).discard()})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵelement\"](2,\"i\",20),core[\"ɵɵtext\"](3,\"\\n      \"),core[\"ɵɵelementStart\"](4,\"span\",5),core[\"ɵɵtext\"](5),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](7,\"\\n    \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r3=core[\"ɵɵnextContext\"](2);core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](1,2,ctx_r3.hasChanges())||ctx_r3.submitting),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](6,4,\"item.edit.bitstreams.discard-button\"),\"\")}}function ItemBitstreamsComponent_div_0_div_28_ds_item_edit_bitstream_bundle_23_Template(rf,ctx){if(1&rf){const _r16=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"ds-item-edit-bitstream-bundle\",24),core[\"ɵɵlistener\"](\"dropObject\",(function($event){core[\"ɵɵrestoreView\"](_r16);const bundle_r14=ctx.$implicit;return core[\"ɵɵnextContext\"](3).dropBitstream(bundle_r14,$event)})),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const bundle_r14=ctx.$implicit,ctx_r13=core[\"ɵɵnextContext\"](3);core[\"ɵɵproperty\"](\"bundle\",bundle_r14)(\"item\",ctx_r13.item)(\"columnSizes\",ctx_r13.columnSizes)}}function ItemBitstreamsComponent_div_0_div_28_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",21),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",22),core[\"ɵɵtext\"](3,\"\\n      \"),core[\"ɵɵelementStart\"](4,\"div\"),core[\"ɵɵtext\"](5,\"\\n        \"),core[\"ɵɵelement\"](6,\"ds-item-edit-bitstream-drag-handle\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n      \"),core[\"ɵɵelementStart\"](10,\"div\"),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n      \"),core[\"ɵɵelementStart\"](14,\"div\"),core[\"ɵɵtext\"](15),core[\"ɵɵpipe\"](16,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](17,\"\\n      \"),core[\"ɵɵelementStart\"](18,\"div\"),core[\"ɵɵtext\"](19),core[\"ɵɵpipe\"](20,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](21,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](22,\"\\n    \"),core[\"ɵɵtemplate\"](23,ItemBitstreamsComponent_div_0_div_28_ds_item_edit_bitstream_bundle_23_Template,2,3,\"ds-item-edit-bitstream-bundle\",23),core[\"ɵɵtext\"](24,\"\\n  \"),core[\"ɵɵelementEnd\"]()),2&rf){const bundles_r1=core[\"ɵɵnextContext\"]().ngVar,ctx_r4=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](4),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r4.columnSizes.columns[0].buildClasses(),\" row-element\"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n        \",core[\"ɵɵpipeBind1\"](8,17,\"item.edit.bitstreams.headers.name\"),\"\\n      \"),core[\"ɵɵadvance\"](3),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r4.columnSizes.columns[1].buildClasses(),\" row-element\"),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,19,\"item.edit.bitstreams.headers.description\")),core[\"ɵɵadvance\"](3),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r4.columnSizes.columns[2].buildClasses(),\" text-center row-element\"),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](16,21,\"item.edit.bitstreams.headers.format\")),core[\"ɵɵadvance\"](3),core[\"ɵɵclassMapInterpolate1\"](\"\",ctx_r4.columnSizes.columns[3].buildClasses(),\" text-center row-element\"),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](20,23,\"item.edit.bitstreams.headers.actions\")),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngForOf\",bundles_r1)}}function ItemBitstreamsComponent_div_0_div_30_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",25),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n    \",core[\"ɵɵpipeBind1\"](2,1,\"item.edit.bitstreams.empty\"),\"\\n  \"))}function ItemBitstreamsComponent_div_0_ds_loading_32_Template(rf,ctx){1&rf&&(core[\"ɵɵelement\"](0,\"ds-loading\",26),core[\"ɵɵpipe\"](1,\"translate\")),2&rf&&core[\"ɵɵpropertyInterpolate\"](\"message\",core[\"ɵɵpipeBind1\"](1,1,\"loading.bitstreams\"))}function ItemBitstreamsComponent_div_0_button_38_Template(rf,ctx){if(1&rf){const _r19=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",27),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r19),core[\"ɵɵnextContext\"](2).reinstate()})),core[\"ɵɵelement\"](1,\"i\",18),core[\"ɵɵtext\"](2,\"\\n        \"),core[\"ɵɵelementStart\"](3,\"span\",5),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n      \"),core[\"ɵɵelementEnd\"]()}2&rf&&(core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](5,1,\"item.edit.bitstreams.reinstate-button\"),\"\"))}function ItemBitstreamsComponent_div_0_button_50_Template(rf,ctx){if(1&rf){const _r21=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",19),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r21),core[\"ɵɵnextContext\"](2).discard()})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵelement\"](2,\"i\",20),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"span\",5),core[\"ɵɵtext\"](5),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](7,\"\\n      \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r8=core[\"ɵɵnextContext\"](2);core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](1,2,ctx_r8.hasChanges())||ctx_r8.submitting),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](6,4,\"item.edit.bitstreams.discard-button\"),\"\")}}const item_bitstreams_component_c0=function(a0){return[a0,\"bitstreams\",\"new\"]};function ItemBitstreamsComponent_div_0_Template(rf,ctx){if(1&rf){const _r23=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",1),core[\"ɵɵtext\"](1,\"\\n  \"),core[\"ɵɵelementStart\"](2,\"div\",2),core[\"ɵɵtext\"](3,\"\\n    \"),core[\"ɵɵelementStart\"](4,\"button\",3),core[\"ɵɵelement\"](5,\"i\",4),core[\"ɵɵtext\"](6,\"\\n      \"),core[\"ɵɵelementStart\"](7,\"span\",5),core[\"ɵɵtext\"](8),core[\"ɵɵpipe\"](9,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n    \"),core[\"ɵɵtemplate\"](12,ItemBitstreamsComponent_div_0_button_12_Template,7,3,\"button\",6),core[\"ɵɵpipe\"](13,\"async\"),core[\"ɵɵtext\"](14,\"\\n    \"),core[\"ɵɵelementStart\"](15,\"button\",7),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r23),core[\"ɵɵnextContext\"]().submit()})),core[\"ɵɵpipe\"](16,\"async\"),core[\"ɵɵelement\"](17,\"i\",8),core[\"ɵɵtext\"](18,\"\\n      \"),core[\"ɵɵelementStart\"](19,\"span\",5),core[\"ɵɵtext\"](20),core[\"ɵɵpipe\"](21,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](22,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n    \"),core[\"ɵɵtemplate\"](24,ItemBitstreamsComponent_div_0_button_24_Template,8,6,\"button\",9),core[\"ɵɵpipe\"](25,\"async\"),core[\"ɵɵtext\"](26,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](27,\"\\n\\n  \"),core[\"ɵɵtemplate\"](28,ItemBitstreamsComponent_div_0_div_28_Template,25,25,\"div\",10),core[\"ɵɵtext\"](29,\"\\n  \"),core[\"ɵɵtemplate\"](30,ItemBitstreamsComponent_div_0_div_30_Template,3,3,\"div\",11),core[\"ɵɵtext\"](31,\"\\n  \"),core[\"ɵɵtemplate\"](32,ItemBitstreamsComponent_div_0_ds_loading_32_Template,2,3,\"ds-loading\",12),core[\"ɵɵtext\"](33,\"\\n\\n  \"),core[\"ɵɵelementStart\"](34,\"div\",13),core[\"ɵɵtext\"](35,\"\\n    \"),core[\"ɵɵelementStart\"](36,\"div\",14),core[\"ɵɵtext\"](37,\"\\n      \"),core[\"ɵɵtemplate\"](38,ItemBitstreamsComponent_div_0_button_38_Template,7,3,\"button\",15),core[\"ɵɵpipe\"](39,\"async\"),core[\"ɵɵtext\"](40,\"\\n      \"),core[\"ɵɵelementStart\"](41,\"button\",16),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r23),core[\"ɵɵnextContext\"]().submit()})),core[\"ɵɵpipe\"](42,\"async\"),core[\"ɵɵelement\"](43,\"i\",8),core[\"ɵɵtext\"](44,\"\\n        \"),core[\"ɵɵelementStart\"](45,\"span\",5),core[\"ɵɵtext\"](46),core[\"ɵɵpipe\"](47,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](48,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](49,\"\\n      \"),core[\"ɵɵtemplate\"](50,ItemBitstreamsComponent_div_0_button_50_Template,8,6,\"button\",9),core[\"ɵɵpipe\"](51,\"async\"),core[\"ɵɵtext\"](52,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](53,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](54,\"\\n\"),core[\"ɵɵelementEnd\"]()}if(2&rf){const bundles_r1=ctx.ngVar,ctx_r0=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](31,item_bitstreams_component_c0,ctx_r0.itemPageRoute)),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](9,13,\"item.edit.bitstreams.upload-button\"),\"\"),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](13,15,ctx_r0.isReinstatable())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](16,17,ctx_r0.hasChanges())||ctx_r0.submitting),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](21,19,\"item.edit.bitstreams.save-button\"),\"\"),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](25,21,ctx_r0.isReinstatable())),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",ctx_r0.item&&(null==bundles_r1?null:bundles_r1.length)>0),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",0===(null==bundles_r1?null:bundles_r1.length)),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",!bundles_r1),core[\"ɵɵadvance\"](6),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](39,23,ctx_r0.isReinstatable())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](42,25,ctx_r0.hasChanges())||ctx_r0.submitting),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](47,27,\"item.edit.bitstreams.save-button\"),\"\"),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](51,29,ctx_r0.isReinstatable()))}}let item_bitstreams_component_ItemBitstreamsComponent=(()=>{class ItemBitstreamsComponent extends abstract_item_update_component.a{constructor(itemService,objectUpdatesService,router,notificationsService,translateService,route,bitstreamService,objectCache,requestService,cdRef,bundleService,zone){super(itemService,objectUpdatesService,router,notificationsService,translateService,route),this.itemService=itemService,this.objectUpdatesService=objectUpdatesService,this.router=router,this.notificationsService=notificationsService,this.translateService=translateService,this.route=route,this.bitstreamService=bitstreamService,this.objectCache=objectCache,this.requestService=requestService,this.cdRef=cdRef,this.bundleService=bundleService,this.zone=zone,this.bundlesOptions={id:\"bundles-pagination-options\",currentPage:1,pageSize:9999},this.columnSizes=new responsive_table_sizes_ResponsiveTableSizes([new ResponsiveColumnSizes(2,2,3,4,4),new ResponsiveColumnSizes(2,3,3,3,3),new ResponsiveColumnSizes(2,2,2,2,2),new ResponsiveColumnSizes(6,5,4,3,3)]),this.submitting=!1}postItemInit(){this.bundles$=this.itemService.getBundles(this.item.id,new paginated_search_options_model.a({pagination:this.bundlesOptions})).pipe(Object(operators.i)(),Object(operators.o)(),Object(map.a)((bundlePage=>bundlePage.page)))}initializeNotificationsPrefix(){this.notificationsPrefix=\"item.edit.bitstreams.notifications.\"}submit(){this.submitting=!0,this.bundles$.pipe(Object(take.a)(1)).pipe(Object(switchMap.a)((bundles=>Object(zip.a)(...bundles.map((bundle=>this.objectUpdatesService.getFieldUpdates(bundle.self,[],!0)))))),Object(map.a)((fieldUpdates=>[].concat(...fieldUpdates.map((updates=>Object.values(updates).filter((fieldUpdate=>fieldUpdate.changeType===object_updates_actions.c.REMOVE))))))),Object(map.a)((fieldUpdates=>fieldUpdates.map((fieldUpdate=>fieldUpdate.field))))).pipe(Object(take.a)(1),Object(switchMap.a)((removedBistreams=>Object(empty_util.e)(removedBistreams)?Object(zip.a)(...removedBistreams.map((bitstream=>this.bitstreamService.delete(bitstream.id)))):Object(of.a)(void 0)))).pipe(Object(take.a)(1)).subscribe((responses=>{this.displayNotifications(\"item.edit.bitstreams.notifications.remove\",responses),this.reset(),this.submitting=!1}))}dropBitstream(bundle,event){this.zone.runOutsideAngular((()=>{Object(empty_util.b)(event)&&Object(empty_util.b)(event.fromIndex)&&Object(empty_util.b)(event.toIndex)&&Object(empty_util.b)(event.finish)&&this.bundleService.patch(bundle,[{op:\"move\",from:`/_links/bitstreams/${event.fromIndex}/href`,path:`/_links/bitstreams/${event.toIndex}/href`}]).pipe(Object(take.a)(1)).subscribe((response=>{this.zone.run((()=>{this.displayNotifications(\"item.edit.bitstreams.notifications.move\",[response]),this.requestService.removeByHrefSubstring(bundle.self).pipe(Object(filter.a)((isCached=>isCached)),Object(take.a)(1)).subscribe((()=>event.finish()))}))}))}))}displayNotifications(key,responses){if(Object(empty_util.e)(responses)){const failedResponses=responses.filter((response=>Object(empty_util.b)(response)&&response.hasFailed)),successfulResponses=responses.filter((response=>Object(empty_util.b)(response)&&response.hasSucceeded));failedResponses.forEach((response=>{this.notificationsService.error(this.translateService.instant(`${key}.failed.title`),response.errorMessage)})),successfulResponses.length>0&&this.notificationsService.success(this.translateService.instant(`${key}.saved.title`),this.translateService.instant(`${key}.saved.content`))}}discard(){const undoNotification=this.notificationsService.info(this.getNotificationTitle(\"discarded\"),this.getNotificationContent(\"discarded\"),{timeOut:this.discardTimeOut});this.objectUpdatesService.discardAllFieldUpdates(this.url,undoNotification)}reinstate(){this.bundles$.pipe(Object(take.a)(1)).subscribe((bundles=>{bundles.forEach((bundle=>{this.objectUpdatesService.reinstateFieldUpdates(bundle.self)}))}))}isReinstatable(){return this.bundles$.pipe(Object(switchMap.a)((bundles=>Object(zip.a)(...bundles.map((bundle=>this.objectUpdatesService.isReinstatable(bundle.self)))))),Object(map.a)((reinstatable=>reinstatable.includes(!0))))}hasChanges(){return this.bundles$.pipe(Object(switchMap.a)((bundles=>Object(zip.a)(...bundles.map((bundle=>this.objectUpdatesService.hasUpdates(bundle.self)))))),Object(map.a)((hasChanges=>hasChanges.includes(!0))))}reset(){this.refreshItemCache()}refreshItemCache(){this.bundles$.pipe(Object(take.a)(1)).subscribe((bundles=>{bundles.forEach((bundle=>{this.objectCache.remove(bundle.self),this.requestService.removeByHrefSubstring(bundle.self)})),this.objectCache.remove(this.item.self),this.requestService.removeByHrefSubstring(this.item.self)}))}ngOnDestroy(){this.itemUpdateSubscription&&this.itemUpdateSubscription.unsubscribe()}}return ItemBitstreamsComponent.ɵfac=function(t){return new(t||ItemBitstreamsComponent)(core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f),core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](bitstream_data_service.a),core[\"ɵɵdirectiveInject\"](object_cache_service.a),core[\"ɵɵdirectiveInject\"](request_service.a),core[\"ɵɵdirectiveInject\"](core.ChangeDetectorRef),core[\"ɵɵdirectiveInject\"](bundle_data_service.a),core[\"ɵɵdirectiveInject\"](core.NgZone))},ItemBitstreamsComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemBitstreamsComponent,selectors:[[\"ds-item-bitstreams\"]],features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:3,vars:3,consts:[[\"class\",\"item-bitstreams\",4,\"ngVar\"],[1,\"item-bitstreams\"],[1,\"button-row\",\"top\",\"d-flex\",\"mt-2\"],[1,\"mr-auto\",\"btn\",\"btn-success\",3,\"routerLink\"],[1,\"fas\",\"fa-upload\"],[1,\"d-none\",\"d-sm-inline\"],[\"class\",\"btn btn-warning mr-1\",3,\"click\",4,\"ngIf\"],[1,\"btn\",\"btn-primary\",\"mr-1\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-save\"],[\"class\",\"btn btn-danger\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"class\",\"container table-bordered mt-4\",4,\"ngIf\"],[\"class\",\"alert alert-info w-100 d-inline-block mt-4\",\"role\",\"alert\",4,\"ngIf\"],[3,\"message\",4,\"ngIf\"],[1,\"button-row\",\"bottom\"],[1,\"mt-4\",\"float-right\"],[\"class\",\"btn btn-warning\",3,\"click\",4,\"ngIf\"],[1,\"btn\",\"btn-primary\",3,\"disabled\",\"click\"],[1,\"btn\",\"btn-warning\",\"mr-1\",3,\"click\"],[1,\"fas\",\"fa-undo-alt\"],[1,\"btn\",\"btn-danger\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-times\"],[1,\"container\",\"table-bordered\",\"mt-4\"],[1,\"row\",\"header-row\",\"font-weight-bold\"],[3,\"bundle\",\"item\",\"columnSizes\",\"dropObject\",4,\"ngFor\",\"ngForOf\"],[3,\"bundle\",\"item\",\"columnSizes\",\"dropObject\"],[\"role\",\"alert\",1,\"alert\",\"alert-info\",\"w-100\",\"d-inline-block\",\"mt-4\"],[3,\"message\"],[1,\"btn\",\"btn-warning\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵtemplate\"](0,ItemBitstreamsComponent_div_0_Template,55,33,\"div\",0),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵtext\"](2,\"\\n\")),2&rf&&core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](1,1,ctx.bundles$))},directives:[var_directive.a,fesm2015_router.h,common.u,item_edit_bitstream_drag_handle_component_ItemEditBitstreamDragHandleComponent,common.t,item_edit_bitstream_bundle_component_ItemEditBitstreamBundleComponent,loading_component.a],pipes:[common.b,ngx_translate_core.e],styles:[\".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:-webkit-transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1);transition:transform .25s cubic-bezier(0,0,.2,1),-webkit-transform .25s cubic-bezier(0,0,.2,1)}\"]}),ItemBitstreamsComponent})();var startWith=__webpack_require__(\"JX91\"),dspace_object_type_model=__webpack_require__(\"QhmN\"),search_configuration_service=__webpack_require__(\"joI/\"),search_service=__webpack_require__(\"gWc+\"),collection_data_service=__webpack_require__(\"DNva\"),collection_select_component=__webpack_require__(\"f7iX\"),search_form_component=__webpack_require__(\"DdXh\");const item_collection_mapper_component_c0=[\"tabs\"];function ItemCollectionMapperComponent_ng_template_24_Template(rf,ctx){if(1&rf){const _r4=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵtext\"](0,\"\\n            \"),core[\"ɵɵelementStart\"](1,\"div\",9),core[\"ɵɵtext\"](2,\"\\n              \"),core[\"ɵɵelementStart\"](3,\"ds-collection-select\",10),core[\"ɵɵlistener\"](\"confirm\",(function($event){return core[\"ɵɵrestoreView\"](_r4),core[\"ɵɵnextContext\"]().removeMappings($event)}))(\"cancel\",(function(){return core[\"ɵɵrestoreView\"](_r4),core[\"ɵɵnextContext\"]().onCancel()})),core[\"ɵɵpipe\"](4,\"async\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n          \")}if(2&rf){const ctx_r1=core[\"ɵɵnextContext\"]();var tmp_2_0;core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"key\",\"browse\")(\"dsoRD$\",ctx_r1.itemCollectionsRD$)(\"paginationOptions\",null==(tmp_2_0=core[\"ɵɵpipeBind1\"](4,6,ctx_r1.searchOptions$))?null:tmp_2_0.pagination)(\"confirmButton\",\"item.edit.item-mapper.buttons.remove\")(\"cancelButton\",\"item.edit.item-mapper.cancel\")(\"dangerConfirm\",!0)}}function ItemCollectionMapperComponent_ng_template_30_div_12_Template(rf,ctx){if(1&rf){const _r9=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\"\\n              \"),core[\"ɵɵelementStart\"](2,\"ds-collection-select\",16),core[\"ɵɵlistener\"](\"confirm\",(function($event){return core[\"ɵɵrestoreView\"](_r9),core[\"ɵɵnextContext\"](2).mapCollections($event)}))(\"cancel\",(function(){return core[\"ɵɵrestoreView\"](_r9),core[\"ɵɵnextContext\"](2).onCancel()})),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵpipe\"](4,\"async\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r6=core[\"ɵɵnextContext\"](2);var tmp_2_0,tmp_3_0;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"key\",\"map\")(\"dsoRD$\",ctx_r6.mappedCollectionsRD$)(\"paginationOptions\",null==(tmp_2_0=core[\"ɵɵpipeBind1\"](3,6,ctx_r6.searchOptions$))?null:tmp_2_0.pagination)(\"sortOptions\",null==(tmp_3_0=core[\"ɵɵpipeBind1\"](4,8,ctx_r6.searchOptions$))?null:tmp_3_0.sort)(\"confirmButton\",\"item.edit.item-mapper.buttons.add\")(\"cancelButton\",\"item.edit.item-mapper.cancel\")}}function ItemCollectionMapperComponent_ng_template_30_div_14_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",17),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n              \",core[\"ɵɵpipeBind1\"](2,1,\"item.edit.item-mapper.no-search\"),\"\\n            \"))}function ItemCollectionMapperComponent_ng_template_30_Template(rf,ctx){if(1&rf){const _r12=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵtext\"](0,\"\\n            \"),core[\"ɵɵelementStart\"](1,\"div\",11),core[\"ɵɵtext\"](2,\"\\n              \"),core[\"ɵɵelementStart\"](3,\"div\",12),core[\"ɵɵtext\"](4,\"\\n                \"),core[\"ɵɵelementStart\"](5,\"ds-search-form\",13),core[\"ɵɵlistener\"](\"submitSearch\",(function(){return core[\"ɵɵrestoreView\"](_r12),core[\"ɵɵnextContext\"]().performedSearch=!0})),core[\"ɵɵpipe\"](6,\"async\"),core[\"ɵɵpipe\"](7,\"translate\"),core[\"ɵɵtext\"](8,\"\\n                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n              \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n\\n            \"),core[\"ɵɵtemplate\"](12,ItemCollectionMapperComponent_ng_template_30_div_12_Template,6,10,\"div\",14),core[\"ɵɵtext\"](13,\"\\n            \"),core[\"ɵɵtemplate\"](14,ItemCollectionMapperComponent_ng_template_30_div_14_Template,3,3,\"div\",15),core[\"ɵɵtext\"](15,\"\\n          \")}if(2&rf){const ctx_r2=core[\"ɵɵnextContext\"]();var tmp_0_0;core[\"ɵɵadvance\"](5),core[\"ɵɵproperty\"](\"query\",null==(tmp_0_0=core[\"ɵɵpipeBind1\"](6,6,ctx_r2.searchOptions$))?null:tmp_0_0.query)(\"currentUrl\",\"./\")(\"inPlaceSearch\",!0)(\"searchPlaceholder\",core[\"ɵɵpipeBind1\"](7,8,\"item.edit.item-mapper.search-form.placeholder\")),core[\"ɵɵadvance\"](7),core[\"ɵɵproperty\"](\"ngIf\",ctx_r2.performedSearch),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",!ctx_r2.performedSearch)}}const item_collection_mapper_component_c1=function(a0){return{name:a0}};let item_collection_mapper_component_ItemCollectionMapperComponent=(()=>{class ItemCollectionMapperComponent{constructor(route,router,searchConfigService,searchService,notificationsService,itemDataService,collectionDataService,translateService,dsoNameService){this.route=route,this.router=router,this.searchConfigService=searchConfigService,this.searchService=searchService,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.collectionDataService=collectionDataService,this.translateService=translateService,this.dsoNameService=dsoNameService,this.performedSearch=!1}ngOnInit(){this.itemRD$=this.route.parent.data.pipe(Object(take.a)(1),Object(map.a)((data=>data.dso))),this.itemName$=this.itemRD$.pipe(Object(filter.a)((rd=>Object(empty_util.b)(rd))),Object(map.a)((rd=>this.dsoNameService.getName(rd.payload)))),this.searchOptions$=this.searchConfigService.paginatedSearchOptions,this.loadCollectionLists()}loadCollectionLists(){console.log(\"loadCollectionLists\"),this.shouldUpdate$=new BehaviorSubject.a(!0),this.itemCollectionsRD$=Object(combineLatest.a)(this.itemRD$.pipe(Object(operators.j)()),this.shouldUpdate$).pipe(Object(switchMap.a)((([item,shouldUpdate])=>(!0===shouldUpdate&&this.shouldUpdate$.next(!1),this.collectionDataService.findAllByHref(this.itemDataService.getMappedCollectionsEndpoint(item.id),void 0,!shouldUpdate,!1).pipe(Object(operators.c)())))));const owningCollectionRD$=this.itemRD$.pipe(Object(operators.j)(),Object(switchMap.a)((item=>this.collectionDataService.findOwningCollectionFor(item))),Object(operators.c)()),itemCollectionsAndOptions$=Object(combineLatest.a)(this.itemCollectionsRD$,owningCollectionRD$,this.searchOptions$);this.mappedCollectionsRD$=itemCollectionsAndOptions$.pipe(Object(switchMap.a)((([itemCollectionsRD,owningCollectionRD,searchOptions])=>this.searchService.search(Object.assign(new paginated_search_options_model.a(searchOptions),{query:this.buildQuery([...itemCollectionsRD.payload.page,owningCollectionRD.payload],searchOptions.query),dsoTypes:[dspace_object_type_model.a.COLLECTION]}),1e4).pipe(Object(operators.y)(),Object(startWith.a)(void 0)))))}mapCollections(ids){const responses$=Object(combineLatest.a)([this.itemRD$.pipe(Object(operators.i)(),Object(map.a)((rd=>rd.payload)),Object(map.a)((item=>item.id))),this.itemCollectionsRD$.pipe(Object(operators.i)(),Object(map.a)((rd=>rd.payload.page)),Object(map.a)((collections=>collections.map((collection=>collection.id)))))]).pipe(Object(switchMap.a)((([itemId,excludingIds])=>Object(combineLatest.a)(this.filterIds(ids,excludingIds).map((id=>this.itemDataService.mapToCollection(itemId,id).pipe(Object(operators.g)())))))));this.showNotifications(responses$,\"item.edit.item-mapper.notifications.add\")}removeMappings(ids){const responses$=this.itemRD$.pipe(Object(operators.i)(),Object(map.a)((itemRD=>itemRD.payload.id)),Object(switchMap.a)((itemId=>Object(combineLatest.a)(ids.map((id=>this.itemDataService.removeMappingFromCollection(itemId,id).pipe(Object(operators.g)())))))));this.showNotifications(responses$,\"item.edit.item-mapper.notifications.remove\")}filterIds(ids,excluding){return ids.filter((id=>excluding.indexOf(id)<0))}showNotifications(responses$,messagePrefix){responses$.subscribe((responses=>{const successful=responses.filter((response=>response.hasSucceeded)),unsuccessful=responses.filter((response=>response.hasFailed));successful.length>0&&(Object(combineLatest.a)([this.translateService.get(`${messagePrefix}.success.head`),this.translateService.get(`${messagePrefix}.success.content`,{amount:successful.length})]).subscribe((([head,content])=>{this.notificationsService.success(head,content)})),this.shouldUpdate$.next(!0)),unsuccessful.length>0&&Object(combineLatest.a)([this.translateService.get(`${messagePrefix}.error.head`),this.translateService.get(`${messagePrefix}.error.content`,{amount:unsuccessful.length})]).subscribe((([head,content])=>{this.notificationsService.error(head,content)})),this.switchToFirstTab()}))}tabChange(event){this.performedSearch=!1,this.router.navigateByUrl(this.getCurrentUrl())}getCurrentUrl(){return this.router.url.indexOf(\"?\")>-1?this.router.url.substring(0,this.router.url.indexOf(\"?\")):this.router.url}buildQuery(collections,query){let result=query;for(const collection of collections)result=this.addExcludeCollection(collection.id,result);return result}addExcludeCollection(collectionId,query){const excludeQuery=`-search.resourceid:${collectionId}`;return Object(empty_util.e)(query)?`${query} AND ${excludeQuery}`:excludeQuery}switchToFirstTab(){this.tabs.select(\"browseTab\")}onCancel(){this.itemRD$.pipe(Object(operators.i)(),Object(operators.o)(),Object(take.a)(1)).subscribe((item=>{this.router.navigate([Object(item_page_routing_paths.f)(item)])}))}}return ItemCollectionMapperComponent.ɵfac=function(t){return new(t||ItemCollectionMapperComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](search_configuration_service.a),core[\"ɵɵdirectiveInject\"](search_service.a),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](collection_data_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f),core[\"ɵɵdirectiveInject\"](dso_name_service.a))},ItemCollectionMapperComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemCollectionMapperComponent,selectors:[[\"ds-item-collection-mapper\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core[\"ɵɵviewQuery\"](item_collection_mapper_component_c0,!0),2&rf&&core[\"ɵɵqueryRefresh\"](_t=core[\"ɵɵloadQuery\"]())&&(ctx.tabs=_t.first)},decls:37,vars:21,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[\"id\",\"item-name\",3,\"innerHTML\"],[3,\"destroyOnHide\",\"tabChange\"],[\"tabs\",\"ngbTabset\"],[\"id\",\"browseTab\",3,\"title\"],[\"ngbTabContent\",\"\"],[\"id\",\"mapTab\",3,\"title\"],[1,\"mt-2\"],[1,\"mt-2\",3,\"key\",\"dsoRD$\",\"paginationOptions\",\"confirmButton\",\"cancelButton\",\"dangerConfirm\",\"confirm\",\"cancel\"],[1,\"row\",\"mt-2\"],[1,\"col-12\",\"col-lg-6\"],[\"id\",\"search-form\",3,\"query\",\"currentUrl\",\"inPlaceSearch\",\"searchPlaceholder\",\"submitSearch\"],[4,\"ngIf\"],[\"class\",\"alert alert-info w-100\",\"role\",\"alert\",4,\"ngIf\"],[1,\"mt-2\",3,\"key\",\"dsoRD$\",\"paginationOptions\",\"sortOptions\",\"confirmButton\",\"cancelButton\",\"confirm\",\"cancel\"],[\"role\",\"alert\",1,\"alert\",\"alert-info\",\"w-100\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n  \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n    \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n      \"),core[\"ɵɵelementStart\"](6,\"h2\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n      \"),core[\"ɵɵelement\"](10,\"p\",3),core[\"ɵɵpipe\"](11,\"translate\"),core[\"ɵɵpipe\"](12,\"async\"),core[\"ɵɵtext\"](13,\"\\n      \"),core[\"ɵɵelementStart\"](14,\"p\"),core[\"ɵɵtext\"](15),core[\"ɵɵpipe\"](16,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](17,\"\\n\\n      \"),core[\"ɵɵelementStart\"](18,\"ngb-tabset\",4,5),core[\"ɵɵlistener\"](\"tabChange\",(function($event){return ctx.tabChange($event)})),core[\"ɵɵtext\"](20,\"\\n        \"),core[\"ɵɵelementStart\"](21,\"ngb-tab\",6),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵtext\"](23,\"\\n          \"),core[\"ɵɵtemplate\"](24,ItemCollectionMapperComponent_ng_template_24_Template,7,8,\"ng-template\",7),core[\"ɵɵtext\"](25,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n        \"),core[\"ɵɵelementStart\"](27,\"ngb-tab\",8),core[\"ɵɵpipe\"](28,\"translate\"),core[\"ɵɵtext\"](29,\"\\n          \"),core[\"ɵɵtemplate\"](30,ItemCollectionMapperComponent_ng_template_30_Template,16,10,\"ng-template\",7),core[\"ɵɵtext\"](31,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](32,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](33,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](34,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](35,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](36,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](8,6,\"item.edit.item-mapper.head\")),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"innerHTML\",core[\"ɵɵpipeBind2\"](11,8,\"item.edit.item-mapper.item\",core[\"ɵɵpureFunction1\"](19,item_collection_mapper_component_c1,core[\"ɵɵpipeBind1\"](12,11,ctx.itemName$))),core[\"ɵɵsanitizeHtml\"]),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](16,13,\"item.edit.item-mapper.description\")),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"destroyOnHide\",!0),core[\"ɵɵadvance\"](3),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](22,15,\"item.edit.item-mapper.tabs.browse\")),core[\"ɵɵadvance\"](6),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](28,17,\"item.edit.item-mapper.tabs.map\")))},directives:[ng_bootstrap.ab,ng_bootstrap.X,ng_bootstrap.Y,collection_select_component.a,search_form_component.a,common.u],pipes:[ngx_translate_core.e,common.b],styles:[\"\"],data:{animation:[fade.a,fade.c]},changeDetection:0}),ItemCollectionMapperComponent})();var dso_input_suggestions_component=__webpack_require__(\"Kr+g\"),fesm2015_forms=__webpack_require__(\"s7LF\");function ItemMoveComponent_span_48_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"span\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,1,\"item.edit.move.move\"),\"\"))}function ItemMoveComponent_span_50_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"span\"),core[\"ɵɵelement\"](1,\"i\",10),core[\"ɵɵtext\"](2),core[\"ɵɵpipe\"](3,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate1\"](\"\\n                    \",core[\"ɵɵpipeBind1\"](3,1,\"item.edit.move.processing\"),\"\\n                \"))}const item_move_component_c0=function(a0){return{id:a0}},item_move_component_c1=function(a0){return[a0,\"edit\"]};let item_move_component_ItemMoveComponent=(()=>{class ItemMoveComponent{constructor(route,router,notificationsService,itemDataService,searchService,translateService){this.route=route,this.router=router,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.searchService=searchService,this.translateService=translateService,this.selectorType=dspace_object_type_model.a.COLLECTION,this.inheritPolicies=!1,this.collectionSearchResults=Object(of.a)([]),this.canSubmit=!1,this.processing=!1,this.pagination=new pagination_component_options_model.a}ngOnInit(){this.itemRD$=this.route.data.pipe(Object(map.a)((data=>data.dso)),Object(operators.i)()),this.itemPageRoute$=this.itemRD$.pipe(Object(operators.d)(),Object(map.a)((item=>Object(item_page_routing_paths.f)(item)))),this.itemRD$.subscribe((rd=>{this.item=rd.payload})),this.pagination.pageSize=5,this.loadSuggestions(\"\")}findSuggestions(query){this.loadSuggestions(query)}loadSuggestions(query){this.collectionSearchResults=this.searchService.search(new paginated_search_options_model.a({pagination:this.pagination,dsoTypes:[dspace_object_type_model.a.COLLECTION],query:query})).pipe(Object(first.a)(),Object(map.a)((rd=>rd.payload.page.map((searchResult=>searchResult.indexableObject)))))}onClick(data){this.selectedCollection=data,this.selectedCollectionName=data.name,this.canSubmit=!0}getCurrentUrl(){return this.router.url}moveCollection(){this.processing=!0,this.itemDataService.moveToCollection(this.item.id,this.selectedCollection).pipe(Object(operators.g)()).subscribe((response=>{this.router.navigate([Object(item_page_routing_paths.e)(this.item)]),response.hasSucceeded?this.notificationsService.success(this.translateService.get(\"item.edit.move.success\")):this.notificationsService.error(this.translateService.get(\"item.edit.move.error\")),this.processing=!1}))}resetCollection(data){this.canSubmit=!1}}return ItemMoveComponent.ɵfac=function(t){return new(t||ItemMoveComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](search_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f))},ItemMoveComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemMoveComponent,selectors:[[\"ds-item-move\"]],decls:61,vars:38,consts:[[1,\"container\"],[1,\"row\"],[1,\"col-12\"],[\"id\",\"search-form\",\"ngDefaultControl\",\"\",3,\"suggestions\",\"placeholder\",\"action\",\"name\",\"ngModel\",\"ngModelChange\",\"clickSuggestion\",\"typeSuggestion\",\"findSuggestions\",\"click\"],[\"f\",\"\"],[\"type\",\"checkbox\",\"name\",\"tc\",\"id\",\"inheritPoliciesCheckbox\",3,\"ngModel\",\"ngModelChange\"],[\"for\",\"inheritPoliciesCheckbox\"],[1,\"btn\",\"btn-primary\",3,\"disabled\",\"click\"],[4,\"ngIf\"],[1,\"btn\",\"btn-outline-secondary\",3,\"routerLink\"],[1,\"fas\",\"fa-circle-notch\",\"fa-spin\"]],template:function(rf,ctx){if(1&rf){const _r3=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",1),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementStart\"](4,\"div\",2),core[\"ɵɵtext\"](5,\"\\n            \"),core[\"ɵɵelementStart\"](6,\"h2\"),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"translate\"),core[\"ɵɵpipe\"](9,\"async\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n            \"),core[\"ɵɵelementStart\"](11,\"p\"),core[\"ɵɵtext\"](12),core[\"ɵɵpipe\"](13,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](14,\"\\n            \"),core[\"ɵɵelementStart\"](15,\"div\",1),core[\"ɵɵtext\"](16,\"\\n                \"),core[\"ɵɵelementStart\"](17,\"div\",2),core[\"ɵɵtext\"](18,\"\\n                    \"),core[\"ɵɵelementStart\"](19,\"ds-dso-input-suggestions\",3,4),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return ctx.selectedCollectionName=$event}))(\"clickSuggestion\",(function($event){return ctx.onClick($event)}))(\"typeSuggestion\",(function($event){return ctx.resetCollection($event)}))(\"findSuggestions\",(function($event){return ctx.findSuggestions($event)}))(\"click\",(function(){return core[\"ɵɵrestoreView\"](_r3),core[\"ɵɵreference\"](20).open()})),core[\"ɵɵpipe\"](21,\"async\"),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵtext\"](23,\"\\n                    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n\\n                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n            \"),core[\"ɵɵelementStart\"](27,\"div\",1),core[\"ɵɵtext\"](28,\"\\n                \"),core[\"ɵɵelementStart\"](29,\"div\",2),core[\"ɵɵtext\"](30,\"\\n                    \"),core[\"ɵɵelementStart\"](31,\"p\"),core[\"ɵɵtext\"](32,\"\\n                        \"),core[\"ɵɵelementStart\"](33,\"input\",5),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return ctx.inheritPolicies=$event})),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](34,\"\\n                        \"),core[\"ɵɵelementStart\"](35,\"label\",6),core[\"ɵɵtext\"](36),core[\"ɵɵpipe\"](37,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](38,\"\\n                    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](39,\"\\n                    \"),core[\"ɵɵelementStart\"](40,\"p\"),core[\"ɵɵtext\"](41),core[\"ɵɵpipe\"](42,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](43,\"\\n                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](44,\"\\n            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](45,\"\\n\\n            \"),core[\"ɵɵelementStart\"](46,\"button\",7),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.moveCollection()})),core[\"ɵɵtext\"](47,\"\\n                \"),core[\"ɵɵtemplate\"](48,ItemMoveComponent_span_48_Template,3,3,\"span\",8),core[\"ɵɵtext\"](49,\"\\n                \"),core[\"ɵɵtemplate\"](50,ItemMoveComponent_span_50_Template,4,3,\"span\",8),core[\"ɵɵtext\"](51,\"\\n            \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](52,\"\\n            \"),core[\"ɵɵelementStart\"](53,\"button\",9),core[\"ɵɵpipe\"](54,\"async\"),core[\"ɵɵtext\"](55),core[\"ɵɵpipe\"](56,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](57,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](58,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](59,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](60,\"\\n\")}var tmp_0_0;2&rf&&(core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind2\"](8,15,\"item.edit.move.head\",core[\"ɵɵpureFunction1\"](34,item_move_component_c0,null==(tmp_0_0=core[\"ɵɵpipeBind1\"](9,18,ctx.itemRD$))||null==tmp_0_0.payload?null:tmp_0_0.payload.handle))),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](13,20,\"item.edit.move.description\")),core[\"ɵɵadvance\"](7),core[\"ɵɵproperty\"](\"suggestions\",core[\"ɵɵpipeBind1\"](21,22,ctx.collectionSearchResults))(\"placeholder\",core[\"ɵɵpipeBind1\"](22,24,\"item.edit.move.search.placeholder\"))(\"action\",ctx.getCurrentUrl())(\"name\",\"item-move\")(\"ngModel\",ctx.selectedCollectionName),core[\"ɵɵadvance\"](14),core[\"ɵɵproperty\"](\"ngModel\",ctx.inheritPolicies),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](37,26,\"item.edit.move.inheritpolicies.checkbox\")),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\"\\n                        \",core[\"ɵɵpipeBind1\"](42,28,\"item.edit.move.inheritpolicies.description\"),\"\\n                    \"),core[\"ɵɵadvance\"](5),core[\"ɵɵproperty\"](\"disabled\",!ctx.canSubmit),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",!ctx.processing),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",ctx.processing),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](36,item_move_component_c1,core[\"ɵɵpipeBind1\"](54,30,ctx.itemPageRoute$))),core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate1\"](\"\\n                \",core[\"ɵɵpipeBind1\"](56,32,\"item.edit.move.cancel\"),\"\\n            \"))},directives:[dso_input_suggestions_component.a,fesm2015_forms.DefaultValueAccessor,fesm2015_forms.NgControlStatus,fesm2015_forms.NgModel,fesm2015_forms.CheckboxControlValueAccessor,common.u,fesm2015_router.h],pipes:[ngx_translate_core.e,common.b],encapsulation:2}),ItemMoveComponent})();var relationship_model=__webpack_require__(\"aFKe\"),dynamic_lookup_relation_modal_component=__webpack_require__(\"1Pbu\"),relationship_options_model=__webpack_require__(\"kcku\"),item_search_result_model=__webpack_require__(\"4SI6\"),selectable_list_service=__webpack_require__(\"EGek\");function VirtualMetadataComponent_ng_container_14_div_2_div_15_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\"\\n                        \"),core[\"ɵɵelementStart\"](2,\"div\",15),core[\"ɵɵtext\"](3),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](4,\"\\n                        \"),core[\"ɵɵelementStart\"](5,\"div\"),core[\"ɵɵtext\"](6),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](7,\"\\n                    \"),core[\"ɵɵelementEnd\"]()),2&rf){const metadata_r5=ctx.$implicit;core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n                            \",metadata_r5.metadataField,\"\\n                        \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\\n                            \",metadata_r5.metadataValue.value,\"\\n                        \")}}function VirtualMetadataComponent_ng_container_14_div_2_Template(rf,ctx){if(1&rf){const _r8=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",9),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r8);const selected_r3=ctx.ngVar,item_r1=core[\"ɵɵnextContext\"]().$implicit;return core[\"ɵɵnextContext\"]().setSelectedVirtualMetadataItem(item_r1,!selected_r3)})),core[\"ɵɵtext\"](1,\"\\n                \"),core[\"ɵɵelementStart\"](2,\"div\",10),core[\"ɵɵtext\"](3,\"\\n                    \"),core[\"ɵɵelementStart\"](4,\"label\"),core[\"ɵɵtext\"](5,\"\\n                        \"),core[\"ɵɵelement\"](6,\"input\",11),core[\"ɵɵtext\"](7,\"\\n                    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](8,\"\\n                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n                \"),core[\"ɵɵelementStart\"](10,\"div\",12),core[\"ɵɵtext\"](11,\"\\n                    \"),core[\"ɵɵelementStart\"](12,\"ds-listable-object-component-loader\",13),core[\"ɵɵtext\"](13,\"\\n                    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](14,\"\\n                    \"),core[\"ɵɵtemplate\"](15,VirtualMetadataComponent_ng_container_14_div_2_div_15_Template,8,2,\"div\",14),core[\"ɵɵtext\"](16,\"\\n                \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](17,\"\\n            \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const selected_r3=ctx.ngVar,item_r1=core[\"ɵɵnextContext\"]().$implicit,ctx_r2=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](6),core[\"ɵɵproperty\"](\"checked\",selected_r3),core[\"ɵɵadvance\"](6),core[\"ɵɵproperty\"](\"object\",item_r1),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngForOf\",ctx_r2.virtualMetadata.get(item_r1.uuid))}}function VirtualMetadataComponent_ng_container_14_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵtemplate\"](2,VirtualMetadataComponent_ng_container_14_div_2_Template,18,3,\"div\",8),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵtext\"](4,\"\\n        \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const item_r1=ctx.$implicit,ctx_r0=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](3,1,ctx_r0.isSelectedVirtualMetadataItem(item_r1)))}}let virtual_metadata_component_VirtualMetadataComponent=(()=>{class VirtualMetadataComponent{constructor(objectUpdatesService){this.objectUpdatesService=objectUpdatesService,this.close=new core.EventEmitter,this.save=new core.EventEmitter,this.virtualMetadata=new Map}get items(){return[this.leftItem,this.rightItem]}getVirtualMetadata(item){return Object.entries(item.metadata).map((([key,value])=>value.filter((metadata=>!key.startsWith(\"relation\")&&metadata.authority&&metadata.authority.endsWith(this.relationshipId))).map((metadata=>({metadataField:key,metadataValue:metadata}))))).reduce(((previous,current)=>previous.concat(current)),[])}setSelectedVirtualMetadataItem(item,selected){this.objectUpdatesService.setSelectedVirtualMetadata(this.url,this.relationshipId,item.uuid,selected)}isSelectedVirtualMetadataItem(item){return this.objectUpdatesService.isSelectedVirtualMetadata(this.url,this.relationshipId,item.uuid)}trackItem(index,item){return item&&item.uuid}ngOnInit(){this.items.forEach((item=>{this.virtualMetadata.set(item.uuid,this.getVirtualMetadata(item))}))}}return VirtualMetadataComponent.ɵfac=function(t){return new(t||VirtualMetadataComponent)(core[\"ɵɵdirectiveInject\"](object_updates_service.a))},VirtualMetadataComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:VirtualMetadataComponent,selectors:[[\"ds-virtual-metadata\"]],inputs:{url:\"url\",relationshipId:\"relationshipId\",leftItem:\"leftItem\",rightItem:\"rightItem\"},outputs:{close:\"close\",save:\"save\"},decls:27,vars:8,consts:[[1,\"modal-header\"],[\"type\",\"button\",\"aria-label\",\"Close\",1,\"close\",3,\"click\"],[\"aria-hidden\",\"true\"],[1,\"modal-body\"],[4,\"ngFor\",\"ngForOf\",\"ngForTrackBy\"],[1,\"d-flex\",\"flex-row-reverse\",\"m-2\"],[1,\"btn\",\"btn-primary\",\"save\",3,\"click\"],[1,\"fas\",\"fa-save\"],[\"class\",\"item d-flex flex-row\",3,\"click\",4,\"ngVar\"],[1,\"item\",\"d-flex\",\"flex-row\",3,\"click\"],[1,\"m-2\"],[\"type\",\"checkbox\",1,\"select\",3,\"checked\"],[1,\"flex-column\"],[3,\"object\"],[4,\"ngFor\",\"ngForOf\"],[1,\"font-weight-bold\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelementStart\"](2,\"div\",0),core[\"ɵɵtext\"](3),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵelementStart\"](5,\"button\",1),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.close.emit()})),core[\"ɵɵtext\"](6,\"\\n            \"),core[\"ɵɵelementStart\"](7,\"span\",2),core[\"ɵɵtext\"](8,\"×\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n    \"),core[\"ɵɵelementStart\"](12,\"div\",3),core[\"ɵɵtext\"](13,\"\\n        \"),core[\"ɵɵtemplate\"](14,VirtualMetadataComponent_ng_container_14_Template,5,3,\"ng-container\",4),core[\"ɵɵtext\"](15,\"\\n        \"),core[\"ɵɵelementStart\"](16,\"div\",5),core[\"ɵɵtext\"](17,\"\\n            \"),core[\"ɵɵelementStart\"](18,\"button\",6),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.save.emit()})),core[\"ɵɵtext\"](19,\"\\n                \"),core[\"ɵɵelement\"](20,\"i\",7),core[\"ɵɵtext\"](21),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](23,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](4,4,\"virtual-metadata.delete-relationship.modal-head\"),\"\\n        \"),core[\"ɵɵadvance\"](11),core[\"ɵɵproperty\"](\"ngForOf\",ctx.items)(\"ngForTrackBy\",ctx.trackItem),core[\"ɵɵadvance\"](7),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](22,6,\"item.edit.metadata.save-button\"),\"\\n            \"))},directives:[common.t,var_directive.a,listable_object_component_loader_component.a],pipes:[ngx_translate_core.e,common.b],encapsulation:2}),VirtualMetadataComponent})();function EditRelationshipComponent_div_0_Template(rf,ctx){if(1&rf){const _r4=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",2),core[\"ɵɵtext\"](1,\"\\n  \"),core[\"ɵɵelementStart\"](2,\"div\",3),core[\"ɵɵtext\"](3,\"\\n    \"),core[\"ɵɵelementStart\"](4,\"ds-listable-object-component-loader\",4),core[\"ɵɵpipe\"](5,\"async\"),core[\"ɵɵtext\"](6,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](7,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](8,\"\\n  \"),core[\"ɵɵelementStart\"](9,\"div\",5),core[\"ɵɵtext\"](10,\"\\n    \"),core[\"ɵɵelementStart\"](11,\"div\",6),core[\"ɵɵtext\"](12,\"\\n      \"),core[\"ɵɵelementStart\"](13,\"button\",7),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r4);const ctx_r3=core[\"ɵɵnextContext\"](),_r1=core[\"ɵɵreference\"](4);return ctx_r3.openVirtualMetadataModal(_r1)})),core[\"ɵɵpipe\"](14,\"translate\"),core[\"ɵɵtext\"](15,\"\\n        \"),core[\"ɵɵelement\"](16,\"i\",8),core[\"ɵɵtext\"](17,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](18,\"\\n      \"),core[\"ɵɵelementStart\"](19,\"button\",9),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r4),core[\"ɵɵnextContext\"]().undo()})),core[\"ɵɵpipe\"](20,\"translate\"),core[\"ɵɵtext\"](21,\"\\n        \"),core[\"ɵɵelement\"](22,\"i\",10),core[\"ɵɵtext\"](23,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](24,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](25,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](26,\"\\n\"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r0=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"object\",core[\"ɵɵpipeBind1\"](5,7,ctx_r0.relatedItem$))(\"viewMode\",ctx_r0.viewMode)(\"value\",ctx_r0.nameVariant),core[\"ɵɵadvance\"](9),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](14,9,\"item.edit.metadata.edit.buttons.remove\")),core[\"ɵɵproperty\"](\"disabled\",!ctx_r0.canRemove()),core[\"ɵɵadvance\"](6),core[\"ɵɵpropertyInterpolate\"](\"title\",core[\"ɵɵpipeBind1\"](20,11,\"item.edit.metadata.edit.buttons.undo\")),core[\"ɵɵproperty\"](\"disabled\",!ctx_r0.canUndo())}}function EditRelationshipComponent_ng_template_3_Template(rf,ctx){if(1&rf){const _r7=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵtext\"](0,\"\\n  \"),core[\"ɵɵelementStart\"](1,\"ds-virtual-metadata\",11),core[\"ɵɵlistener\"](\"close\",(function(){return core[\"ɵɵrestoreView\"](_r7),core[\"ɵɵnextContext\"]().closeVirtualMetadataModal()}))(\"save\",(function(){return core[\"ɵɵrestoreView\"](_r7),core[\"ɵɵnextContext\"]().remove()})),core[\"ɵɵpipe\"](2,\"async\"),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵtext\"](4,\"\\n  \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](5,\"\\n\")}if(2&rf){const ctx_r2=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"relationshipId\",ctx_r2.relationship.id)(\"leftItem\",core[\"ɵɵpipeBind1\"](2,4,ctx_r2.leftItem$))(\"rightItem\",core[\"ɵɵpipeBind1\"](3,6,ctx_r2.rightItem$))(\"url\",ctx_r2.url)}}let edit_relationship_component_EditRelationshipComponent=(()=>{class EditRelationshipComponent{constructor(objectUpdatesService,modalService){this.objectUpdatesService=objectUpdatesService,this.modalService=modalService,this.viewMode=view_mode_model.a.ListElement}get relationship(){return this.update.relationship}get update(){return this.fieldUpdate.field}get nameVariant(){return this.update.nameVariant}ngOnChanges(){this.relationship?(this.leftItem$=this.relationship.leftItem.pipe(Object(operators.i)(),Object(operators.o)(),Object(filter.a)((item=>Object(empty_util.b)(item)&&Object(empty_util.e)(item.uuid)))),this.rightItem$=this.relationship.rightItem.pipe(Object(operators.i)(),Object(operators.o)(),Object(filter.a)((item=>Object(empty_util.b)(item)&&Object(empty_util.e)(item.uuid)))),this.relatedItem$=Object(combineLatest.a)(this.leftItem$,this.rightItem$).pipe(Object(map.a)((items=>items.find((item=>item.uuid!==this.editItem.uuid)))))):this.relatedItem$=Object(of.a)(this.update.relatedItem)}remove(){this.closeVirtualMetadataModal(),Object(combineLatest.a)(this.leftItem$,this.rightItem$).pipe(Object(map.a)((items=>items.map((item=>this.objectUpdatesService.isSelectedVirtualMetadata(this.url,this.relationship.id,item.uuid))))),Object(switchMap.a)((selection$=>Object(combineLatest.a)(selection$))),Object(map.a)((selection=>Object.assign({},this.fieldUpdate.field,{keepLeftVirtualMetadata:!0===selection[0],keepRightVirtualMetadata:!0===selection[1]}))),Object(take.a)(1)).subscribe((deleteRelationship=>this.objectUpdatesService.saveRemoveFieldUpdate(this.url,deleteRelationship)))}openVirtualMetadataModal(content){this.modalRef=this.modalService.open(content)}closeVirtualMetadataModal(){this.modalRef.close()}undo(){this.objectUpdatesService.removeSingleFieldUpdate(this.url,this.fieldUpdate.field.uuid)}canRemove(){return this.fieldUpdate.changeType!==object_updates_actions.c.REMOVE&&this.fieldUpdate.changeType!==object_updates_actions.c.ADD}canUndo(){return this.fieldUpdate.changeType>=0}}return EditRelationshipComponent.ɵfac=function(t){return new(t||EditRelationshipComponent)(core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](ng_bootstrap.u))},EditRelationshipComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:EditRelationshipComponent,selectors:[[\"ds-edit-relationship\"]],inputs:{fieldUpdate:\"fieldUpdate\",url:\"url\",editItem:\"editItem\"},features:[core[\"ɵɵNgOnChangesFeature\"]],decls:6,vars:3,consts:[[\"class\",\"row\",4,\"ngIf\"],[\"virtualMetadataModal\",\"\"],[1,\"row\"],[1,\"col-10\",\"relationship\"],[3,\"object\",\"viewMode\",\"value\"],[1,\"col-2\"],[1,\"btn-group\",\"relationship-action-buttons\"],[1,\"btn\",\"btn-outline-danger\",\"btn-sm\",3,\"disabled\",\"title\",\"click\"],[1,\"fas\",\"fa-trash-alt\",\"fa-fw\"],[1,\"btn\",\"btn-outline-warning\",\"btn-sm\",3,\"disabled\",\"title\",\"click\"],[1,\"fas\",\"fa-undo-alt\",\"fa-fw\"],[3,\"relationshipId\",\"leftItem\",\"rightItem\",\"url\",\"close\",\"save\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵtemplate\"](0,EditRelationshipComponent_div_0_Template,27,13,\"div\",0),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵtext\"](2,\"\\n\"),core[\"ɵɵtemplate\"](3,EditRelationshipComponent_ng_template_3_Template,6,8,\"ng-template\",null,1,core[\"ɵɵtemplateRefExtractor\"]),core[\"ɵɵtext\"](5,\"\\n\")),2&rf&&core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](1,1,ctx.relatedItem$))},directives:[common.u,listable_object_component_loader_component.a,virtual_metadata_component_VirtualMetadataComponent],pipes:[common.b,ngx_translate_core.e],styles:[\".btn[disabled][_ngcontent-%COMP%]{color:var(--bs-gray-600);border-color:var(--bs-gray-600);z-index:0}.relationship-action-buttons[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}\"]}),EditRelationshipComponent})();const edit_relationship_list_component_c0=function(){return{}},edit_relationship_list_component_c1=function(a0,a1,a2){return{\"alert-success\":a0,\"alert-warning\":a1,\"alert-danger\":a2}};function EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_ds_edit_relationship_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"ds-edit-relationship\",6),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵelementEnd\"]()),2&rf){const updateValue_r8=ctx.$implicit,ctx_r6=core[\"ɵɵnextContext\"](4);core[\"ɵɵproperty\"](\"fieldUpdate\",updateValue_r8||core[\"ɵɵpureFunction0\"](4,edit_relationship_list_component_c0))(\"url\",ctx_r6.url)(\"editItem\",ctx_r6.item)(\"ngClass\",core[\"ɵɵpureFunction3\"](5,edit_relationship_list_component_c1,1===updateValue_r8.changeType,0===updateValue_r8.changeType,2===updateValue_r8.changeType))}}function EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_div_4_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,\"item.edit.relationships.no-relationships\")))}function EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵtemplate\"](2,EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_ds_edit_relationship_2_Template,2,9,\"ds-edit-relationship\",5),core[\"ɵɵtext\"](3,\"\\n            \"),core[\"ɵɵtemplate\"](4,EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_div_4_Template,3,3,\"div\",4),core[\"ɵɵtext\"](5,\"\\n        \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const updateValues_r5=ctx.ngVar,ctx_r4=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",updateValues_r5)(\"ngForTrackBy\",ctx_r4.trackUpdate),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",0===updateValues_r5.length)}}function EditRelationshipListComponent_ng_container_14_ng_container_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n        \"),core[\"ɵɵtemplate\"](2,EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_Template,6,3,\"ng-container\",3),core[\"ɵɵpipe\"](3,\"dsObjectValues\"),core[\"ɵɵtext\"](4,\"\\n    \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const updates_r1=core[\"ɵɵnextContext\"]().ngVar;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](3,1,updates_r1))}}function EditRelationshipListComponent_ng_container_14_ds_loading_4_Template(rf,ctx){1&rf&&core[\"ɵɵelement\"](0,\"ds-loading\")}function EditRelationshipListComponent_ng_container_14_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵtemplate\"](2,EditRelationshipListComponent_ng_container_14_ng_container_2_Template,5,3,\"ng-container\",4),core[\"ɵɵtext\"](3,\"\\n    \"),core[\"ɵɵtemplate\"](4,EditRelationshipListComponent_ng_container_14_ds_loading_4_Template,1,0,\"ds-loading\",4),core[\"ɵɵtext\"](5,\"\\n\"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const updates_r1=ctx.ngVar;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",updates_r1),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",!updates_r1)}}let edit_relationship_list_component_EditRelationshipListComponent=(()=>{class EditRelationshipListComponent{constructor(objectUpdatesService,linkService,relationshipService,modalService,selectableListService){this.objectUpdatesService=objectUpdatesService,this.linkService=linkService,this.relationshipService=relationshipService,this.modalService=modalService,this.selectableListService=selectableListService}getRelationshipMessageKey(){return Object(combineLatest.a)(this.getLabel(),this.relatedEntityType$).pipe(Object(map.a)((([label,relatedEntityType])=>{if(Object(empty_util.b)(label)&&label.indexOf(\"is\")>-1&&label.indexOf(\"Of\")>-1){const relationshipLabel=`${label.substring(2,label.indexOf(\"Of\"))}`;return relationshipLabel!==relatedEntityType.label?`relationships.is${relationshipLabel}Of.${relatedEntityType.label}`:`relationships.is${relationshipLabel}Of`}return label})))}getLabel(){return Object(combineLatest.a)([this.relationshipType.leftType,this.relationshipType.rightType].map((itemTypeRD=>itemTypeRD.pipe(Object(operators.i)(),Object(operators.o)())))).pipe(Object(map.a)((itemTypes=>[this.relationshipType.leftwardType,this.relationshipType.rightwardType][itemTypes.findIndex((itemType=>itemType.id===this.itemType.id))])))}trackUpdate(index,update){return update&&update.field?update.field.uuid:void 0}openLookup(){this.modalRef=this.modalService.open(dynamic_lookup_relation_modal_component.a,{size:\"lg\"});const modalComp=this.modalRef.componentInstance;modalComp.repeatable=!0,modalComp.listId=this.listId,modalComp.item=this.item,this.item.owningCollection.pipe(Object(operators.j)()).subscribe((collection=>{modalComp.collection=collection})),modalComp.select=(...selectableObjects)=>{selectableObjects.forEach((searchResult=>{const relatedItem=searchResult.indexableObject;this.getFieldUpdatesForRelatedItem(relatedItem).subscribe((identifiables=>{identifiables.forEach((identifiable=>this.objectUpdatesService.removeSingleFieldUpdate(this.url,identifiable.uuid))),0===identifiables.length&&this.relationshipService.getNameVariant(this.listId,relatedItem.uuid).subscribe((nameVariant=>{this.objectUpdatesService.saveAddFieldUpdate(this.url,{uuid:this.relationshipType.id+\"-\"+relatedItem.uuid,nameVariant:nameVariant,type:this.relationshipType,relatedItem:relatedItem})}))}))}))},modalComp.deselect=(...selectableObjects)=>{selectableObjects.forEach((searchResult=>{const relatedItem=searchResult.indexableObject;this.objectUpdatesService.removeSingleFieldUpdate(this.url,this.relationshipType.id+\"-\"+relatedItem.uuid),this.getFieldUpdatesForRelatedItem(relatedItem).subscribe((identifiables=>identifiables.forEach((identifiable=>this.objectUpdatesService.saveRemoveFieldUpdate(this.url,identifiable)))))}))},this.relatedEntityType$.pipe(Object(take.a)(1)).subscribe((relatedEntityType=>{modalComp.relationshipOptions=Object.assign(new relationship_options_model.a,{relationshipType:relatedEntityType.label,searchConfiguration:relatedEntityType.label.toLowerCase(),nameVariants:!0})})),this.selectableListService.deselectAll(this.listId),this.updates$.pipe(Object(switchMap.a)((updates=>Object.values(updates).length>0?Object(combineLatest.a)(Object.values(updates).filter((update=>update.changeType!==object_updates_actions.c.REMOVE)).map((update=>{const field=update.field;return field.relationship?this.getRelatedItem(field.relationship):Object(of.a)(field.relatedItem)}))):Object(of.a)([]))),Object(take.a)(1),Object(map.a)((items=>items.map((item=>{const searchResult=new item_search_result_model.a;return searchResult.indexableObject=item,searchResult.hitHighlights={},searchResult}))))).subscribe((items=>{this.selectableListService.select(this.listId,items)}))}getFieldUpdatesForRelatedItem(relatedItem){return this.updates$.pipe(Object(take.a)(1),Object(map.a)((updates=>Object.values(updates).map((update=>update.field)).filter((field=>field.relationship)))),Object(mergeMap.a)((identifiables=>Object(combineLatest.a)(identifiables.map((identifiable=>this.getRelatedItem(identifiable.relationship)))).pipe(Object(defaultIfEmpty.a)([]),Object(map.a)((relatedItems=>identifiables.filter(((identifiable,index)=>relatedItems[index].uuid===relatedItem.uuid))))))))}getRelatedItem(relationship){return this.relationshipService.isLeftItem(relationship,this.item).pipe(Object(switchMap.a)((isLeftItem=>isLeftItem?relationship.rightItem:relationship.leftItem)),Object(operators.i)(),Object(operators.o)())}ngOnInit(){this.relatedEntityType$=Object(combineLatest.a)([this.relationshipType.leftType,this.relationshipType.rightType].map((type=>type.pipe(Object(operators.i)(),Object(operators.o)())))).pipe(Object(map.a)((relatedTypes=>relatedTypes.find((relatedType=>relatedType.uuid!==this.itemType.uuid)))),Object(empty_util.c)()),this.relatedEntityType$.pipe(Object(take.a)(1)).subscribe((relatedEntityType=>this.listId=`edit-relationship-${this.itemType.id}-${relatedEntityType.id}`)),this.updates$=this.getItemRelationships().pipe(Object(switchMap.a)((relationships=>Object(combineLatest.a)(relationships.map((relationship=>this.relationshipService.isLeftItem(relationship,this.item)))).pipe(Object(defaultIfEmpty.a)([]),Object(map.a)((isLeftItemArray=>isLeftItemArray.map(((isLeftItem,index)=>{const relationship=relationships[index];return{uuid:relationship.id,type:this.relationshipType,relationship:relationship,nameVariant:isLeftItem?relationship.rightwardValue:relationship.leftwardValue}}))))))),Object(switchMap.a)((initialFields=>this.objectUpdatesService.getFieldUpdates(this.url,initialFields).pipe(Object(map.a)((fieldUpdates=>{const fieldUpdatesFiltered={};return Object.keys(fieldUpdates).forEach((uuid=>{Object(empty_util.b)(fieldUpdates[uuid])&&fieldUpdates[uuid].field.type.id===this.relationshipType.id&&(fieldUpdatesFiltered[uuid]=fieldUpdates[uuid])})),fieldUpdatesFiltered}))))),Object(startWith.a)({}))}getItemRelationships(){return this.linkService.resolveLink(this.item,Object(follow_link_config_model.a)(\"relationships\",void 0,!0,!0,!0,Object(follow_link_config_model.a)(\"relationshipType\"),Object(follow_link_config_model.a)(\"leftItem\"),Object(follow_link_config_model.a)(\"rightItem\"))),this.item.relationships.pipe(Object(operators.c)(),Object(map.a)((relationships=>relationships.payload.page.filter((relationship=>Object(empty_util.b)(relationship))))),Object(switchMap.a)((itemRelationships=>Object(combineLatest.a)(itemRelationships.map((relationship=>relationship.relationshipType.pipe(Object(operators.i)(),Object(operators.o)())))).pipe(Object(defaultIfEmpty.a)([]),Object(map.a)((relationshipTypes=>itemRelationships.filter(((relationship,index)=>relationshipTypes[index].id===this.relationshipType.id))))))))}}return EditRelationshipListComponent.ɵfac=function(t){return new(t||EditRelationshipListComponent)(core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](link_service.a),core[\"ɵɵdirectiveInject\"](relationship_service.a),core[\"ɵɵdirectiveInject\"](ng_bootstrap.u),core[\"ɵɵdirectiveInject\"](selectable_list_service.a))},EditRelationshipListComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:EditRelationshipListComponent,selectors:[[\"ds-edit-relationship-list\"]],inputs:{item:\"item\",itemType:\"itemType\",url:\"url\",relationshipType:\"relationshipType\"},decls:17,vars:11,consts:[[1,\"ml-2\",\"btn\",\"btn-success\",3,\"click\"],[1,\"fas\",\"fa-plus\"],[1,\"d-none\",\"d-sm-inline\"],[4,\"ngVar\"],[4,\"ngIf\"],[\"class\",\"relationship-row d-block alert\",3,\"fieldUpdate\",\"url\",\"editItem\",\"ngClass\",4,\"ngFor\",\"ngForOf\",\"ngForTrackBy\"],[1,\"relationship-row\",\"d-block\",\"alert\",3,\"fieldUpdate\",\"url\",\"editItem\",\"ngClass\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"h5\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵelementStart\"](4,\"button\",0),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.openLookup()})),core[\"ɵɵtext\"](5,\"\\n        \"),core[\"ɵɵelement\"](6,\"i\",1),core[\"ɵɵtext\"](7,\"\\n        \"),core[\"ɵɵelementStart\"](8,\"span\",2),core[\"ɵɵtext\"](9),core[\"ɵɵpipe\"](10,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](11,\"\\n    \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](12,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](13,\"\\n\"),core[\"ɵɵtemplate\"](14,EditRelationshipListComponent_ng_container_14_Template,6,2,\"ng-container\",3),core[\"ɵɵpipe\"](15,\"async\"),core[\"ɵɵtext\"](16,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n    \",core[\"ɵɵpipeBind1\"](2,3,core[\"ɵɵpipeBind1\"](3,5,ctx.getRelationshipMessageKey())),\"\\n    \"),core[\"ɵɵadvance\"](8),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](10,7,\"item.edit.relationships.edit.buttons.add\"),\"\"),core[\"ɵɵadvance\"](5),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](15,9,ctx.updates$)))},directives:[var_directive.a,common.u,common.t,edit_relationship_component_EditRelationshipComponent,common.r,loading_component.a],pipes:[ngx_translate_core.e,common.b,object_values_pipe.a],styles:[\".relationship-row[_ngcontent-%COMP%]:not(.alert){padding:var(--bs-alert-padding-y) 0}.relationship-row.alert[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--bs-alert-padding-x));margin-right:calc(-1 * var(--bs-alert-padding-x));margin-top:-1px;margin-bottom:-1px}\"]}),EditRelationshipListComponent})();function ItemRelationshipsComponent_ng_container_2_ng_container_2_button_4_Template(rf,ctx){if(1&rf){const _r10=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",14),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r10),core[\"ɵɵnextContext\"](3).discard()})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵelement\"](2,\"i\",15),core[\"ɵɵtext\"](3,\"\\n          \"),core[\"ɵɵelementStart\"](4,\"span\",9),core[\"ɵɵtext\"](5),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](7,\"\\n        \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r4=core[\"ɵɵnextContext\"](3);core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](1,2,ctx_r4.hasChanges())),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](6,4,\"item.edit.metadata.discard-button\"),\"\")}}function ItemRelationshipsComponent_ng_container_2_ng_container_2_button_7_Template(rf,ctx){if(1&rf){const _r12=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",16),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r12),core[\"ɵɵnextContext\"](3).reinstate()})),core[\"ɵɵelement\"](1,\"i\",17),core[\"ɵɵtext\"](2,\"\\n          \"),core[\"ɵɵelementStart\"](3,\"span\",9),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n        \"),core[\"ɵɵelementEnd\"]()}2&rf&&(core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](5,1,\"item.edit.metadata.reinstate-button\"),\"\"))}function ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ng_container_2_div_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",19),core[\"ɵɵtext\"](1,\"\\n            \"),core[\"ɵɵelement\"](2,\"ds-edit-relationship-list\",20),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵtext\"](4,\"\\n          \"),core[\"ɵɵelementEnd\"]()),2&rf){const relationshipType_r17=ctx.$implicit,ctx_r16=core[\"ɵɵnextContext\"](5);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"url\",ctx_r16.url)(\"item\",ctx_r16.item)(\"itemType\",core[\"ɵɵpipeBind1\"](3,4,ctx_r16.entityType$))(\"relationshipType\",relationshipType_r17)}}function ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ng_container_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n          \"),core[\"ɵɵtemplate\"](2,ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ng_container_2_div_2_Template,5,6,\"div\",18),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const relationshipTypes_r13=core[\"ɵɵnextContext\"]().ngVar;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",relationshipTypes_r13)}}function ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ds_loading_4_Template(rf,ctx){1&rf&&core[\"ɵɵelement\"](0,\"ds-loading\")}function ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n        \"),core[\"ɵɵtemplate\"](2,ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ng_container_2_Template,4,1,\"ng-container\",2),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵtemplate\"](4,ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ds_loading_4_Template,1,0,\"ds-loading\",2),core[\"ɵɵtext\"](5,\"\\n      \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const relationshipTypes_r13=ctx.ngVar;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",relationshipTypes_r13),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",!relationshipTypes_r13)}}function ItemRelationshipsComponent_ng_container_2_ng_container_2_button_27_Template(rf,ctx){if(1&rf){const _r20=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",21),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r20),core[\"ɵɵnextContext\"](3).discard()})),core[\"ɵɵpipe\"](1,\"async\"),core[\"ɵɵelement\"](2,\"i\",15),core[\"ɵɵtext\"](3,\"\\n            \"),core[\"ɵɵelementStart\"](4,\"span\",9),core[\"ɵɵtext\"](5),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](7,\"\\n          \"),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r7=core[\"ɵɵnextContext\"](3);core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](1,2,ctx_r7.hasChanges())),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](6,4,\"item.edit.metadata.discard-button\"),\"\")}}function ItemRelationshipsComponent_ng_container_2_ng_container_2_button_30_Template(rf,ctx){if(1&rf){const _r22=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"button\",22),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r22),core[\"ɵɵnextContext\"](3).reinstate()})),core[\"ɵɵelement\"](1,\"i\",17),core[\"ɵɵtext\"](2,\"\\n            \"),core[\"ɵɵelementStart\"](3,\"span\",9),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](6,\"\\n          \"),core[\"ɵɵelementEnd\"]()}2&rf&&(core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](5,1,\"item.edit.metadata.reinstate-button\"),\"\"))}function ItemRelationshipsComponent_ng_container_2_ng_container_2_Template(rf,ctx){if(1&rf){const _r24=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n      \"),core[\"ɵɵelementStart\"](2,\"div\",4),core[\"ɵɵtext\"](3,\"\\n        \"),core[\"ɵɵtemplate\"](4,ItemRelationshipsComponent_ng_container_2_ng_container_2_button_4_Template,8,6,\"button\",5),core[\"ɵɵpipe\"](5,\"async\"),core[\"ɵɵtext\"](6,\"\\n        \"),core[\"ɵɵtemplate\"](7,ItemRelationshipsComponent_ng_container_2_ng_container_2_button_7_Template,7,3,\"button\",6),core[\"ɵɵpipe\"](8,\"async\"),core[\"ɵɵtext\"](9,\"\\n        \"),core[\"ɵɵelementStart\"](10,\"button\",7),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r24),core[\"ɵɵnextContext\"](2).submit()})),core[\"ɵɵpipe\"](11,\"async\"),core[\"ɵɵelement\"](12,\"i\",8),core[\"ɵɵtext\"](13,\"\\n          \"),core[\"ɵɵelementStart\"](14,\"span\",9),core[\"ɵɵtext\"](15),core[\"ɵɵpipe\"](16,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](17,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](18,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](19,\"\\n      \"),core[\"ɵɵtemplate\"](20,ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_Template,6,2,\"ng-container\",1),core[\"ɵɵpipe\"](21,\"async\"),core[\"ɵɵtext\"](22,\"\\n      \"),core[\"ɵɵelementStart\"](23,\"div\",10),core[\"ɵɵtext\"](24,\"\\n        \"),core[\"ɵɵelementStart\"](25,\"div\",11),core[\"ɵɵtext\"](26,\"\\n          \"),core[\"ɵɵtemplate\"](27,ItemRelationshipsComponent_ng_container_2_ng_container_2_button_27_Template,8,6,\"button\",12),core[\"ɵɵpipe\"](28,\"async\"),core[\"ɵɵtext\"](29,\"\\n          \"),core[\"ɵɵtemplate\"](30,ItemRelationshipsComponent_ng_container_2_ng_container_2_button_30_Template,7,3,\"button\",13),core[\"ɵɵpipe\"](31,\"async\"),core[\"ɵɵtext\"](32,\"\\n          \"),core[\"ɵɵelementStart\"](33,\"button\",7),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r24),core[\"ɵɵnextContext\"](2).submit()})),core[\"ɵɵpipe\"](34,\"async\"),core[\"ɵɵelement\"](35,\"i\",8),core[\"ɵɵtext\"](36,\"\\n            \"),core[\"ɵɵelementStart\"](37,\"span\",9),core[\"ɵɵtext\"](38),core[\"ɵɵpipe\"](39,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](40,\"\\n          \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](41,\"\\n        \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](42,\"\\n      \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](43,\"\\n    \"),core[\"ɵɵelementContainerEnd\"]()}if(2&rf){const ctx_r2=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](5,9,ctx_r2.isReinstatable())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](8,11,ctx_r2.isReinstatable())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](11,13,ctx_r2.hasChanges())),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](16,15,\"item.edit.metadata.save-button\"),\"\"),core[\"ɵɵadvance\"](5),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](21,17,ctx_r2.relationshipTypes$)),core[\"ɵɵadvance\"](7),core[\"ɵɵproperty\"](\"ngIf\",!core[\"ɵɵpipeBind1\"](28,19,ctx_r2.isReinstatable())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",core[\"ɵɵpipeBind1\"](31,21,ctx_r2.isReinstatable())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"disabled\",!core[\"ɵɵpipeBind1\"](34,23,ctx_r2.hasChanges())),core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](39,25,\"item.edit.metadata.save-button\"),\"\")}}function ItemRelationshipsComponent_ng_container_2_div_4_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",23),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"\\n      \",core[\"ɵɵpipeBind1\"](2,1,\"item.edit.relationships.no-entity-type\"),\"\\n    \"))}function ItemRelationshipsComponent_ng_container_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵtemplate\"](2,ItemRelationshipsComponent_ng_container_2_ng_container_2_Template,44,27,\"ng-container\",2),core[\"ɵɵtext\"](3,\"\\n    \"),core[\"ɵɵtemplate\"](4,ItemRelationshipsComponent_ng_container_2_div_4_Template,3,3,\"div\",3),core[\"ɵɵtext\"](5,\"\\n  \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const entityType_r1=ctx.ngVar;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",entityType_r1),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",!entityType_r1)}}let item_relationships_component_ItemRelationshipsComponent=(()=>{class ItemRelationshipsComponent extends abstract_item_update_component.a{constructor(itemService,objectUpdatesService,router,notificationsService,translateService,route,relationshipService,objectCache,requestService,entityTypeService,cdr){super(itemService,objectUpdatesService,router,notificationsService,translateService,route),this.itemService=itemService,this.objectUpdatesService=objectUpdatesService,this.router=router,this.notificationsService=notificationsService,this.translateService=translateService,this.route=route,this.relationshipService=relationshipService,this.objectCache=objectCache,this.requestService=requestService,this.entityTypeService=entityTypeService,this.cdr=cdr}initializeUpdates(){const label=this.item.firstMetadataValue(\"dspace.entity.type\");void 0!==label?(this.entityType$=this.entityTypeService.getEntityTypeByLabel(label).pipe(Object(operators.i)(),Object(operators.o)()),this.relationshipTypes$=this.entityType$.pipe(Object(switchMap.a)((entityType=>this.entityTypeService.getEntityTypeRelationships(entityType.id,!0,!0,Object(follow_link_config_model.a)(\"leftType\"),Object(follow_link_config_model.a)(\"rightType\")).pipe(Object(operators.i)(),Object(operators.o)(),Object(map.a)((relationshipTypes=>relationshipTypes.page))))))):this.entityType$=Object(of.a)(void 0)}initializeNotificationsPrefix(){this.notificationsPrefix=\"item.edit.relationships.notifications.\"}submit(){const removedRelationshipIDs$=this.relationshipService.getItemRelationshipsArray(this.item).pipe(Object(startWith.a)([]),Object(map.a)((relationships=>relationships.map((relationship=>Object.assign(new relationship_model.a,relationship,{uuid:relationship.id}))))),Object(switchMap.a)((relationships=>this.objectUpdatesService.getFieldUpdatesExclusive(this.url,relationships))),Object(map.a)((fieldUpdates=>Object.values(fieldUpdates).filter((fieldUpdate=>fieldUpdate.changeType===object_updates_actions.c.REMOVE)).map((fieldUpdate=>fieldUpdate.field))))),addRelatedItems$=this.objectUpdatesService.getFieldUpdates(this.url,[]).pipe(Object(map.a)((fieldUpdates=>Object.values(fieldUpdates).filter((fieldUpdate=>Object(empty_util.b)(fieldUpdate))).filter((fieldUpdate=>fieldUpdate.changeType===object_updates_actions.c.ADD)).map((fieldUpdate=>fieldUpdate.field)))));Object(combineLatest.a)(removedRelationshipIDs$,addRelatedItems$).pipe(Object(take.a)(1)).subscribe((([removeRelationshipIDs,addRelatedItems])=>{[this.deleteRelationships(removeRelationshipIDs),this.addRelationships(addRelatedItems)].forEach((action=>action.subscribe((response=>{response.length>0&&(this.initializeOriginalFields(),this.cdr.detectChanges(),this.displayNotifications(response))}))))}))}deleteRelationships(deleteRelationshipIDs){return Object(zip.a)(...deleteRelationshipIDs.map((deleteRelationship=>{let copyVirtualMetadata;return copyVirtualMetadata=deleteRelationship.keepLeftVirtualMetadata&&deleteRelationship.keepRightVirtualMetadata?\"all\":deleteRelationship.keepLeftVirtualMetadata?\"left\":deleteRelationship.keepRightVirtualMetadata?\"right\":\"none\",this.relationshipService.deleteRelationship(deleteRelationship.uuid,copyVirtualMetadata)})))}addRelationships(addRelatedItems){return Object(zip.a)(...addRelatedItems.map((addRelationship=>this.entityType$.pipe(Object(switchMap.a)((entityType=>this.entityTypeService.isLeftType(addRelationship.type,entityType))),Object(switchMap.a)((isLeftType=>{let leftItem,rightItem,leftwardValue,rightwardValue;return isLeftType?(leftItem=this.item,rightItem=addRelationship.relatedItem,leftwardValue=null,rightwardValue=addRelationship.nameVariant):(leftItem=addRelationship.relatedItem,rightItem=this.item,leftwardValue=addRelationship.nameVariant,rightwardValue=null),this.relationshipService.addRelationship(addRelationship.type.id,leftItem,rightItem,leftwardValue,rightwardValue)}))))))}displayNotifications(responses){const failedResponses=responses.filter((response=>response.hasFailed)),successfulResponses=responses.filter((response=>response.hasSucceeded));failedResponses.forEach((response=>{this.notificationsService.error(this.getNotificationTitle(\"failed\"),response.errorMessage)})),successfulResponses.length>0&&this.notificationsService.success(this.getNotificationTitle(\"saved\"),this.getNotificationContent(\"saved\"))}initializeOriginalFields(){return console.log(\"init\"),this.relationshipService.getRelatedItems(this.item).pipe(Object(take.a)(1)).subscribe((items=>{this.objectUpdatesService.initialize(this.url,items,this.item.lastModified)}))}}return ItemRelationshipsComponent.ɵfac=function(t){return new(t||ItemRelationshipsComponent)(core[\"ɵɵdirectiveInject\"](item_data_service.a),core[\"ɵɵdirectiveInject\"](object_updates_service.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.g),core[\"ɵɵdirectiveInject\"](notifications_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.f),core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](relationship_service.a),core[\"ɵɵdirectiveInject\"](object_cache_service.a),core[\"ɵɵdirectiveInject\"](request_service.a),core[\"ɵɵdirectiveInject\"](entity_type_service.a),core[\"ɵɵdirectiveInject\"](core.ChangeDetectorRef))},ItemRelationshipsComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemRelationshipsComponent,selectors:[[\"ds-item-relationships\"]],features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:6,vars:3,consts:[[1,\"item-relationships\"],[4,\"ngVar\"],[4,\"ngIf\"],[\"class\",\"alert alert-info mt-2\",\"role\",\"alert\",4,\"ngIf\"],[1,\"button-row\",\"top\",\"d-flex\"],[\"class\",\"btn btn-danger ml-auto\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"class\",\"btn btn-warning ml-auto\",3,\"click\",4,\"ngIf\"],[1,\"btn\",\"btn-primary\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-save\"],[1,\"d-none\",\"d-sm-inline\"],[1,\"button-row\",\"bottom\"],[1,\"float-right\"],[\"class\",\"btn btn-danger\",3,\"disabled\",\"click\",4,\"ngIf\"],[\"class\",\"btn btn-warning\",3,\"click\",4,\"ngIf\"],[1,\"btn\",\"btn-danger\",\"ml-auto\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-times\"],[1,\"btn\",\"btn-warning\",\"ml-auto\",3,\"click\"],[1,\"fas\",\"fa-undo-alt\"],[\"class\",\"mb-4\",4,\"ngFor\",\"ngForOf\"],[1,\"mb-4\"],[3,\"url\",\"item\",\"itemType\",\"relationshipType\"],[1,\"btn\",\"btn-danger\",3,\"disabled\",\"click\"],[1,\"btn\",\"btn-warning\",3,\"click\"],[\"role\",\"alert\",1,\"alert\",\"alert-info\",\"mt-2\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n  \"),core[\"ɵɵtemplate\"](2,ItemRelationshipsComponent_ng_container_2_Template,6,2,\"ng-container\",1),core[\"ɵɵpipe\"](3,\"async\"),core[\"ɵɵtext\"](4,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](5,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngVar\",core[\"ɵɵpipeBind1\"](3,1,ctx.entityType$)))},directives:[var_directive.a,common.u,common.t,edit_relationship_list_component_EditRelationshipListComponent,loading_component.a],pipes:[common.b,ngx_translate_core.e],styles:[\".button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:calc(.5 * var(--bs-spacer))}.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}@media screen and (min-width:576px){.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:var(--ds-edit-item-button-min-width)}}.button-row.top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:calc(var(--bs-spacer) / 2);margin-bottom:calc(var(--bs-spacer) / 2)}\"]}),ItemRelationshipsComponent})();var i18n_breadcrumb_resolver=__webpack_require__(\"A0IO\"),aletr_type=__webpack_require__(\"ac5F\"),alert_component=__webpack_require__(\"VYMa\"),item_versions_component=__webpack_require__(\"Y9an\");function ItemVersionHistoryComponent_div_5_ds_item_versions_2_Template(rf,ctx){if(1&rf&&core[\"ɵɵelement\"](0,\"ds-item-versions\",5),2&rf){const item_r1=core[\"ɵɵnextContext\"]().ngVar;core[\"ɵɵproperty\"](\"item\",item_r1)(\"displayWhenEmpty\",!0)(\"displayTitle\",!1)}}function ItemVersionHistoryComponent_div_5_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",3),core[\"ɵɵtext\"](1,\"\\n  \"),core[\"ɵɵtemplate\"](2,ItemVersionHistoryComponent_div_5_ds_item_versions_2_Template,1,3,\"ds-item-versions\",4),core[\"ɵɵtext\"](3,\"\\n\"),core[\"ɵɵelementEnd\"]()),2&rf){const item_r1=ctx.ngVar;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",item_r1)}}let item_version_history_component_ItemVersionHistoryComponent=(()=>{class ItemVersionHistoryComponent{constructor(route){this.route=route,this.AlertTypeEnum=aletr_type.a}ngOnInit(){this.itemRD$=this.route.parent.data.pipe(Object(map.a)((data=>data.dso))).pipe(Object(operators.i)())}}return ItemVersionHistoryComponent.ɵfac=function(t){return new(t||ItemVersionHistoryComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a))},ItemVersionHistoryComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemVersionHistoryComponent,selectors:[[\"ds-item-version-history\"]],decls:8,vars:5,consts:[[1,\"mt-4\"],[3,\"content\",\"type\"],[\"class\",\"mt-2\",4,\"ngVar\"],[1,\"mt-2\"],[3,\"item\",\"displayWhenEmpty\",\"displayTitle\",4,\"ngIf\"],[3,\"item\",\"displayWhenEmpty\",\"displayTitle\"]],template:function(rf,ctx){var tmp_2_0;1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n  \"),core[\"ɵɵelement\"](2,\"ds-alert\",1),core[\"ɵɵtext\"](3,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](4,\"\\n\"),core[\"ɵɵtemplate\"](5,ItemVersionHistoryComponent_div_5_Template,4,1,\"div\",2),core[\"ɵɵpipe\"](6,\"async\"),core[\"ɵɵtext\"](7,\"\\n\")),2&rf&&(core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"content\",\"item.edit.tabs.versionhistory.under-construction\")(\"type\",ctx.AlertTypeEnum.Warning),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngVar\",null==(tmp_2_0=core[\"ɵɵpipeBind1\"](6,3,ctx.itemRD$))?null:tmp_2_0.payload))},directives:[alert_component.a,var_directive.a,common.u,item_versions_component.a],pipes:[common.b],encapsulation:2}),ItemVersionHistoryComponent})();var catchError=__webpack_require__(\"JIr8\"),paginated_list_model=__webpack_require__(\"f+Ev\"),request_models=__webpack_require__(\"B/au\"),resource_policies_component=__webpack_require__(\"+Bs4\"),ng_for_track_by_id_directive=__webpack_require__(\"xPuV\");function ItemAuthorizationsComponent_ng_container_7_ng_container_4_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n      \"),core[\"ɵɵelement\"](2,\"ds-resource-policies\",2),core[\"ɵɵtext\"](3,\"\\n    \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const bitstream_r3=ctx.$implicit;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"resourceType\",\"bitstream\")(\"resourceUUID\",bitstream_r3.id)}}function ItemAuthorizationsComponent_ng_container_7_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtext\"](1,\"\\n    \"),core[\"ɵɵelement\"](2,\"ds-resource-policies\",2),core[\"ɵɵtext\"](3,\"\\n    \"),core[\"ɵɵtemplate\"](4,ItemAuthorizationsComponent_ng_container_7_ng_container_4_Template,4,2,\"ng-container\",3),core[\"ɵɵpipe\"](5,\"async\"),core[\"ɵɵtext\"](6,\"\\n  \"),core[\"ɵɵelementContainerEnd\"]()),2&rf){const bundle_r1=ctx.$implicit,ctx_r0=core[\"ɵɵnextContext\"]();var tmp_2_0;core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"resourceType\",\"bundle\")(\"resourceUUID\",bundle_r1.id),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",null==(tmp_2_0=core[\"ɵɵpipeBind1\"](5,3,ctx_r0.bundleBitstreamsMap.get(bundle_r1.id)))?null:tmp_2_0.page)}}let item_authorizations_component_ItemAuthorizationsComponent=(()=>{class ItemAuthorizationsComponent{constructor(linkService,route){this.linkService=linkService,this.route=route,this.bundleBitstreamsMap=new Map,this.bundles$=new BehaviorSubject.a([]),this.subs=[]}ngOnInit(){this.item$=this.route.data.pipe(Object(map.a)((data=>data.dso)),Object(operators.k)(),Object(map.a)((item=>this.linkService.resolveLink(item,Object(follow_link_config_model.a)(\"bundles\",new request_models.f,!0,!0,!0,Object(follow_link_config_model.a)(\"bitstreams\"))))));const bundles$=this.item$.pipe(Object(filter.a)((item=>Object(empty_util.e)(item.bundles))),Object(mergeMap.a)((item=>item.bundles)),Object(operators.k)(),Object(catchError.a)((error=>(console.error(error),Object(of.a)(Object(paginated_list_model.b)(null,[]))))));this.subs.push(bundles$.pipe(Object(take.a)(1),Object(map.a)((list=>list.page))).subscribe((bundles=>{this.bundles$.next(bundles)})),bundles$.pipe(Object(take.a)(1),Object(mergeMap.a)((list=>list.page)),Object(map.a)((bundle=>({id:bundle.id,bitstreams:this.getBundleBitstreams(bundle)})))).subscribe((entry=>{this.bundleBitstreamsMap.set(entry.id,entry.bitstreams)})))}getItemUUID(){return this.item$.pipe(Object(map.a)((item=>item.id)),Object(first.a)((UUID=>Object(empty_util.e)(UUID))))}getItemBundles(){return this.bundles$.asObservable()}getBundleBitstreams(bundle){return bundle.bitstreams.pipe(Object(operators.j)(),Object(catchError.a)((error=>(console.error(error),Object(of.a)(Object(paginated_list_model.b)(null,[]))))))}ngOnDestroy(){this.subs.filter((subscription=>Object(empty_util.b)(subscription))).forEach((subscription=>subscription.unsubscribe()))}}return ItemAuthorizationsComponent.ɵfac=function(t){return new(t||ItemAuthorizationsComponent)(core[\"ɵɵdirectiveInject\"](link_service.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.a))},ItemAuthorizationsComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ItemAuthorizationsComponent,selectors:[[\"ds-item-authorizations\"]],decls:11,vars:9,consts:[[1,\"container\"],[3,\"type\",\"content\"],[3,\"resourceType\",\"resourceUUID\"],[4,\"ngFor\",\"ngForTrackById\",\"ngForOf\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵtext\"](1,\"\\n  \"),core[\"ɵɵelement\"](2,\"ds-alert\",1),core[\"ɵɵtext\"](3,\"\\n  \"),core[\"ɵɵelement\"](4,\"ds-resource-policies\",2),core[\"ɵɵpipe\"](5,\"async\"),core[\"ɵɵtext\"](6,\"\\n  \"),core[\"ɵɵtemplate\"](7,ItemAuthorizationsComponent_ng_container_7_Template,7,5,\"ng-container\",3),core[\"ɵɵpipe\"](8,\"async\"),core[\"ɵɵtext\"](9,\"\\n\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](10,\"\\n\\n\")),2&rf&&(core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"type\",\"alert-info\")(\"content\",\"item.edit.authorizations.heading\"),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"resourceType\",\"item\")(\"resourceUUID\",core[\"ɵɵpipeBind1\"](5,5,ctx.getItemUUID())),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngForOf\",core[\"ɵɵpipeBind1\"](8,7,ctx.getItemBundles())))},directives:[alert_component.a,resource_policies_component.a,common.t,ng_for_track_by_id_directive.a],pipes:[common.b],encapsulation:2}),ItemAuthorizationsComponent})();var resource_policy_target_resolver=__webpack_require__(\"n1Qy\"),resource_policy_resolver=__webpack_require__(\"G5zm\"),resource_policy_create_component=__webpack_require__(\"EEUA\"),resource_policy_edit_component=__webpack_require__(\"ALMP\"),i18n_breadcrumbs_service=__webpack_require__(\"tv3Y\"),edit_item_page_routing_paths=__webpack_require__(\"YqLK\"),dso_page_single_feature_guard=__webpack_require__(\"0TMo\"),item_page_resolver=__webpack_require__(\"Y2Xq\"),auth_service=__webpack_require__(\"Vurf\");let item_page_reinstate_guard_ItemPageReinstateGuard=(()=>{class ItemPageReinstateGuard extends dso_page_single_feature_guard.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return Object(of.a)(feature_id.a.ReinstateItem)}}return ItemPageReinstateGuard.ɵfac=function(t){return new(t||ItemPageReinstateGuard)(core[\"ɵɵinject\"](item_page_resolver.a),core[\"ɵɵinject\"](authorization_data_service.a),core[\"ɵɵinject\"](fesm2015_router.g),core[\"ɵɵinject\"](auth_service.a))},ItemPageReinstateGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:ItemPageReinstateGuard,factory:ItemPageReinstateGuard.ɵfac,providedIn:\"root\"}),ItemPageReinstateGuard})(),item_page_withdraw_guard_ItemPageWithdrawGuard=(()=>{class ItemPageWithdrawGuard extends dso_page_single_feature_guard.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return Object(of.a)(feature_id.a.WithdrawItem)}}return ItemPageWithdrawGuard.ɵfac=function(t){return new(t||ItemPageWithdrawGuard)(core[\"ɵɵinject\"](item_page_resolver.a),core[\"ɵɵinject\"](authorization_data_service.a),core[\"ɵɵinject\"](fesm2015_router.g),core[\"ɵɵinject\"](auth_service.a))},ItemPageWithdrawGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:ItemPageWithdrawGuard,factory:ItemPageWithdrawGuard.ɵfac,providedIn:\"root\"}),ItemPageWithdrawGuard})(),item_page_metadata_guard_ItemPageMetadataGuard=(()=>{class ItemPageMetadataGuard extends dso_page_single_feature_guard.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return Object(of.a)(feature_id.a.CanEditMetadata)}}return ItemPageMetadataGuard.ɵfac=function(t){return new(t||ItemPageMetadataGuard)(core[\"ɵɵinject\"](item_page_resolver.a),core[\"ɵɵinject\"](authorization_data_service.a),core[\"ɵɵinject\"](fesm2015_router.g),core[\"ɵɵinject\"](auth_service.a))},ItemPageMetadataGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:ItemPageMetadataGuard,factory:ItemPageMetadataGuard.ɵfac,providedIn:\"root\"}),ItemPageMetadataGuard})();var item_page_administrator_guard=__webpack_require__(\"TtSl\"),dso_page_some_feature_guard=__webpack_require__(\"HENg\");let item_page_status_guard_ItemPageStatusGuard=(()=>{class ItemPageStatusGuard extends dso_page_some_feature_guard.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureIDs(next,state){return Object(of.a)([feature_id.a.CanManageMappings,feature_id.a.WithdrawItem,feature_id.a.ReinstateItem,feature_id.a.CanManagePolicies,feature_id.a.CanMakePrivate,feature_id.a.CanDelete,feature_id.a.CanMove])}}return ItemPageStatusGuard.ɵfac=function(t){return new(t||ItemPageStatusGuard)(core[\"ɵɵinject\"](item_page_resolver.a),core[\"ɵɵinject\"](authorization_data_service.a),core[\"ɵɵinject\"](fesm2015_router.g),core[\"ɵɵinject\"](auth_service.a))},ItemPageStatusGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:ItemPageStatusGuard,factory:ItemPageStatusGuard.ɵfac,providedIn:\"root\"}),ItemPageStatusGuard})(),item_page_bitstreams_guard_ItemPageBitstreamsGuard=(()=>{class ItemPageBitstreamsGuard extends dso_page_single_feature_guard.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return Object(of.a)(feature_id.a.CanManageBitstreamBundles)}}return ItemPageBitstreamsGuard.ɵfac=function(t){return new(t||ItemPageBitstreamsGuard)(core[\"ɵɵinject\"](item_page_resolver.a),core[\"ɵɵinject\"](authorization_data_service.a),core[\"ɵɵinject\"](fesm2015_router.g),core[\"ɵɵinject\"](auth_service.a))},ItemPageBitstreamsGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:ItemPageBitstreamsGuard,factory:ItemPageBitstreamsGuard.ɵfac,providedIn:\"root\"}),ItemPageBitstreamsGuard})(),item_page_relationships_guard_ItemPageRelationshipsGuard=(()=>{class ItemPageRelationshipsGuard extends dso_page_single_feature_guard.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return Object(of.a)(feature_id.a.CanManageRelationships)}}return ItemPageRelationshipsGuard.ɵfac=function(t){return new(t||ItemPageRelationshipsGuard)(core[\"ɵɵinject\"](item_page_resolver.a),core[\"ɵɵinject\"](authorization_data_service.a),core[\"ɵɵinject\"](fesm2015_router.g),core[\"ɵɵinject\"](auth_service.a))},ItemPageRelationshipsGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:ItemPageRelationshipsGuard,factory:ItemPageRelationshipsGuard.ɵfac,providedIn:\"root\"}),ItemPageRelationshipsGuard})(),item_page_version_history_guard_ItemPageVersionHistoryGuard=(()=>{class ItemPageVersionHistoryGuard extends dso_page_single_feature_guard.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return Object(of.a)(feature_id.a.CanManageVersions)}}return ItemPageVersionHistoryGuard.ɵfac=function(t){return new(t||ItemPageVersionHistoryGuard)(core[\"ɵɵinject\"](item_page_resolver.a),core[\"ɵɵinject\"](authorization_data_service.a),core[\"ɵɵinject\"](fesm2015_router.g),core[\"ɵɵinject\"](auth_service.a))},ItemPageVersionHistoryGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:ItemPageVersionHistoryGuard,factory:ItemPageVersionHistoryGuard.ɵfac,providedIn:\"root\"}),ItemPageVersionHistoryGuard})(),item_page_collection_mapper_guard_ItemPageCollectionMapperGuard=(()=>{class ItemPageCollectionMapperGuard extends dso_page_single_feature_guard.a{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return Object(of.a)(feature_id.a.CanManageMappings)}}return ItemPageCollectionMapperGuard.ɵfac=function(t){return new(t||ItemPageCollectionMapperGuard)(core[\"ɵɵinject\"](item_page_resolver.a),core[\"ɵɵinject\"](authorization_data_service.a),core[\"ɵɵinject\"](fesm2015_router.g),core[\"ɵɵinject\"](auth_service.a))},ItemPageCollectionMapperGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:ItemPageCollectionMapperGuard,factory:ItemPageCollectionMapperGuard.ɵfac,providedIn:\"root\"}),ItemPageCollectionMapperGuard})(),edit_item_page_routing_module_EditItemPageRoutingModule=(()=>{class EditItemPageRoutingModule{}return EditItemPageRoutingModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:EditItemPageRoutingModule}),EditItemPageRoutingModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||EditItemPageRoutingModule)},providers:[i18n_breadcrumb_resolver.a,i18n_breadcrumbs_service.a,resource_policy_resolver.a,resource_policy_target_resolver.a,item_page_reinstate_guard_ItemPageReinstateGuard,item_page_withdraw_guard_ItemPageWithdrawGuard,item_page_administrator_guard.a,item_page_metadata_guard_ItemPageMetadataGuard,item_page_status_guard_ItemPageStatusGuard,item_page_bitstreams_guard_ItemPageBitstreamsGuard,item_page_relationships_guard_ItemPageRelationshipsGuard,item_page_version_history_guard_ItemPageVersionHistoryGuard,item_page_collection_mapper_guard_ItemPageCollectionMapperGuard],imports:[[fesm2015_router.k.forChild([{path:\"\",resolve:{breadcrumb:i18n_breadcrumb_resolver.a},data:{breadcrumbKey:\"item.edit\"},children:[{path:\"\",component:edit_item_page_component_EditItemPageComponent,children:[{path:\"\",redirectTo:\"status\",pathMatch:\"full\"},{path:\"status\",component:item_status_component_ItemStatusComponent,data:{title:\"item.edit.tabs.status.title\",showBreadcrumbs:!0},canActivate:[item_page_status_guard_ItemPageStatusGuard]},{path:\"bitstreams\",component:item_bitstreams_component_ItemBitstreamsComponent,data:{title:\"item.edit.tabs.bitstreams.title\",showBreadcrumbs:!0},canActivate:[item_page_bitstreams_guard_ItemPageBitstreamsGuard]},{path:\"metadata\",component:item_metadata_component.a,data:{title:\"item.edit.tabs.metadata.title\",showBreadcrumbs:!0},canActivate:[item_page_metadata_guard_ItemPageMetadataGuard]},{path:\"relationships\",component:item_relationships_component_ItemRelationshipsComponent,data:{title:\"item.edit.tabs.relationships.title\",showBreadcrumbs:!0},canActivate:[item_page_relationships_guard_ItemPageRelationshipsGuard]},{path:\"versionhistory\",component:item_version_history_component_ItemVersionHistoryComponent,data:{title:\"item.edit.tabs.versionhistory.title\",showBreadcrumbs:!0},canActivate:[item_page_version_history_guard_ItemPageVersionHistoryGuard]},{path:\"mapper\",component:item_collection_mapper_component_ItemCollectionMapperComponent,data:{title:\"item.edit.tabs.item-mapper.title\",showBreadcrumbs:!0},canActivate:[item_page_collection_mapper_guard_ItemPageCollectionMapperGuard]}]},{path:\"mapper\",component:item_collection_mapper_component_ItemCollectionMapperComponent},{path:edit_item_page_routing_paths.g,component:item_withdraw_component_ItemWithdrawComponent,canActivate:[item_page_withdraw_guard_ItemPageWithdrawGuard]},{path:edit_item_page_routing_paths.f,component:item_reinstate_component_ItemReinstateComponent,canActivate:[item_page_reinstate_guard_ItemPageReinstateGuard]},{path:edit_item_page_routing_paths.d,component:item_private_component_ItemPrivateComponent},{path:edit_item_page_routing_paths.e,component:item_public_component_ItemPublicComponent},{path:edit_item_page_routing_paths.b,component:item_delete_component_ItemDeleteComponent},{path:edit_item_page_routing_paths.c,component:item_move_component_ItemMoveComponent,data:{title:\"item.edit.move.title\"}},{path:edit_item_page_routing_paths.a,children:[{path:\"create\",resolve:{resourcePolicyTarget:resource_policy_target_resolver.a},component:resource_policy_create_component.a,data:{title:\"resource-policies.create.page.title\"}},{path:\"edit\",resolve:{resourcePolicy:resource_policy_resolver.a},component:resource_policy_edit_component.a,data:{title:\"resource-policies.edit.page.title\"}},{path:\"\",component:item_authorizations_component_ItemAuthorizationsComponent,data:{title:\"item.edit.authorizations.title\"}}]}]}])]]}),EditItemPageRoutingModule})();var search_page_module=__webpack_require__(\"HQAL\");let edit_item_page_module_EditItemPageModule=(()=>{class EditItemPageModule{}return EditItemPageModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:EditItemPageModule}),EditItemPageModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||EditItemPageModule)},providers:[bundle_data_service.a,object_values_pipe.a],imports:[[common.c,shared_module.a,edit_item_page_routing_module_EditItemPageRoutingModule,search_page_module.a,drag_drop.g]]}),EditItemPageModule})()},\"d/jG\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return AbstractItemUpdateComponent}));var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"itXk\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"lJxs\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"vkgz\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"eIep\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"SxV6\"),_shared_trackable_abstract_trackable_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"daFX\"),_environments_environment__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"AytR\"),_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"MEmd\"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(\"1QIV\"),_shared_empty_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(\"J3qs\"),_item_resolver__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(\"u0Hx\"),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(\"8Y7J\"),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(\"iqTE\"),_core_data_object_updates_object_updates_service__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(\"loKC\"),_angular_router__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(\"iInd\"),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(\"lI3o\"),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(\"TSSN\");let AbstractItemUpdateComponent=(()=>{class AbstractItemUpdateComponent extends _shared_trackable_abstract_trackable_component__WEBPACK_IMPORTED_MODULE_5__.a{constructor(itemService,objectUpdatesService,router,notificationsService,translateService,route){super(objectUpdatesService,notificationsService,translateService),this.itemService=itemService,this.objectUpdatesService=objectUpdatesService,this.router=router,this.notificationsService=notificationsService,this.translateService=translateService,this.route=route}ngOnInit(){Object(_shared_empty_util__WEBPACK_IMPORTED_MODULE_9__.b)(this.item)?this.setItem(this.item):this.itemUpdateSubscription=Object(rxjs__WEBPACK_IMPORTED_MODULE_0__.a)([this.route.data,this.route.parent.data]).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((([data,parentData])=>Object.assign({},data,parentData))),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((data=>data.dso)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((rd=>{this.item=rd.payload})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((rd=>this.itemService.findByHref(rd.payload._links.self.href,!0,!0,..._item_resolver__WEBPACK_IMPORTED_MODULE_10__.a))),Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.c)()).subscribe((rd=>{this.setItem(rd.payload)})),this.discardTimeOut=_environments_environment__WEBPACK_IMPORTED_MODULE_6__.a.item.edit.undoTimeout,this.url=this.router.url,this.url.indexOf(\"?\")>0&&(this.url=this.url.substr(0,this.url.indexOf(\"?\"))),this.hasChanges().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)()).subscribe((hasChanges=>{hasChanges?this.checkLastModified():this.initializeOriginalFields()})),this.initializeNotificationsPrefix(),this.initializeUpdates()}setItem(item){this.item=item,this.itemPageRoute=Object(_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.f)(this.item),this.postItemInit(),this.initializeUpdates()}ngOnDestroy(){Object(_shared_empty_util__WEBPACK_IMPORTED_MODULE_9__.b)(this.itemUpdateSubscription)&&this.itemUpdateSubscription.unsubscribe()}postItemInit(){}initializeUpdates(){}initializeNotificationsPrefix(){}initializeOriginalFields(){}submit(){}trackUpdate(index,update){return update&&update.field?update.field.uuid:void 0}isValid(){return this.objectUpdatesService.isValidPage(this.url)}checkLastModified(){const currentVersion=this.item.lastModified;this.objectUpdatesService.getLastModified(this.url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.a)()).subscribe((updateVersion=>{updateVersion.getDate()!==currentVersion.getDate()&&(this.notificationsService.warning(this.getNotificationTitle(\"outdated\"),this.getNotificationContent(\"outdated\")),this.initializeOriginalFields())}))}}return AbstractItemUpdateComponent.ɵfac=function(t){return new(t||AbstractItemUpdateComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__[\"ɵɵdirectiveInject\"](_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_12__.a),_angular_core__WEBPACK_IMPORTED_MODULE_11__[\"ɵɵdirectiveInject\"](_core_data_object_updates_object_updates_service__WEBPACK_IMPORTED_MODULE_13__.a),_angular_core__WEBPACK_IMPORTED_MODULE_11__[\"ɵɵdirectiveInject\"](_angular_router__WEBPACK_IMPORTED_MODULE_14__.g),_angular_core__WEBPACK_IMPORTED_MODULE_11__[\"ɵɵdirectiveInject\"](_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_15__.a),_angular_core__WEBPACK_IMPORTED_MODULE_11__[\"ɵɵdirectiveInject\"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.f),_angular_core__WEBPACK_IMPORTED_MODULE_11__[\"ɵɵdirectiveInject\"](_angular_router__WEBPACK_IMPORTED_MODULE_14__.a))},AbstractItemUpdateComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__[\"ɵɵdefineComponent\"]({type:AbstractItemUpdateComponent,selectors:[[\"ds-abstract-item-update\"]],inputs:{item:\"item\"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__[\"ɵɵInheritDefinitionFeature\"]],decls:0,vars:0,template:function(rf,ctx){},encapsulation:2}),AbstractItemUpdateComponent})()},hucJ:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return DSOBreadcrumbResolver}));var _shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"1QIV\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"lJxs\"),_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"J3qs\"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"8Y7J\"),_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"GCaJ\"),_data_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"h5qW\");let DSOBreadcrumbResolver=(()=>{class DSOBreadcrumbResolver{constructor(breadcrumbService,dataService){this.breadcrumbService=breadcrumbService,this.dataService=dataService}resolve(route,state){const uuid=route.params.id;return this.dataService.findById(uuid,!0,!1,...this.followLinks).pipe(Object(_shared_operators__WEBPACK_IMPORTED_MODULE_0__.g)(),Object(_shared_operators__WEBPACK_IMPORTED_MODULE_0__.o)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((object=>{if(Object(_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.b)(object)){const fullPath=state.url,url=fullPath.substr(0,fullPath.indexOf(uuid))+uuid;return{provider:this.breadcrumbService,key:object,url:url}}})))}}return DSOBreadcrumbResolver.ɵfac=function(t){return new(t||DSOBreadcrumbResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ɵɵinject\"](_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ɵɵinject\"](_data_data_service__WEBPACK_IMPORTED_MODULE_5__.a))},DSOBreadcrumbResolver.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_3__[\"ɵɵdefineInjectable\"]({token:DSOBreadcrumbResolver,factory:DSOBreadcrumbResolver.ɵfac,providedIn:\"root\"}),DSOBreadcrumbResolver})()},mjBp:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ConfigurationSearchPageGuard}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"8Y7J\");let ConfigurationSearchPageGuard=(()=>{class ConfigurationSearchPageGuard{canActivate(route,state){return route.data={title:route.params.configuration+\".search.title\"},!0}}return ConfigurationSearchPageGuard.ɵfac=function(t){return new(t||ConfigurationSearchPageGuard)},ConfigurationSearchPageGuard.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵdefineInjectable\"]({token:ConfigurationSearchPageGuard,factory:ConfigurationSearchPageGuard.ɵfac}),ConfigurationSearchPageGuard})()},ofZh:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"SearchPageComponent\",(function(){return SearchPageComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"8Y7J\"),_search_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"FZ4K\"),_search_tracker_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"tVEM\");let SearchPageComponent=(()=>{class SearchPageComponent{}return SearchPageComponent.ɵfac=function(t){return new(t||SearchPageComponent)},SearchPageComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵdefineComponent\"]({type:SearchPageComponent,selectors:[[\"ds-search-page\"]],decls:4,vars:0,template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵelement\"](0,\"ds-search\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵtext\"](1,\"\\n\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵelement\"](2,\"ds-search-tracker\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵtext\"](3,\"\\n\"))},directives:[_search_component__WEBPACK_IMPORTED_MODULE_1__.a,_search_tracker_component__WEBPACK_IMPORTED_MODULE_2__.a],encapsulation:2}),SearchPageComponent})()},tVEM:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return SearchTrackerComponent}));var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"eIep\"),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"lJxs\"),_search_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"FZ4K\"),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"ztnu\"),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"joI/\"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"1QIV\"),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"8Y7J\"),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"gWc+\"),_shared_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(\"7LZ0\"),_shared_host_window_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(\"14tD\"),_core_services_route_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(\"ppE2\"),angulartics2__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(\"srUL\"),_angular_router__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(\"iInd\");let SearchTrackerComponent=(()=>{class SearchTrackerComponent extends _search_component__WEBPACK_IMPORTED_MODULE_2__.a{constructor(service,sidebarService,windowService,searchConfigService,routeService,angulartics2,router){super(service,sidebarService,windowService,searchConfigService,routeService,router),this.service=service,this.sidebarService=sidebarService,this.windowService=windowService,this.searchConfigService=searchConfigService,this.routeService=routeService,this.angulartics2=angulartics2,this.router=router}ngOnInit(){this.getSearchOptions().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__.a)((options=>this.service.searchEntries(options).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.i)(),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((rd=>({config:options,searchQueryResponse:rd.payload}))))))).subscribe((({config:config,searchQueryResponse:searchQueryResponse})=>{const filters=[],appliedFilters=searchQueryResponse.appliedFilters||[];for(let i=0,filtersLength=appliedFilters.length;i<filtersLength;i++)filters.push(appliedFilters[i]);this.angulartics2.eventTrack.next({action:\"search\",properties:{searchOptions:config,page:{size:config.pagination.size,totalElements:searchQueryResponse.pageInfo.totalElements,totalPages:searchQueryResponse.pageInfo.totalPages,number:config.pagination.currentPage},sort:{by:config.sort.field,order:config.sort.direction},filters:filters}})}))}}return SearchTrackerComponent.ɵfac=function(t){return new(t||SearchTrackerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵdirectiveInject\"](_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__.a),_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵdirectiveInject\"](_shared_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_8__.a),_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵdirectiveInject\"](_shared_host_window_service__WEBPACK_IMPORTED_MODULE_9__.a),_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵdirectiveInject\"](_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_3__.SEARCH_CONFIG_SERVICE),_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵdirectiveInject\"](_core_services_route_service__WEBPACK_IMPORTED_MODULE_10__.a),_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵdirectiveInject\"](angulartics2__WEBPACK_IMPORTED_MODULE_11__.b),_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵdirectiveInject\"](_angular_router__WEBPACK_IMPORTED_MODULE_12__.g))},SearchTrackerComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵdefineComponent\"]({type:SearchTrackerComponent,selectors:[[\"ds-search-tracker\"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵProvidersFeature\"]([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_3__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_4__.a}]),_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵInheritDefinitionFeature\"]],decls:1,vars:0,template:function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_6__[\"ɵɵtext\"](0,\" \\n\")},styles:[\"[_nghost-%COMP%]{display:none}\"]}),SearchTrackerComponent})()},tv3Y:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return I18nBreadcrumbsService}));var _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"zr/d\"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"LRne\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"8Y7J\");let I18nBreadcrumbsService=(()=>{class I18nBreadcrumbsService{getBreadcrumbs(key,url){return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__.a)([new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_0__.a(key+\".breadcrumbs\",url)])}}return I18nBreadcrumbsService.ɵfac=function(t){return new(t||I18nBreadcrumbsService)},I18nBreadcrumbsService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdefineInjectable\"]({token:I18nBreadcrumbsService,factory:I18nBreadcrumbsService.ɵfac,providedIn:\"root\"}),I18nBreadcrumbsService})()},u0Hx:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ITEM_PAGE_LINKS_TO_FOLLOW})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return ItemResolver}));var _shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"84Zn\"),_core_data_request_models__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"B/au\"),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"1QIV\"),_core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"8jtY\"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"8Y7J\"),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"iqTE\"),_ngrx_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"tqRt\"),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"iInd\");const ITEM_PAGE_LINKS_TO_FOLLOW=[Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__.a)(\"owningCollection\",void 0,!0,!0,!0,Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__.a)(\"parentCommunity\",void 0,!0,!0,!0,Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__.a)(\"parentCommunity\"))),Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__.a)(\"bundles\",new _core_data_request_models__WEBPACK_IMPORTED_MODULE_1__.f,!0,!0,!0,Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__.a)(\"bitstreams\")),Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__.a)(\"relationships\"),Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__.a)(\"version\",void 0,!0,!0,!0,Object(_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__.a)(\"versionhistory\"))];let ItemResolver=(()=>{class ItemResolver{constructor(itemService,store,router){this.itemService=itemService,this.store=store,this.router=router}resolve(route,state){const itemRD$=this.itemService.findById(route.params.id,!0,!1,...ITEM_PAGE_LINKS_TO_FOLLOW).pipe(Object(_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.g)());return itemRD$.subscribe((itemRD=>{this.store.dispatch(new _core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_3__.a(state.url,itemRD.payload))})),itemRD$}}return ItemResolver.ɵfac=function(t){return new(t||ItemResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ɵɵinject\"](_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ɵɵinject\"](_ngrx_store__WEBPACK_IMPORTED_MODULE_6__.h),_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ɵɵinject\"](_angular_router__WEBPACK_IMPORTED_MODULE_7__.g))},ItemResolver.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_4__[\"ɵɵdefineInjectable\"]({token:ItemResolver,factory:ItemResolver.ɵfac}),ItemResolver})()},\"zr/d\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return Breadcrumb}));class Breadcrumb{constructor(text,url){this.text=text,this.url=url}}}}]);","map":{"version":3,"sources":["4-es2015.39239ae822864ff5076d.js"],"names":["window","push","0TMo","module","__webpack_exports__","__webpack_require__","d","DsoPageSingleFeatureGuard","_dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__","rxjs_operators__WEBPACK_IMPORTED_MODULE_1__","[object Object]","route","state","this","getFeatureID","pipe","Object","featureID","5FsK","item_metadata_component_ItemMetadataComponent","lodash","first","switchMap","operators","metadata_models","abstract_item_update_component","empty_util","aletr_type","object_updates_actions","MetadataPatchOperation","op","field","metadata_patch_add_operation_model_MetadataPatchAddOperation","MetadataPatchAddOperation","value","super","operationType","path","metadata_patch_remove_operation_model_MetadataPatchRemoveOperation","MetadataPatchRemoveOperation","place","metadata_patch_replace_operation_model_MetadataPatchReplaceOperation","MetadataPatchReplaceOperation","core","metadata_patch_operation_service_MetadataPatchOperationService","MetadataPatchOperationService","fieldUpdates","metadataPatch","fieldUpdatesToMetadataPatchOperations","metadataRemoveMap","Map","patch","forEach","operation","has","get","index","set","toOperation","keys","uuid","update","metadatum","val","language","changeType","ADD","key","REMOVE","UPDATE","ɵfac","t","ɵprov","token","factory","providedIn","item_data_service","object_updates_service","fesm2015_router","notifications_service","ngx_translate_core","common","BehaviorSubject","of","map","follow_link_config_model","registry_service","validation_suggestions_component","auto_focus_directive","fesm2015_forms","click_outside_directive","debounce_directive","_c0","EditInPlaceFieldComponent_div_4_Template","rf","ctx","ctx_r0","metadata","split","join","_c1","standalone","EditInPlaceFieldComponent_div_7_Template","_r11","$event","_r9","checkValidity","findMetadataFieldSuggestions","ctx_r1","metadataFieldSuggestions","url","valid","EditInPlaceFieldComponent_small_10_Template","EditInPlaceFieldComponent_div_19_Template","ctx_r3","EditInPlaceFieldComponent_div_22_Template","_r18","ctx_r4","EditInPlaceFieldComponent_div_31_Template","ctx_r5","EditInPlaceFieldComponent_div_34_Template","_r21","ctx_r6","EditInPlaceFieldComponent_button_43_Template","_r24","setEditable","ctx_r7","canSetEditable","EditInPlaceFieldComponent_button_46_Template","_r26","ctx_r8","canSetUneditable","edit_in_place_field_component_EditInPlaceFieldComponent","EditInPlaceFieldComponent","registryService","objectUpdatesService","editable","isEditable","isValid","ngModel","saveChangeFieldUpdate","control","setValue","viewModel","updateValueAndValidity","setValidFieldUpdate","setEditableFieldUpdate","saveRemoveFieldUpdate","removeSingleFieldUpdate","fieldUpdate","query","queryMetadataFields","subscribe","fieldNames","setInputSuggestions","next","fields","fieldName","displayValue","ɵcmp","type","selectors","inputs","features","attrs","decls","vars","consts","template","remove","removeChangesFromField","canRemove","canUndo","directives","pipes","styles","alert_component","object_values_pipe","ItemMetadataComponent_button_12_Template","_r7","reinstate","ItemMetadataComponent_button_25_Template","discard","hasChanges","item_metadata_component_c0","item_metadata_component_c1","a0","a1","a2","table-warning","table-danger","table-success","ItemMetadataComponent_table_29_tr_23_Template","updateValue_r11","$implicit","ctx_r10","ItemMetadataComponent_table_29_Template","ctx_r2","updates$","trackUpdate","ItemMetadataComponent_div_33_Template","AlertTypeEnum","Info","ItemMetadataComponent_button_41_Template","_r13","ItemMetadataComponent_button_50_Template","_r15","ItemMetadataComponent","itemService","router","notificationsService","translateService","ngOnInit","updateService","getFieldUpdates","item","metadataAsList","notificationsPrefix","saveAddFieldUpdate","initialize","lastModified","createPatch","rd","hasFailed","error","getNotificationTitle","errorMessage","payload","checkAndFixMetadataUUIDs","initializeOriginalFields","success","getNotificationContent","assign","add","submit","isReinstatable","length","8kTG","exports","./custom/app/+search-page/search-page.component","webpackAsyncContext","req","o","Promise","resolve","then","e","Error","code","ids","id","A0IO","I18nBreadcrumbResolver","_shared_empty_util__WEBPACK_IMPORTED_MODULE_0__","_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_1__","_angular_core__WEBPACK_IMPORTED_MODULE_2__","_i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_3__","breadcrumbService","data","breadcrumbKey","fullPath","provider","GCaJ","DSOBreadcrumbsService","_breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_0__","rxjs__WEBPACK_IMPORTED_MODULE_1__","_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_2__","rxjs_operators__WEBPACK_IMPORTED_MODULE_3__","rxjs_operators__WEBPACK_IMPORTED_MODULE_4__","rxjs_operators__WEBPACK_IMPORTED_MODULE_5__","_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__","_app_routing_paths__WEBPACK_IMPORTED_MODULE_7__","_angular_core__WEBPACK_IMPORTED_MODULE_8__","_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_9__","_dso_name_service__WEBPACK_IMPORTED_MODULE_10__","linkService","dsoNameService","label","getName","crumb","propertyName","getParentLinkKey","resolveLink","parentRD","hasSucceeded","statusCode","parent","getBreadcrumbs","breadcrumbs","HENg","DsoPageSomeFeatureGuard","_shared_operators__WEBPACK_IMPORTED_MODULE_0__","_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__","_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_3__","resolver","authorizationService","authService","routeWithObjectID","getRouteWithDSOId","dso","self","routeWithDSOId","params","HQAL","SearchPageModule","_angular_common__WEBPACK_IMPORTED_MODULE_0__","_core_core_module__WEBPACK_IMPORTED_MODULE_1__","_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__","_shared_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_4__","_configuration_search_page_guard__WEBPACK_IMPORTED_MODULE_5__","_statistics_statistics_module__WEBPACK_IMPORTED_MODULE_7__","_shared_sidebar_filter_sidebar_filter_service__WEBPACK_IMPORTED_MODULE_9__","_core_shared_search_search_filter_service__WEBPACK_IMPORTED_MODULE_10__","_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_11__","_entity_groups_journal_entities_journal_entities_module__WEBPACK_IMPORTED_MODULE_12__","_entity_groups_research_entities_research_entities_module__WEBPACK_IMPORTED_MODULE_13__","_angular_core__WEBPACK_IMPORTED_MODULE_15__","ɵmod","ɵinj","providers","imports","withEntryComponents","forRoot","TIQJ","ThemedSearchPageComponent","_shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__","_angular_core__WEBPACK_IMPORTED_MODULE_1__","ThemedSearchPageComponent_ng_template_0_Template","themeName","bind","ɵThemedSearchPageComponent_BaseFactory","encapsulation","TtSl","ItemPageAdministratorGuard","_core_data_feature_authorization_feature_authorization_guard_dso_page_single_feature_guard__WEBPACK_IMPORTED_MODULE_0__","_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_2__","_angular_core__WEBPACK_IMPORTED_MODULE_3__","_item_page_resolver__WEBPACK_IMPORTED_MODULE_4__","_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_5__","_angular_router__WEBPACK_IMPORTED_MODULE_6__","_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_7__","AdministratorOf","Y2Xq","ItemPageResolver","rxjs_operators__WEBPACK_IMPORTED_MODULE_0__","_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__","_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_2__","_item_resolver__WEBPACK_IMPORTED_MODULE_3__","_angular_core__WEBPACK_IMPORTED_MODULE_4__","_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_5__","_ngrx_store__WEBPACK_IMPORTED_MODULE_6__","_angular_router__WEBPACK_IMPORTED_MODULE_7__","store","itemRoute","thisRoute","startsWith","itemId","subRoute","substring","indexOf","navigateByUrl","bG9Y","r","edit_item_page_module_EditItemPageModule","shared_module","fade","combineLatest","item_page_routing_paths","ng_bootstrap","active","EditItemPageComponent_li_14_a_2_Template","page_r1","page","currentPage","EditItemPageComponent_li_14_button_8_Template","EditItemPageComponent_li_14_Template","enabled","edit_item_page_component_EditItemPageComponent","EditItemPageComponent","injector","events","initPageParamsByRoute","pages","routeConfig","children","filter","child","canActivate","guardConstructor","snapshot","routerState","canActivateOutcomes","every","itemRD$","firstChild","tmp_2_0","getItemPage","animation","changeDetection","modify_item_overview_component","abstract_simple_item_action_component_c0","abstract_simple_item_action_component_c1","abstract_simple_item_action_component_AbstractSimpleItemActionComponent","AbstractSimpleItemActionComponent","itemDataService","itemPageRoute","confirmMessage","messageKey","cancelMessage","headerMessage","descriptionMessage","response","predicate","findById","source","navigate","performAction","handle","item_withdraw_component_c0","item_withdraw_component_c1","item_withdraw_component_ItemWithdrawComponent","ItemWithdrawComponent","isWithdrawn","setWithDrawn","processRestResponse","item_reinstate_component_c0","item_reinstate_component_c1","item_reinstate_component_ItemReinstateComponent","ItemReinstateComponent","item_private_component_c0","item_private_component_c1","item_private_component_ItemPrivateComponent","ItemPrivateComponent","isDiscoverable","setDiscoverable","item_public_component_c0","item_public_component_c1","item_public_component_ItemPublicComponent","ItemPublicComponent","take","defaultIfEmpty","view_mode_model","relationship_service","entity_type_service","link_service","var_directive","listable_object_component_loader_component","ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ds_listable_object_component_loader_2_Template","relatedItem_r10","ngVar","ctx_r11","viewMode","ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_ds_listable_object_component_loader_15_Template","ctx_r15","ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_div_17_Template","metadata_r18","metadataField","metadataValue","ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_ng_template_15_Template","_r20","closeVirtualMetadataModal","relationship_r8","ctx_r13","getVirtualMetadata","ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_ng_container_2_Template","_r12","openVirtualMetadataModal","ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_div_17_Template","getRelatedItem","ItemDeleteComponent_ng_container_16_div_2_div_3_div_2_Template","_r27","selected_r6","type_r4","setSelected","getRelationshipMessageKey","getLabel","getRelationships","ItemDeleteComponent_ng_container_16_div_2_div_3_Template","isSelected","ItemDeleteComponent_ng_container_16_div_2_Template","types_r1","ItemDeleteComponent_ng_container_16_Template","item_delete_component_c0","item_delete_component_c1","item_delete_component_ItemDeleteComponent","ItemDeleteComponent","modalService","relationshipService","entityTypeService","ListElement","relationships$","relatedItems$","virtualMetadata$","firstMetadataValue","types$","undefined","getEntityTypeByLabel","entityType","getEntityTypeRelationships","relationshipTypes","types","relationships","reduce","includedTypes","some","includedType","content","modalRef","open","close","relationshipType","isLeftItem","leftwardType","rightwardType","getItemRelationshipsArray","relationship","getRelationshipType","resolveLinks","rightItem","leftItem","relatedItem","entries","authority","endsWith","previous","current","concat","isSelectedVirtualMetadata","selected","setSelectedVirtualMetadata","selection","selectedTypes","delete","notify","succeeded","ItemOperation","operationKey","operationUrl","disabled","authorized","setDisabled","mergeMap","distinctUntilChanged","toArray","from","feature_id","authorization_data_service","ItemOperationComponent_span_9_Template","ItemOperationComponent_span_11_Template","item_operation_component_ItemOperationComponent","ItemOperationComponent","ItemStatusComponent_div_6_Template","statusKey_r2","statusData","ItemStatusComponent_div_20_ds_item_operation_2_Template","operation_r3","item_status_component_c0","pt-3","ItemStatusComponent_div_20_Template","item_status_component_ItemStatusComponent","ItemStatusComponent","operations$","statusDataKeys","operations","getCurrentUrl","CanManagePolicies","CanManageMappings","ReinstateItem","WithdrawItem","CanMakePrivate","CanDelete","CanMove","isAuthorized","ops","itemPageRoute$","item_metadata_component","zip","paginated_search_options_model","ResponsiveColumnSizes","xs","sm","md","lg","xl","responsive_table_sizes_ResponsiveTableSizes","columns","start","end","i","bitstream_data_service","object_cache_service","request_service","bundle_data_service","item_edit_bitstream_drag_handle_component_c0","ItemEditBitstreamDragHandleComponent_ng_template_0_Template","item_edit_bitstream_drag_handle_component_ItemEditBitstreamDragHandleComponent","ItemEditBitstreamDragHandleComponent","viewContainerRef","createEmbeddedView","handleView","viewQuery","_t","pagination_component_options_model","drag_drop","pagination_component","item_relationships_utils","pagination_service","abstract_paginated_drag_and_drop_list_component_AbstractPaginatedDragAndDropListComponent","AbstractPaginatedDragAndDropListComponent","elRef","objectValuesPipe","paginationService","dropObject","pageSize","options","currentPage$","loading$","subs","initializeObjectsRD","initializeURL","initializeUpdates","initializePagination","getCurrentPagination","currentPagination","objectsRD$","objects","Date","getFieldUpdatesExclusive","transform","updateValues","customOrder","loading","event","dragIndex","previousIndex","dropIndex","currentIndex","dragPage","dropPage","droppedOnElement","nativeElement","querySelector","textContent","droppedPage","Number","isNaN","isNewPage","redirectPage","fromIndex","toIndex","emit","finish","paginationComponent","doPageChange","sub","unsubscribe","clearPagination","outputs","dso_name_service","item_edit_bitstream_component_c0","item_edit_bitstream_component_c1","ItemEditBitstreamComponent_ng_template_0_Template","_r3","undo","tmp_5_0","columnSizes","buildClasses","bitstreamName","bitstream","format$","shortDescription","_links","href","_c2","_c3","item_edit_bitstream_component_ItemEditBitstreamComponent","ItemEditBitstreamComponent","bitstreamView","changes","format","bundleUrl","ngContentSelectors","loading_component","paginated_drag_and_drop_bitstream_list_component_c0","a3","bg-white","PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_ng_container_3_div_2_Template","uuid_r7","updates_r4","bundle","PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_ng_container_3_Template","paginated_drag_and_drop_bitstream_list_component_c1","mb-3","PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_div_2_Template","_r10","drop","tmp_1_0","totalElements","PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_4_Template","PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ds_loading_7_Template","PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_Template","tmp_4_0","paginated_drag_and_drop_bitstream_list_component_PaginatedDragAndDropBitstreamListComponent","PaginatedDragAndDropBitstreamListComponent","bundleService","requestService","paginatedOptions","pagination","getBitstreamsEndpoint","hasByHref$","getBitstreams","tmp_0_0","item_edit_bitstream_bundle_component_c0","item_edit_bitstream_bundle_component_c1","name","item_edit_bitstream_bundle_component_c2","item_edit_bitstream_bundle_component_c3","ItemEditBitstreamBundleComponent_ng_template_0_Template","bundleNameColumn","item_edit_bitstream_bundle_component_ItemEditBitstreamBundleComponent","ItemEditBitstreamBundleComponent","combineColumns","bundleView","ItemBitstreamsComponent_div_0_button_12_Template","ItemBitstreamsComponent_div_0_button_24_Template","submitting","ItemBitstreamsComponent_div_0_div_28_ds_item_edit_bitstream_bundle_23_Template","_r16","bundle_r14","dropBitstream","ItemBitstreamsComponent_div_0_div_28_Template","bundles_r1","ItemBitstreamsComponent_div_0_div_30_Template","ItemBitstreamsComponent_div_0_ds_loading_32_Template","ItemBitstreamsComponent_div_0_button_38_Template","_r19","ItemBitstreamsComponent_div_0_button_50_Template","item_bitstreams_component_c0","ItemBitstreamsComponent_div_0_Template","_r23","item_bitstreams_component_ItemBitstreamsComponent","ItemBitstreamsComponent","bitstreamService","objectCache","cdRef","zone","bundlesOptions","bundles$","getBundles","bundlePage","bundles","updates","values","removedBistreams","responses","displayNotifications","reset","runOutsideAngular","run","removeByHrefSubstring","isCached","failedResponses","successfulResponses","instant","undoNotification","info","timeOut","discardTimeOut","discardAllFieldUpdates","reinstateFieldUpdates","reinstatable","includes","hasUpdates","refreshItemCache","itemUpdateSubscription","startWith","dspace_object_type_model","search_configuration_service","search_service","collection_data_service","collection_select_component","search_form_component","item_collection_mapper_component_c0","ItemCollectionMapperComponent_ng_template_24_Template","_r4","removeMappings","onCancel","itemCollectionsRD$","searchOptions$","ItemCollectionMapperComponent_ng_template_30_div_12_Template","mapCollections","tmp_3_0","mappedCollectionsRD$","sort","ItemCollectionMapperComponent_ng_template_30_div_14_Template","ItemCollectionMapperComponent_ng_template_30_Template","performedSearch","item_collection_mapper_component_c1","item_collection_mapper_component_ItemCollectionMapperComponent","ItemCollectionMapperComponent","searchConfigService","searchService","collectionDataService","itemName$","paginatedSearchOptions","loadCollectionLists","console","log","shouldUpdate$","shouldUpdate","findAllByHref","getMappedCollectionsEndpoint","owningCollectionRD$","findOwningCollectionFor","itemCollectionsAndOptions$","itemCollectionsRD","owningCollectionRD","searchOptions","search","buildQuery","dsoTypes","COLLECTION","responses$","collections","collection","excludingIds","filterIds","mapToCollection","showNotifications","itemRD","removeMappingFromCollection","excluding","messagePrefix","successful","unsuccessful","amount","head","switchToFirstTab","result","addExcludeCollection","collectionId","excludeQuery","tabs","select","tabChange","dso_input_suggestions_component","ItemMoveComponent_span_48_Template","ItemMoveComponent_span_50_Template","item_move_component_c0","item_move_component_c1","item_move_component_ItemMoveComponent","ItemMoveComponent","selectorType","inheritPolicies","collectionSearchResults","canSubmit","processing","loadSuggestions","searchResult","indexableObject","selectedCollection","selectedCollectionName","moveToCollection","onClick","resetCollection","findSuggestions","moveCollection","relationship_model","dynamic_lookup_relation_modal_component","relationship_options_model","item_search_result_model","selectable_list_service","VirtualMetadataComponent_ng_container_14_div_2_div_15_Template","metadata_r5","VirtualMetadataComponent_ng_container_14_div_2_Template","_r8","selected_r3","item_r1","setSelectedVirtualMetadataItem","virtualMetadata","VirtualMetadataComponent_ng_container_14_Template","isSelectedVirtualMetadataItem","virtual_metadata_component_VirtualMetadataComponent","VirtualMetadataComponent","save","items","relationshipId","trackItem","EditRelationshipComponent_div_0_Template","_r1","relatedItem$","nameVariant","EditRelationshipComponent_ng_template_3_Template","leftItem$","rightItem$","edit_relationship_component_EditRelationshipComponent","EditRelationshipComponent","find","editItem","selection$","keepLeftVirtualMetadata","keepRightVirtualMetadata","deleteRelationship","edit_relationship_list_component_c0","edit_relationship_list_component_c1","alert-success","alert-warning","alert-danger","EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_ds_edit_relationship_2_Template","updateValue_r8","EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_div_4_Template","EditRelationshipListComponent_ng_container_14_ng_container_2_ng_container_2_Template","updateValues_r5","EditRelationshipListComponent_ng_container_14_ng_container_2_Template","updates_r1","EditRelationshipListComponent_ng_container_14_ds_loading_4_Template","EditRelationshipListComponent_ng_container_14_Template","edit_relationship_list_component_EditRelationshipListComponent","EditRelationshipListComponent","selectableListService","relatedEntityType$","relatedEntityType","relationshipLabel","leftType","rightType","itemTypeRD","itemTypes","findIndex","itemType","size","modalComp","componentInstance","repeatable","listId","owningCollection","selectableObjects","getFieldUpdatesForRelatedItem","identifiables","identifiable","getNameVariant","deselect","relationshipOptions","searchConfiguration","toLowerCase","nameVariants","deselectAll","hitHighlights","relatedItems","relatedTypes","relatedType","getItemRelationships","isLeftItemArray","rightwardValue","leftwardValue","initialFields","fieldUpdatesFiltered","itemRelationships","openLookup","ItemRelationshipsComponent_ng_container_2_ng_container_2_button_4_Template","ItemRelationshipsComponent_ng_container_2_ng_container_2_button_7_Template","ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ng_container_2_div_2_Template","relationshipType_r17","ctx_r16","entityType$","ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ng_container_2_Template","relationshipTypes_r13","ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_ds_loading_4_Template","ItemRelationshipsComponent_ng_container_2_ng_container_2_ng_container_20_Template","ItemRelationshipsComponent_ng_container_2_ng_container_2_button_27_Template","ItemRelationshipsComponent_ng_container_2_ng_container_2_button_30_Template","_r22","ItemRelationshipsComponent_ng_container_2_ng_container_2_Template","relationshipTypes$","ItemRelationshipsComponent_ng_container_2_div_4_Template","ItemRelationshipsComponent_ng_container_2_Template","entityType_r1","item_relationships_component_ItemRelationshipsComponent","ItemRelationshipsComponent","cdr","removedRelationshipIDs$","addRelatedItems$","removeRelationshipIDs","addRelatedItems","deleteRelationships","addRelationships","action","detectChanges","deleteRelationshipIDs","copyVirtualMetadata","addRelationship","isLeftType","getRelatedItems","i18n_breadcrumb_resolver","item_versions_component","ItemVersionHistoryComponent_div_5_ds_item_versions_2_Template","ItemVersionHistoryComponent_div_5_Template","item_version_history_component_ItemVersionHistoryComponent","ItemVersionHistoryComponent","Warning","catchError","paginated_list_model","request_models","resource_policies_component","ng_for_track_by_id_directive","ItemAuthorizationsComponent_ng_container_7_ng_container_4_Template","bitstream_r3","ItemAuthorizationsComponent_ng_container_7_Template","bundle_r1","bundleBitstreamsMap","item_authorizations_component_ItemAuthorizationsComponent","ItemAuthorizationsComponent","item$","list","bitstreams","getBundleBitstreams","entry","UUID","asObservable","subscription","getItemUUID","getItemBundles","resource_policy_target_resolver","resource_policy_resolver","resource_policy_create_component","resource_policy_edit_component","i18n_breadcrumbs_service","edit_item_page_routing_paths","dso_page_single_feature_guard","item_page_resolver","auth_service","item_page_reinstate_guard_ItemPageReinstateGuard","ItemPageReinstateGuard","item_page_withdraw_guard_ItemPageWithdrawGuard","ItemPageWithdrawGuard","item_page_metadata_guard_ItemPageMetadataGuard","ItemPageMetadataGuard","CanEditMetadata","item_page_administrator_guard","dso_page_some_feature_guard","item_page_status_guard_ItemPageStatusGuard","ItemPageStatusGuard","item_page_bitstreams_guard_ItemPageBitstreamsGuard","ItemPageBitstreamsGuard","CanManageBitstreamBundles","item_page_relationships_guard_ItemPageRelationshipsGuard","ItemPageRelationshipsGuard","CanManageRelationships","item_page_version_history_guard_ItemPageVersionHistoryGuard","ItemPageVersionHistoryGuard","CanManageVersions","item_page_collection_mapper_guard_ItemPageCollectionMapperGuard","ItemPageCollectionMapperGuard","edit_item_page_routing_module_EditItemPageRoutingModule","EditItemPageRoutingModule","forChild","breadcrumb","component","redirectTo","pathMatch","title","showBreadcrumbs","resourcePolicyTarget","resourcePolicy","search_page_module","EditItemPageModule","d/jG","AbstractItemUpdateComponent","rxjs__WEBPACK_IMPORTED_MODULE_0__","rxjs_operators__WEBPACK_IMPORTED_MODULE_2__","_shared_trackable_abstract_trackable_component__WEBPACK_IMPORTED_MODULE_5__","_environments_environment__WEBPACK_IMPORTED_MODULE_6__","_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__","_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__","_shared_empty_util__WEBPACK_IMPORTED_MODULE_9__","_item_resolver__WEBPACK_IMPORTED_MODULE_10__","_angular_core__WEBPACK_IMPORTED_MODULE_11__","_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_12__","_core_data_object_updates_object_updates_service__WEBPACK_IMPORTED_MODULE_13__","_angular_router__WEBPACK_IMPORTED_MODULE_14__","_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_15__","_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__","setItem","parentData","findByHref","edit","undoTimeout","substr","checkLastModified","initializeNotificationsPrefix","postItemInit","isValidPage","currentVersion","getLastModified","updateVersion","getDate","warning","hucJ","DSOBreadcrumbResolver","_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_4__","_data_data_service__WEBPACK_IMPORTED_MODULE_5__","dataService","followLinks","object","mjBp","ConfigurationSearchPageGuard","_angular_core__WEBPACK_IMPORTED_MODULE_0__","configuration","ofZh","SearchPageComponent","_search_component__WEBPACK_IMPORTED_MODULE_1__","_search_tracker_component__WEBPACK_IMPORTED_MODULE_2__","tVEM","SearchTrackerComponent","_search_component__WEBPACK_IMPORTED_MODULE_2__","_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_3__","_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_4__","_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__","_angular_core__WEBPACK_IMPORTED_MODULE_6__","_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__","_shared_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_8__","_shared_host_window_service__WEBPACK_IMPORTED_MODULE_9__","_core_services_route_service__WEBPACK_IMPORTED_MODULE_10__","angulartics2__WEBPACK_IMPORTED_MODULE_11__","_angular_router__WEBPACK_IMPORTED_MODULE_12__","service","sidebarService","windowService","routeService","angulartics2","getSearchOptions","searchEntries","config","searchQueryResponse","filters","appliedFilters","filtersLength","eventTrack","properties","pageInfo","totalPages","number","by","order","direction","provide","useClass","tv3Y","I18nBreadcrumbsService","u0Hx","ITEM_PAGE_LINKS_TO_FOLLOW","ItemResolver","_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_0__","_core_data_request_models__WEBPACK_IMPORTED_MODULE_1__","_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__","_core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_3__","dispatch","zr/d","Breadcrumb","text"],"mappings":"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"},"extractedComments":[]}