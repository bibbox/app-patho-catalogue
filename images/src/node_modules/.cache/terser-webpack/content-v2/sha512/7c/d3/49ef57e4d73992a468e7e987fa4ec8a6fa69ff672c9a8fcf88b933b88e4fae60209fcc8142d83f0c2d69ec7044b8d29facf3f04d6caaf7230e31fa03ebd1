{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{OwgG:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"LookupIdModule\",(function(){return lookup_by_id_module_LookupIdModule}));var common=__webpack_require__(\"SVse\"),shared_module=__webpack_require__(\"PCNd\"),request_models=__webpack_require__(\"B/au\"),map=__webpack_require__(\"lJxs\"),core=__webpack_require__(\"8Y7J\"),tap=__webpack_require__(\"vkgz\"),empty_util=__webpack_require__(\"J3qs\"),data_service=__webpack_require__(\"h5qW\"),operators=__webpack_require__(\"1QIV\"),item_page_routing_paths=__webpack_require__(\"MEmd\"),request_service=__webpack_require__(\"X/78\"),remote_data_build_service=__webpack_require__(\"7vy/\"),ngrx_store=__webpack_require__(\"tqRt\"),object_cache_service=__webpack_require__(\"mycY\"),hal_endpoint_service=__webpack_require__(\"uLZQ\"),notifications_service=__webpack_require__(\"lI3o\"),http=__webpack_require__(\"IheW\"),dso_change_analyzer_service=__webpack_require__(\"42gE\"),router=__webpack_require__(\"iInd\");let dso_redirect_data_service_DsoRedirectDataService=(()=>{class DsoRedirectDataService extends data_service.a{constructor(requestService,rdbService,store,objectCache,halService,notificationsService,http,comparator,router){super(),this.requestService=requestService,this.rdbService=rdbService,this.store=store,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.http=http,this.comparator=comparator,this.router=router,this.linkPath=\"pid\",this.uuidEndpoint=\"dso\"}setLinkPath(identifierType){identifierType===request_models.h.UUID&&(this.linkPath=this.uuidEndpoint)}getIDHref(endpoint,resourceID,...linksToFollow){return this.buildHrefFromFindOptions(endpoint.replace(/\\{\\?id\\}/,`?id=${resourceID}`).replace(/\\{\\?uuid\\}/,`?uuid=${resourceID}`),{},[],...linksToFollow)}findByIdAndIDType(id,identifierType=request_models.h.UUID){return this.setLinkPath(identifierType),this.findById(id).pipe(Object(operators.g)(),Object(tap.a)((response=>{if(response.hasSucceeded){const dso=response.payload,uuid=dso.uuid;if(Object(empty_util.b)(uuid)){let newRoute=this.getEndpointFromDSOType(response.payload.type);dso.type.startsWith(\"item\")?newRoute=Object(item_page_routing_paths.f)(dso):Object(empty_util.b)(newRoute)&&(newRoute+=\"/\"+uuid),Object(empty_util.b)(newRoute)&&this.router.navigate([newRoute])}}})))}getEndpointFromDSOType(dsoType){return dsoType.startsWith(\"item\")?\"items\":dsoType.startsWith(\"community\")?\"communities\":dsoType.startsWith(\"collection\")?\"collections\":\"\"}}return DsoRedirectDataService.ɵfac=function(t){return new(t||DsoRedirectDataService)(core[\"ɵɵinject\"](request_service.a),core[\"ɵɵinject\"](remote_data_build_service.a),core[\"ɵɵinject\"](ngrx_store.h),core[\"ɵɵinject\"](object_cache_service.a),core[\"ɵɵinject\"](hal_endpoint_service.a),core[\"ɵɵinject\"](notifications_service.a),core[\"ɵɵinject\"](http.b),core[\"ɵɵinject\"](dso_change_analyzer_service.a),core[\"ɵɵinject\"](router.g))},DsoRedirectDataService.ɵprov=core[\"ɵɵdefineInjectable\"]({token:DsoRedirectDataService,factory:DsoRedirectDataService.ɵfac}),DsoRedirectDataService})(),lookup_guard_LookupGuard=(()=>{class LookupGuard{constructor(dsoService){this.dsoService=dsoService}canActivate(route,state){const params=this.getLookupParams(route);return this.dsoService.findByIdAndIDType(params.id,params.type).pipe(Object(map.a)((response=>response.hasFailed)))}getLookupParams(route){let type,id;const idType=route.params.idType;return idType!==request_models.h.HANDLE&&idType!==request_models.h.UUID?(type=request_models.h.HANDLE,id=`hdl:${route.params.idType}/${route.params.id}`):route.params.idType===request_models.h.HANDLE?(type=request_models.h.HANDLE,id=\"hdl:\"+route.params.id):(type=request_models.h.UUID,id=route.params.id),{type:type,id:id}}}return LookupGuard.ɵfac=function(t){return new(t||LookupGuard)(core[\"ɵɵinject\"](dso_redirect_data_service_DsoRedirectDataService))},LookupGuard.ɵprov=core[\"ɵɵdefineInjectable\"]({token:LookupGuard,factory:LookupGuard.ɵfac}),LookupGuard})();var themed_component=__webpack_require__(\"JTKQ\");function ThemedObjectNotFoundComponent_ng_template_0_Template(rf,ctx){}let themed_objectnotfound_component_ThemedObjectNotFoundComponent=(()=>{class ThemedObjectNotFoundComponent extends themed_component.a{getComponentName(){return\"ObjectNotFoundComponent\"}importThemedComponent(themeName){return __webpack_require__(\"edtC\")(`./${themeName}/app/+lookup-by-id/objectnotfound/objectnotfound.component`)}importUnthemedComponent(){return __webpack_require__.e(0).then(__webpack_require__.bind(null,\"HMeA\"))}}return ThemedObjectNotFoundComponent.ɵfac=function(t){return ɵThemedObjectNotFoundComponent_BaseFactory(t||ThemedObjectNotFoundComponent)},ThemedObjectNotFoundComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ThemedObjectNotFoundComponent,selectors:[[\"ds-themed-objnotfound\"]],features:[core[\"ɵɵInheritDefinitionFeature\"]],decls:3,vars:0,consts:[[\"vcr\",\"\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵtemplate\"](0,ThemedObjectNotFoundComponent_ng_template_0_Template,0,0,\"ng-template\",null,0,core[\"ɵɵtemplateRefExtractor\"]),core[\"ɵɵtext\"](2,\"\\n\"))},encapsulation:2}),ThemedObjectNotFoundComponent})();const ɵThemedObjectNotFoundComponent_BaseFactory=core[\"ɵɵgetInheritedFactory\"](themed_objectnotfound_component_ThemedObjectNotFoundComponent);let lookup_by_id_routing_module_LookupRoutingModule=(()=>{class LookupRoutingModule{}return LookupRoutingModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:LookupRoutingModule}),LookupRoutingModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||LookupRoutingModule)},providers:[lookup_guard_LookupGuard],imports:[[router.k.forChild([{matcher:urlMatcher,canActivate:[lookup_guard_LookupGuard],component:themed_objectnotfound_component_ThemedObjectNotFoundComponent}])]]}),LookupRoutingModule})();function urlMatcher(url){const idType=url[0].path,id=url.slice(1).map((us=>us.path)).join(\"/\");return Object(empty_util.e)(idType)&&Object(empty_util.e)(id)?{consumed:url,posParams:{idType:new router.n(idType,{}),id:new router.n(id,{})}}:null}let lookup_by_id_module_LookupIdModule=(()=>{class LookupIdModule{}return LookupIdModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:LookupIdModule}),LookupIdModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||LookupIdModule)},providers:[dso_redirect_data_service_DsoRedirectDataService],imports:[[lookup_by_id_routing_module_LookupRoutingModule,common.c,shared_module.a]]}),LookupIdModule})()},edtC:function(module,exports,__webpack_require__){var map={\"./custom/app/+lookup-by-id/objectnotfound/objectnotfound.component\":[\"mYgp\",0,50]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then((function(){var e=new Error(\"Cannot find module '\"+req+\"'\");throw e.code=\"MODULE_NOT_FOUND\",e}));var ids=map[req],id=ids[0];return Promise.all(ids.slice(1).map(__webpack_require__.e)).then((function(){return __webpack_require__(id)}))}webpackAsyncContext.keys=function(){return Object.keys(map)},webpackAsyncContext.id=\"edtC\",module.exports=webpackAsyncContext}}]);","map":{"version":3,"sources":["7-es2015.55e2cc1939eeb9f8b7fa.js"],"names":["window","push","OwgG","module","__webpack_exports__","__webpack_require__","r","d","lookup_by_id_module_LookupIdModule","common","shared_module","request_models","map","core","tap","empty_util","data_service","operators","item_page_routing_paths","request_service","remote_data_build_service","ngrx_store","object_cache_service","hal_endpoint_service","notifications_service","http","dso_change_analyzer_service","router","dso_redirect_data_service_DsoRedirectDataService","DsoRedirectDataService","[object Object]","requestService","rdbService","store","objectCache","halService","notificationsService","comparator","super","this","linkPath","uuidEndpoint","identifierType","UUID","endpoint","resourceID","linksToFollow","buildHrefFromFindOptions","replace","id","setLinkPath","findById","pipe","Object","response","hasSucceeded","dso","payload","uuid","newRoute","getEndpointFromDSOType","type","startsWith","navigate","dsoType","ɵfac","t","ɵprov","token","factory","lookup_guard_LookupGuard","LookupGuard","dsoService","route","state","params","getLookupParams","findByIdAndIDType","hasFailed","idType","HANDLE","themed_component","ThemedObjectNotFoundComponent_ng_template_0_Template","rf","ctx","themed_objectnotfound_component_ThemedObjectNotFoundComponent","ThemedObjectNotFoundComponent","themeName","e","then","bind","ɵThemedObjectNotFoundComponent_BaseFactory","ɵcmp","selectors","features","decls","vars","consts","template","encapsulation","lookup_by_id_routing_module_LookupRoutingModule","LookupRoutingModule","ɵmod","ɵinj","providers","imports","forChild","matcher","urlMatcher","canActivate","component","url","path","slice","us","join","consumed","posParams","LookupIdModule","edtC","exports","./custom/app/+lookup-by-id/objectnotfound/objectnotfound.component","webpackAsyncContext","req","o","Promise","resolve","Error","code","ids","all","keys"],"mappings":"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"},"extractedComments":[]}