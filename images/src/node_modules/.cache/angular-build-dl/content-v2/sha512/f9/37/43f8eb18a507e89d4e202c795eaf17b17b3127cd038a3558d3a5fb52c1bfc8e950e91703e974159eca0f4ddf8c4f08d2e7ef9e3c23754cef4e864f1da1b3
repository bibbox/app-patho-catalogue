(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{OwgG:function(t,e,n){"use strict";n.r(e),n.d(e,"LookupIdModule",(function(){return T}));var i=n("SVse"),o=n("PCNd"),r=n("B/au"),c=n("lJxs"),s=n("8Y7J"),a=n("vkgz"),d=n("J3qs"),u=n("h5qW"),p=n("1QIV"),h=n("MEmd"),l=n("X/78"),m=n("7vy/"),f=n("tqRt"),j=n("mycY"),y=n("uLZQ"),b=n("lI3o"),v=n("IheW"),I=n("42gE"),O=n("iInd");let g=(()=>{class t extends u.a{constructor(t,e,n,i,o,r,c,s,a){super(),this.requestService=t,this.rdbService=e,this.store=n,this.objectCache=i,this.halService=o,this.notificationsService=r,this.http=c,this.comparator=s,this.router=a,this.linkPath="pid",this.uuidEndpoint="dso"}setLinkPath(t){t===r.h.UUID&&(this.linkPath=this.uuidEndpoint)}getIDHref(t,e,...n){return this.buildHrefFromFindOptions(t.replace(/\{\?id\}/,`?id=${e}`).replace(/\{\?uuid\}/,`?uuid=${e}`),{},[],...n)}findByIdAndIDType(t,e=r.h.UUID){return this.setLinkPath(e),this.findById(t).pipe(Object(p.g)(),Object(a.a)(t=>{if(t.hasSucceeded){const e=t.payload,n=e.uuid;if(Object(d.b)(n)){let i=this.getEndpointFromDSOType(t.payload.type);e.type.startsWith("item")?i=Object(h.f)(e):Object(d.b)(i)&&(i+="/"+n),Object(d.b)(i)&&this.router.navigate([i])}}}))}getEndpointFromDSOType(t){return t.startsWith("item")?"items":t.startsWith("community")?"communities":t.startsWith("collection")?"collections":""}}return t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275inject"](l.a),s["\u0275\u0275inject"](m.a),s["\u0275\u0275inject"](f.h),s["\u0275\u0275inject"](j.a),s["\u0275\u0275inject"](y.a),s["\u0275\u0275inject"](b.a),s["\u0275\u0275inject"](v.b),s["\u0275\u0275inject"](I.a),s["\u0275\u0275inject"](O.g))},t.\u0275prov=s["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t{constructor(t){this.dsoService=t}canActivate(t,e){const n=this.getLookupParams(t);return this.dsoService.findByIdAndIDType(n.id,n.type).pipe(Object(c.a)(t=>t.hasFailed))}getLookupParams(t){let e,n;const i=t.params.idType;return i!==r.h.HANDLE&&i!==r.h.UUID?(e=r.h.HANDLE,n=`hdl:${t.params.idType}/${t.params.id}`):t.params.idType===r.h.HANDLE?(e=r.h.HANDLE,n="hdl:"+t.params.id):(e=r.h.UUID,n=t.params.id),{type:e,id:n}}}return t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275inject"](g))},t.\u0275prov=s["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();var D=n("JTKQ");function w(t,e){}let E=(()=>{class t extends D.a{getComponentName(){return"ObjectNotFoundComponent"}importThemedComponent(t){return n("edtC")(`./${t}/app/+lookup-by-id/objectnotfound/objectnotfound.component`)}importUnthemedComponent(){return n.e(0).then(n.bind(null,"HMeA"))}}return t.\u0275fac=function(e){return C(e||t)},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-themed-objnotfound"]],features:[s["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(t,e){1&t&&(s["\u0275\u0275template"](0,w,0,0,"ng-template",null,0,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275text"](2,"\n"))},encapsulation:2}),t})();const C=s["\u0275\u0275getInheritedFactory"](E);let L=(()=>{class t{}return t.\u0275mod=s["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[k],imports:[[O.k.forChild([{matcher:N,canActivate:[k],component:E}])]]}),t})();function N(t){const e=t[0].path,n=t.slice(1).map(t=>t.path).join("/");return Object(d.e)(e)&&Object(d.e)(n)?{consumed:t,posParams:{idType:new O.n(e,{}),id:new O.n(n,{})}}:null}let T=(()=>{class t{}return t.\u0275mod=s["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[g],imports:[[L,i.c,o.a]]}),t})()},edtC:function(t,e,n){var i={"./custom/app/+lookup-by-id/objectnotfound/objectnotfound.component":["mYgp",0,51]};function o(t){if(!n.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],o=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(i)},o.id="edtC",t.exports=o}}]);
//# sourceMappingURL=7-es2015.57483731be738e4f413c.js.map