{"version":3,"sources":["webpack:///src/app/+home-page/home-news/themed-home-news.component.ts","webpack:///src/app/shared/theme-support/themed.component.html","webpack:///src/app/+home-page/top-level-community-list/top-level-community-list.component.ts","webpack:///src/app/+home-page/top-level-community-list/top-level-community-list.component.html","webpack:///src/app/+home-page/home-page.resolver.ts","webpack:///src/app/+home-page/themed-home-page.component.ts","webpack:///src/app/+home-page/home-page-routing.module.ts","webpack:///src/app/+home-page/home-page.module.ts","webpack:///src/themes lazy ^\\.\\/.*\\/app\\/\\+home\\-page\\/home\\-news\\/home\\-news\\.component$ namespace object","webpack:///src/app/+home-page/home-news/home-news.component.ts","webpack:///src/app/+home-page/home-news/home-news.component.html","webpack:///src/themes lazy ^\\.\\/.*\\/app\\/\\+home\\-page\\/home\\-page\\.component$ namespace object","webpack:///src/app/+home-page/home-page.component.ts","webpack:///src/app/+home-page/home-page.component.html"],"names":["ThemedHomeNewsComponent","themeName","TopLevelCommunityListComponent","cds","paginationService","communitiesRD$","pageId","this","config","id","pageSize","currentPage","sortConfig","ASC","initPage","pagination$","getCurrentPagination","sort$","getCurrentSort","currentPageSubscription","pipe","currentPagination","currentSort","findTop","elementsPerPage","sort","field","direction","subscribe","results","next","unsubscribe","clearPagination","HomePageResolver","siteService","route","state","find","take","ThemedHomePageComponent","HomePageRoutingModule","forChild","path","component","pathMatch","data","title","menu","public","active","visible","model","type","LINK","text","link","resolve","site","HomePageModule","forRoot","map","webpackAsyncContext","req","__webpack_require__","o","Promise","then","e","Error","code","ids","keys","Object","module","exports","HomeNewsComponent","HomePageComponent","site$"],"mappings":"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","file":"x","sourcesContent":["import { Component } from '@angular/core';\nimport { ThemedComponent } from '../../shared/theme-support/themed.component';\nimport { HomeNewsComponent } from './home-news.component';\n\n@Component({\n  selector: 'ds-themed-home-news',\n  styleUrls: [],\n  templateUrl: '../../shared/theme-support/themed.component.html',\n})\n\n/**\n * Component to render the news section on the home page\n */\nexport class ThemedHomeNewsComponent extends ThemedComponent<HomeNewsComponent> {\n  protected getComponentName(): string {\n    return 'HomeNewsComponent';\n  }\n\n  protected importThemedComponent(themeName: string): Promise<any> {\n    return import(`../../../themes/${themeName}/app/+home-page/home-news/home-news.component`);\n  }\n\n  protected importUnthemedComponent(): Promise<any> {\n    return import(`./home-news.component`);\n  }\n\n}\n","<ng-template #vcr></ng-template>\n","import { ChangeDetectionStrategy, Component, OnInit, OnDestroy } from '@angular/core';\n\nimport { BehaviorSubject, combineLatest as observableCombineLatest, Subscription } from 'rxjs';\n\nimport { SortDirection, SortOptions } from '../../core/cache/models/sort-options.model';\nimport { CommunityDataService } from '../../core/data/community-data.service';\nimport { PaginatedList } from '../../core/data/paginated-list.model';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { Community } from '../../core/shared/community.model';\nimport { fadeInOut } from '../../shared/animations/fade';\nimport { PaginationComponentOptions } from '../../shared/pagination/pagination-component-options.model';\nimport { hasValue } from '../../shared/empty.util';\nimport { switchMap } from 'rxjs/operators';\nimport { PaginationService } from '../../core/pagination/pagination.service';\n\n/**\n * this component renders the Top-Level Community list\n */\n@Component({\n  selector: 'ds-top-level-community-list',\n  styleUrls: ['./top-level-community-list.component.scss'],\n  templateUrl: './top-level-community-list.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [fadeInOut]\n})\n\nexport class TopLevelCommunityListComponent implements OnInit, OnDestroy {\n  /**\n   * A list of remote data objects of all top communities\n   */\n  communitiesRD$: BehaviorSubject<RemoteData<PaginatedList<Community>>> = new BehaviorSubject<RemoteData<PaginatedList<Community>>>({} as any);\n\n  /**\n   * The pagination configuration\n   */\n  config: PaginationComponentOptions;\n\n  /**\n   * The pagination id\n   */\n  pageId = 'tl';\n\n  /**\n   * The sorting configuration\n   */\n  sortConfig: SortOptions;\n\n  /**\n   * The subscription to the observable for the current page.\n   */\n  currentPageSubscription: Subscription;\n\n  constructor(private cds: CommunityDataService,\n              private paginationService: PaginationService) {\n    this.config = new PaginationComponentOptions();\n    this.config.id = this.pageId;\n    this.config.pageSize = 5;\n    this.config.currentPage = 1;\n    this.sortConfig = new SortOptions('dc.title', SortDirection.ASC);\n  }\n\n  ngOnInit() {\n    this.initPage();\n  }\n\n\n  /**\n   * Update the list of top communities\n   */\n  initPage() {\n    const pagination$ = this.paginationService.getCurrentPagination(this.config.id, this.config);\n    const sort$ = this.paginationService.getCurrentSort(this.config.id, this.sortConfig);\n\n    this.currentPageSubscription = observableCombineLatest([pagination$, sort$]).pipe(\n      switchMap(([currentPagination, currentSort]) => {\n        return this.cds.findTop({\n          currentPage: currentPagination.currentPage,\n          elementsPerPage: currentPagination.pageSize,\n          sort: {field: currentSort.field, direction: currentSort.direction}\n        });\n      })\n    ).subscribe((results) => {\n      this.communitiesRD$.next(results);\n    });\n  }\n\n  /**\n   * Unsubscribe the top list subscription if it exists\n   */\n  private unsubscribe() {\n    if (hasValue(this.currentPageSubscription)) {\n      this.currentPageSubscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Clean up subscriptions when the component is destroyed\n   */\n  ngOnDestroy() {\n    this.unsubscribe();\n    this.paginationService.clearPagination(this.config.id);\n  }\n\n}\n","<ng-container *ngVar=\"(communitiesRD$ | async) as communitiesRD\">\n  <div *ngIf=\"communitiesRD?.hasSucceeded \">\n  <h2>{{'home.top-level-communities.head' | translate}}</h2>\n  <p class=\"lead\">{{'home.top-level-communities.help' | translate}}</p>\n  <ds-viewable-collection\n    [config]=\"config\"\n    [sortConfig]=\"sortConfig\"\n    [objects]=\"communitiesRD$ | async\"\n    [hideGear]=\"true\">\n  </ds-viewable-collection>\n</div>\n<ds-error *ngIf=\"communitiesRD?.hasFailed \" message=\"{{'error.top-level-communites' | translate}}\"></ds-error>\n<ds-loading *ngIf=\"communitiesRD?.isLoading \" message=\"{{'loading.top-level-communities' | translate}}\"></ds-loading></ng-container>\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { SiteDataService } from '../core/data/site-data.service';\nimport { Site } from '../core/shared/site.model';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\n/**\n * The class that resolve the Site object for a route\n */\n@Injectable()\nexport class HomePageResolver implements Resolve<Site> {\n  constructor(private siteService: SiteDataService) {\n  }\n\n  /**\n   * Method for resolving a site object\n   * @param {ActivatedRouteSnapshot} route The current ActivatedRouteSnapshot\n   * @param {RouterStateSnapshot} state The current RouterStateSnapshot\n   * @returns Observable<Site> Emits the found Site object, or an error if something went wrong\n   */\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Site> | Promise<Site> | Site {\n    return this.siteService.find().pipe(take(1));\n  }\n}\n","import { ThemedComponent } from '../shared/theme-support/themed.component';\nimport { HomePageComponent } from './home-page.component';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'ds-themed-home-page',\n  styleUrls: [],\n  templateUrl: '../shared/theme-support/themed.component.html',\n})\nexport class ThemedHomePageComponent extends ThemedComponent<HomePageComponent> {\n  protected inAndOutputNames: (keyof HomePageComponent & keyof this)[];\n\n\n  protected getComponentName(): string {\n    return 'HomePageComponent';\n  }\n\n  protected importThemedComponent(themeName: string): Promise<any> {\n    return import(`../../themes/${themeName}/app/+home-page/home-page.component`);\n  }\n\n  protected importUnthemedComponent(): Promise<any> {\n    return import(`./home-page.component`);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePageResolver } from './home-page.resolver';\nimport { MenuItemType } from '../shared/menu/initial-menus-state';\nimport { LinkMenuItemModel } from '../shared/menu/menu-item/models/link.model';\nimport { ThemedHomePageComponent } from './themed-home-page.component';\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ThemedHomePageComponent,\n        pathMatch: 'full',\n        data: {\n          title: 'home.title',\n          menu: {\n            public: [{\n              id: 'statistics_site',\n              active: true,\n              visible: true,\n              model: {\n                type: MenuItemType.LINK,\n                text: 'menu.section.statistics',\n                link: 'statistics',\n              } as LinkMenuItemModel,\n            }],\n          },\n        },\n        resolve: {\n          site: HomePageResolver\n        }\n      }\n    ])\n  ],\n  providers: [\n    HomePageResolver\n  ]\n})\nexport class HomePageRoutingModule {\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { SharedModule } from '../shared/shared.module';\nimport { HomeNewsComponent } from './home-news/home-news.component';\nimport { HomePageRoutingModule } from './home-page-routing.module';\n\nimport { HomePageComponent } from './home-page.component';\nimport { TopLevelCommunityListComponent } from './top-level-community-list/top-level-community-list.component';\nimport { StatisticsModule } from '../statistics/statistics.module';\nimport { ThemedHomeNewsComponent } from './home-news/themed-home-news.component';\nimport { ThemedHomePageComponent } from './themed-home-page.component';\n\nconst DECLARATIONS = [\n  HomePageComponent,\n  ThemedHomePageComponent,\n  TopLevelCommunityListComponent,\n  ThemedHomeNewsComponent,\n  HomeNewsComponent,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    HomePageRoutingModule,\n    StatisticsModule.forRoot()\n  ],\n  declarations: [\n    ...DECLARATIONS,\n  ],\n  exports: [\n    ...DECLARATIONS,\n  ],\n})\nexport class HomePageModule {\n\n}\n","var map = {\n\t\"./custom/app/+home-page/home-news/home-news.component\": [\n\t\t\"oktA\",\n\t\t44\n\t],\n\t\"./dspace/app/+home-page/home-news/home-news.component\": [\n\t\t\"ZOgr\",\n\t\t76\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"TXjl\";\nmodule.exports = webpackAsyncContext;","import { Component, } from '@angular/core';\n\n@Component({\n  selector: 'ds-home-news',\n  styleUrls: ['./home-news.component.scss'],\n  templateUrl: './home-news.component.html'\n})\n\n/**\n * Component to render the news section on the home page\n */\nexport class HomeNewsComponent {\n}\n","<div class=\"jumbotron jumbotron-fluid\">\n  <div class=\"container\">\n    <div class=\"d-flex flex-wrap\">\n      <div>\n        <h1 class=\"display-3\">DSpace 7</h1>\n        <p class=\"lead\">DSpace is the world leading open source repository platform that enables organisations to:</p>\n      </div>\n    </div>\n    <ul>\n      <li>easily ingest documents, audio, video, datasets and their corresponding Dublin Core metadata\n      </li>\n      <li>open up this content to local and global audiences, thanks to the OAI-PMH interface and Google Scholar optimizations\n      </li>\n      <li>issue permanent urls and trustworthy identifiers, including optional integrations with handle.net and DataCite DOI</li>\n    </ul>\n    <p>Join an international community of <a href=\"https://wiki.lyrasis.org/display/DSPACE/DSpace+Positioning\"\n        target=\"_blank\">leading institutions using DSpace</a>.\n    </p>\n  </div>\n</div>\n","var map = {\n\t\"./custom/app/+home-page/home-page.component\": [\n\t\t\"FES9\",\n\t\t45\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"rys1\";\nmodule.exports = webpackAsyncContext;","import { Component, OnInit } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Site } from '../core/shared/site.model';\n\n@Component({\n  selector: 'ds-home-page',\n  styleUrls: ['./home-page.component.scss'],\n  templateUrl: './home-page.component.html'\n})\nexport class HomePageComponent implements OnInit {\n\n  site$: Observable<Site>;\n\n  constructor(\n    private route: ActivatedRoute,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.site$ = this.route.data.pipe(\n      map((data) => data.site as Site),\n    );\n  }\n}\n","<ds-themed-home-news></ds-themed-home-news>\n<div class=\"container\">\n  <ng-container *ngIf=\"(site$ | async) as site\">\n    <ds-view-tracker [object]=\"site\"></ds-view-tracker>\n  </ng-container>\n  <ds-search-form [inPlaceSearch]=\"false\" [searchPlaceholder]=\"'home.search-form.placeholder' | translate\"></ds-search-form>\n  <ds-top-level-community-list></ds-top-level-community-list>\n</div>\n"]}