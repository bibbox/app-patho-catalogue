!function(){function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(t,n,i||t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){a=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{C63K:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("zZO8"),a=n("tmoE"),r="bitstream-formats";function o(){return new i.a(Object(a.b)(),r).toString()}},PT0L:function(e,t,n){"use strict";n.r(t),n.d(t,"BitstreamFormatsModule",(function(){return Z}));var i,a=n("SVse"),r=n("iInd"),l=n("PCNd"),c=n("1QIV"),m=n("8Y7J"),u=n("B7d6"),f=((i=function(){function e(t){d(this,e),this.bitstreamFormatDataService=t}return p(e,[{key:"resolve",value:function(e,t){return this.bitstreamFormatDataService.findById(e.params.id).pipe(Object(c.g)())}}]),e}()).\u0275fac=function(e){return new(e||i)(m["\u0275\u0275inject"](u.a))},i.\u0275prov=m["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac}),i),v=n("lJxs"),h=n("C63K"),g=n("lI3o"),b=n("TSSN"),y=n("6dfX"),x=n("87+M"),S=n("QOHy"),I=n("J3qs"),k=n("hqmO");function w(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ds-form",1),m["\u0275\u0275listener"]("submitForm",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().onSubmit()}))("cancel",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().onCancel()})),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("formId","comcol-form-id")("formModel",i.formModel)}}var E,j,F=((E=function(){function e(t,n,i){var a=this;d(this,e),this.dynamicFormService=t,this.translateService=n,this.router=i,this.bitstreamFormat=new y.a,this.updatedFormat=new m.EventEmitter,this.supportLevelOptions=[{label:x.a.Known,value:x.a.Known},{label:x.a.Unknown,value:x.a.Unknown},{label:x.a.Supported,value:x.a.Supported}],this.arrayElementLayout={grid:{group:"form-row"}},this.arrayInputElementLayout={grid:{host:"col"}},this.formModel=[new S.I({id:"shortDescription",name:"shortDescription",label:"admin.registries.bitstream-formats.edit.shortDescription.label",hint:"admin.registries.bitstream-formats.edit.shortDescription.hint",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this bitstream format"}}),new S.I({id:"mimetype",name:"mimetype",label:"admin.registries.bitstream-formats.edit.mimetype.label",hint:"admin.registries.bitstream-formats.edit.mimetype.hint"}),new S.O({id:"description",name:"description",label:"admin.registries.bitstream-formats.edit.description.label",hint:"admin.registries.bitstream-formats.edit.description.hint"}),new S.M({id:"supportLevel",name:"supportLevel",options:this.supportLevelOptions,label:"admin.registries.bitstream-formats.edit.supportLevel.label",hint:"admin.registries.bitstream-formats.edit.supportLevel.hint",value:this.supportLevelOptions[0].value}),new S.q({id:"internal",name:"internal",label:"Internal",hint:"admin.registries.bitstream-formats.edit.internal.hint"}),new S.v({id:"extensions",name:"extensions",label:"admin.registries.bitstream-formats.edit.extensions.label",groupFactory:function(){return[new S.I({id:"extension",placeholder:"admin.registries.bitstream-formats.edit.extensions.placeholder"},a.arrayInputElementLayout)]}},this.arrayElementLayout)]}return p(e,[{key:"ngOnInit",value:function(){this.initValues()}},{key:"initValues",value:function(){var e=this;this.formModel.forEach((function(t){if("extensions"===t.name){if(Object(I.b)(e.bitstreamFormat.extensions))for(var n=e.bitstreamFormat.extensions,i=t,a=0;a<n.length;a++)i.insertGroup(a).group[0]=new S.I({id:"extension-".concat(a),value:n[a]},e.arrayInputElementLayout)}else Object(I.b)(e.bitstreamFormat[t.name])&&(t.value=e.bitstreamFormat[t.name])}))}},{key:"onSubmit",value:function(){var e=Object.assign(new y.a,{id:this.bitstreamFormat.id});this.formModel.forEach((function(t){if("extensions"===t.name){for(var n=t,i=[],a=0;a<n.groups.length;a++){var r=n.get(a).get(0).value;Object(I.d)(r)||i.push(n.get(a).get(0).value)}e.extensions=i}else e[t.name]=t.value})),this.updatedFormat.emit(e)}},{key:"onCancel",value:function(){this.router.navigate([Object(h.b)()])}}]),e}()).\u0275fac=function(e){return new(e||E)(m["\u0275\u0275directiveInject"](S.F),m["\u0275\u0275directiveInject"](b.f),m["\u0275\u0275directiveInject"](r.g))},E.\u0275cmp=m["\u0275\u0275defineComponent"]({type:E,selectors:[["ds-bitstream-format-form"]],inputs:{bitstreamFormat:"bitstreamFormat"},outputs:{updatedFormat:"updatedFormat"},decls:1,vars:1,consts:[[3,"formId","formModel","submitForm","cancel",4,"ngIf"],[3,"formId","formModel","submitForm","cancel"]],template:function(e,t){1&e&&m["\u0275\u0275template"](0,w,1,2,"ds-form",0),2&e&&m["\u0275\u0275property"]("ngIf",t.formModel)},directives:[a.u,k.a],encapsulation:2}),E),O=function(e){return{format:e}},C=((j=function(){function e(t,n,i,a,r){d(this,e),this.route=t,this.router=n,this.notificationService=i,this.translateService=a,this.bitstreamFormatDataService=r}return p(e,[{key:"ngOnInit",value:function(){this.bitstreamFormatRD$=this.route.data.pipe(Object(v.a)((function(e){return e.bitstreamFormat})))}},{key:"updateFormat",value:function(e){var t=this;this.bitstreamFormatDataService.updateBitstreamFormat(e).pipe(Object(c.g)()).subscribe((function(e){e.hasSucceeded?(t.notificationService.success(t.translateService.get("admin.registries.bitstream-formats.edit.success.head"),t.translateService.get("admin.registries.bitstream-formats.edit.success.content")),t.router.navigate([Object(h.b)()])):t.notificationService.error("admin.registries.bitstream-formats.edit.failure.head","admin.registries.bitstream-formats.create.edit.content")}))}}]),e}()).\u0275fac=function(e){return new(e||j)(m["\u0275\u0275directiveInject"](r.a),m["\u0275\u0275directiveInject"](r.g),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](b.f),m["\u0275\u0275directiveInject"](u.a))},j.\u0275cmp=m["\u0275\u0275defineComponent"]({type:j,selectors:[["ds-edit-bitstream-format"]],decls:16,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","mb-2"],[3,"bitstreamFormat","updatedFormat"]],template:function(e,t){var n,i;1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275text"](1,"\n    "),m["\u0275\u0275elementStart"](2,"div",1),m["\u0275\u0275text"](3,"\n        "),m["\u0275\u0275elementStart"](4,"div",2),m["\u0275\u0275text"](5,"\n            "),m["\u0275\u0275elementStart"](6,"h2",3),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275pipe"](9,"async"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](10,"\n\n             "),m["\u0275\u0275elementStart"](11,"ds-bitstream-format-form",4),m["\u0275\u0275listener"]("updatedFormat",(function(e){return t.updateFormat(e)})),m["\u0275\u0275pipe"](12,"async"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](13,"\n\n        "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](14,"\n    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](15,"\n"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](7),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](8,2,"admin.registries.bitstream-formats.edit.head",m["\u0275\u0275pureFunction1"](9,O,null==(n=m["\u0275\u0275pipeBind1"](9,5,t.bitstreamFormatRD$))?null:n.payload.shortDescription))),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("bitstreamFormat",null==(i=m["\u0275\u0275pipeBind1"](12,7,t.bitstreamFormatRD$))?null:i.payload))},directives:[F],pipes:[b.e,a.b],encapsulation:2}),j),B=n("1uah"),M=n("itXk"),L=n("7DXY"),D=n("B/au"),P=n("IzEk"),R=n("eIep"),V=n("MFUF"),A=n("Exvd");function q(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("(",m["\u0275\u0275pipeBind1"](2,1,"admin.registries.bitstream-formats.table.internal"),")"))}var N=function(e){return["/admin/registries/bitstream-formats",e,"edit"]};function T(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"tr"),m["\u0275\u0275text"](1,"\n                "),m["\u0275\u0275elementStart"](2,"td"),m["\u0275\u0275text"](3,"\n                  "),m["\u0275\u0275elementStart"](4,"label"),m["\u0275\u0275text"](5,"\n                    "),m["\u0275\u0275elementStart"](6,"input",16),m["\u0275\u0275listener"]("change",(function(e){m["\u0275\u0275restoreView"](n);var i=t.$implicit;return m["\u0275\u0275nextContext"](2).selectBitStreamFormat(i,e)})),m["\u0275\u0275pipe"](7,"async"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](8,"\n                  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](9,"\n                "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](10,"\n                "),m["\u0275\u0275elementStart"](11,"td"),m["\u0275\u0275elementStart"](12,"a",17),m["\u0275\u0275text"](13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](14,"\n                "),m["\u0275\u0275elementStart"](15,"td"),m["\u0275\u0275elementStart"](16,"a",17),m["\u0275\u0275text"](17),m["\u0275\u0275template"](18,q,3,3,"span",18),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](19,"\n                "),m["\u0275\u0275elementStart"](20,"td"),m["\u0275\u0275elementStart"](21,"a",17),m["\u0275\u0275text"](22),m["\u0275\u0275pipe"](23,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](24,"\n              "),m["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("checked",m["\u0275\u0275pipeBind1"](7,8,a.isSelected(i))),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](12,N,i.id)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](i.shortDescription),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](14,N,i.id)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",i.mimetype," "),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",i.internal),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction1"](16,N,i.id)),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](23,10,"admin.registries.bitstream-formats.table.supportLevel."+i.supportLevel))}}function G(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ds-pagination",11),m["\u0275\u0275pipe"](1,"async"),m["\u0275\u0275pipe"](2,"async"),m["\u0275\u0275text"](3,"\n        "),m["\u0275\u0275elementStart"](4,"div",12),m["\u0275\u0275text"](5,"\n          "),m["\u0275\u0275elementStart"](6,"table",13),m["\u0275\u0275text"](7,"\n            "),m["\u0275\u0275elementStart"](8,"thead"),m["\u0275\u0275text"](9,"\n              "),m["\u0275\u0275elementStart"](10,"tr"),m["\u0275\u0275text"](11,"\n                "),m["\u0275\u0275element"](12,"th",14),m["\u0275\u0275text"](13,"\n                "),m["\u0275\u0275elementStart"](14,"th",14),m["\u0275\u0275text"](15),m["\u0275\u0275pipe"](16,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](17,"\n                "),m["\u0275\u0275elementStart"](18,"th",14),m["\u0275\u0275text"](19),m["\u0275\u0275pipe"](20,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](21,"\n                "),m["\u0275\u0275elementStart"](22,"th",14),m["\u0275\u0275text"](23),m["\u0275\u0275pipe"](24,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](25,"\n              "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](26,"\n            "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](27,"\n            "),m["\u0275\u0275elementStart"](28,"tbody"),m["\u0275\u0275text"](29,"\n              "),m["\u0275\u0275template"](30,T,25,18,"tr",15),m["\u0275\u0275pipe"](31,"async"),m["\u0275\u0275text"](32,"\n            "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](33,"\n          "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](34,"\n        "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](35,"\n      "),m["\u0275\u0275elementEnd"]()),2&e){var n,i,a,r=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("paginationOptions",r.pageConfig)("pageInfoState",null==(n=m["\u0275\u0275pipeBind1"](1,9,r.bitstreamFormats))?null:n.payload)("collectionSize",null==(i=m["\u0275\u0275pipeBind1"](2,11,r.bitstreamFormats))||null==i.payload?null:i.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),m["\u0275\u0275advance"](15),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](16,13,"admin.registries.bitstream-formats.table.name")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](20,15,"admin.registries.bitstream-formats.table.mimetype")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](24,17,"admin.registries.bitstream-formats.table.supportLevel.head")),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngForOf",null==(a=m["\u0275\u0275pipeBind1"](31,19,r.bitstreamFormats))||null==a.payload?null:a.payload.page)}}function $(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",19),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("\n        ",m["\u0275\u0275pipeBind1"](2,1,"admin.registries.bitstream-formats.no-items"),"\n      "))}function z(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",20),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().deselectAll()})),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"admin.registries.bitstream-formats.table.deselect-all")))}function Q(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",21),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().deleteFormats()})),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()}2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"admin.registries.bitstream-formats.table.delete")))}var U,W,K,J,_=((W=function(){function e(t,n,i,a,r){d(this,e),this.notificationsService=t,this.router=n,this.translateService=i,this.bitstreamFormatService=a,this.paginationService=r,this.config=Object.assign(new D.f,{elementsPerPage:20}),this.pageConfig=Object.assign(new L.a,{id:"rbp",pageSize:20})}return p(e,[{key:"deleteFormats",value:function(){var e=this;this.bitstreamFormatService.clearBitStreamFormatRequests().subscribe(),this.bitstreamFormatService.getSelectedBitstreamFormats().pipe(Object(P.a)(1)).subscribe((function(t){var n,i=[],a=s(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;Object(I.b)(r.id)&&i.push(e.bitstreamFormatService.delete(r.id).pipe(Object(v.a)((function(e){return e.hasSucceeded}))))}}catch(o){a.e(o)}finally{a.f()}Object(B.a).apply(void 0,i).subscribe((function(t){var n=t.filter((function(e){return e})),i=t.filter((function(e){return!e}));n.length>0&&e.showNotification(!0,n.length),i.length>0&&e.showNotification(!1,i.length),e.deselectAll(),e.paginationService.resetPage(e.pageConfig.id)}))}))}},{key:"deselectAll",value:function(){this.bitstreamFormatService.deselectAllBitstreamFormats()}},{key:"isSelected",value:function(e){return this.bitstreamFormatService.getSelectedBitstreamFormats().pipe(Object(v.a)((function(t){return null!=t.find((function(t){return t.id===e.id}))})))}},{key:"selectBitStreamFormat",value:function(e,t){t.target.checked?this.bitstreamFormatService.selectBitstreamFormat(e):this.bitstreamFormatService.deselectBitstreamFormat(e)}},{key:"showNotification",value:function(e,t){var n=this,i="admin.registries.bitstream-formats.delete",a=e?"success":"failure";Object(M.a)(this.translateService.get("".concat(i,".").concat(a,".head")),this.translateService.get("".concat(i,".").concat(a,".amount"),{amount:t})).subscribe((function(t){var i=o(t,2),a=i[0],r=i[1];e?n.notificationsService.success(a,r):n.notificationsService.error(a,r)}))}},{key:"ngOnInit",value:function(){var e=this;this.bitstreamFormats=this.paginationService.getFindListOptions(this.pageConfig.id,this.config).pipe(Object(R.a)((function(t){return e.bitstreamFormatService.findAll(t)})))}},{key:"ngOnDestroy",value:function(){this.paginationService.clearPagination(this.pageConfig.id)}}]),e}()).\u0275fac=function(e){return new(e||W)(m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](r.g),m["\u0275\u0275directiveInject"](b.f),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](V.a))},W.\u0275cmp=m["\u0275\u0275defineComponent"]({type:W,selectors:[["ds-bitstream-formats"]],decls:37,vars:22,consts:[[1,"container"],[1,"bitstream-formats","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description"],["id","create-new",1,"mb-2"],[1,"btn","btn-success",3,"routerLink"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["class","btn btn-primary deselect",3,"click",4,"ngIf"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","formats",1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"],[3,"routerLink"],[4,"ngIf"],["role","alert",1,"alert","alert-info"],[1,"btn","btn-primary","deselect",3,"click"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(e,t){var n,i,a,r;1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275text"](1,"\n  "),m["\u0275\u0275elementStart"](2,"div",1),m["\u0275\u0275text"](3,"\n    "),m["\u0275\u0275elementStart"](4,"div",2),m["\u0275\u0275text"](5,"\n\n      "),m["\u0275\u0275elementStart"](6,"h2",3),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](9,"\n\n      "),m["\u0275\u0275elementStart"](10,"p",4),m["\u0275\u0275text"](11),m["\u0275\u0275pipe"](12,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](13,"\n      "),m["\u0275\u0275elementStart"](14,"p",5),m["\u0275\u0275elementStart"](15,"a",6),m["\u0275\u0275text"](16),m["\u0275\u0275pipe"](17,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](18,"\n\n\n      "),m["\u0275\u0275template"](19,G,36,21,"ds-pagination",7),m["\u0275\u0275pipe"](20,"async"),m["\u0275\u0275text"](21,"\n      "),m["\u0275\u0275template"](22,$,3,3,"div",8),m["\u0275\u0275pipe"](23,"async"),m["\u0275\u0275text"](24,"\n\n      "),m["\u0275\u0275elementStart"](25,"div"),m["\u0275\u0275text"](26,"\n        "),m["\u0275\u0275template"](27,z,3,3,"button",9),m["\u0275\u0275pipe"](28,"async"),m["\u0275\u0275text"](29,"\n        "),m["\u0275\u0275template"](30,Q,3,3,"button",10),m["\u0275\u0275pipe"](31,"async"),m["\u0275\u0275text"](32,"\n      "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](33,"\n    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](34,"\n  "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](35,"\n"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](36,"\n")),2&e&&(m["\u0275\u0275advance"](7),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](8,8,"admin.registries.bitstream-formats.head")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](12,10,"admin.registries.bitstream-formats.description")),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("routerLink","add"),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](17,12,"admin.registries.bitstream-formats.create.new")),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",(null==(n=m["\u0275\u0275pipeBind1"](20,14,t.bitstreamFormats))||null==n.payload?null:n.payload.totalElements)>0),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",0==(null==(i=m["\u0275\u0275pipeBind1"](23,16,t.bitstreamFormats))||null==i.payload?null:i.payload.totalElements)),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngIf",(null==(a=m["\u0275\u0275pipeBind1"](28,18,t.bitstreamFormats))||null==a.payload||null==a.payload.page?null:a.payload.page.length)>0),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",(null==(r=m["\u0275\u0275pipeBind1"](31,20,t.bitstreamFormats))||null==r.payload||null==r.payload.page?null:r.payload.page.length)>0))},directives:[r.j,a.u,A.a,a.t],pipes:[b.e,a.b],encapsulation:2}),W),Y=((U=function(){function e(t,n,i,a){d(this,e),this.router=t,this.notificationService=n,this.translateService=i,this.bitstreamFormatDataService=a}return p(e,[{key:"createBitstreamFormat",value:function(e){var t=this;this.bitstreamFormatDataService.createBitstreamFormat(e).pipe(Object(c.g)()).subscribe((function(e){e.hasSucceeded?(t.notificationService.success(t.translateService.get("admin.registries.bitstream-formats.create.success.head"),t.translateService.get("admin.registries.bitstream-formats.create.success.content")),t.router.navigate([Object(h.b)()]),t.bitstreamFormatDataService.clearBitStreamFormatRequests().subscribe()):t.notificationService.error(t.translateService.get("admin.registries.bitstream-formats.create.failure.head"),t.translateService.get("admin.registries.bitstream-formats.create.failure.content"))}))}}]),e}()).\u0275fac=function(e){return new(e||U)(m["\u0275\u0275directiveInject"](r.g),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](b.f),m["\u0275\u0275directiveInject"](u.a))},U.\u0275cmp=m["\u0275\u0275defineComponent"]({type:U,selectors:[["ds-add-bitstream-format"]],decls:14,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","mb-2"],[3,"updatedFormat"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275text"](1,"\n    "),m["\u0275\u0275elementStart"](2,"div",1),m["\u0275\u0275text"](3,"\n        "),m["\u0275\u0275elementStart"](4,"div",2),m["\u0275\u0275text"](5,"\n            "),m["\u0275\u0275elementStart"](6,"h2",3),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](9,"\n\n            "),m["\u0275\u0275elementStart"](10,"ds-bitstream-format-form",4),m["\u0275\u0275listener"]("updatedFormat",(function(e){return t.createBitstreamFormat(e)})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](11,"\n\n        "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](12,"\n    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](13,"\n"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](7),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](8,1,"admin.registries.bitstream-formats.create.new")))},directives:[F],pipes:[b.e],encapsulation:2}),U),H=n("A0IO"),X=((J=function e(){d(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:J}),J.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||J)},providers:[f],imports:[[r.k.forChild([{path:"",component:_},{path:"add",resolve:{breadcrumb:H.a},component:Y,data:{breadcrumbKey:"admin.registries.bitstream-formats.create"}},{path:":id/edit",component:C,resolve:{bitstreamFormat:f,breadcrumb:H.a},data:{breadcrumbKey:"admin.registries.bitstream-formats.edit"}}])]]}),J),Z=((K=function e(){d(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:K}),K.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||K)},imports:[[a.c,l.a,r.k,X]]}),K)},V0Sv:function(n,a,o){"use strict";o.r(a),o.d(a,"AdminModule",(function(){return Et}));var s,l,c,m,u,f=o("PCNd"),v=o("esCw"),h=o("uCsG"),g=o("iInd"),b=o("TtJg"),y=o("ygbf"),x=o("J3qs"),S=o("1QIV"),I=o("Wy8O"),k=o("8Y7J"),w=o("SVse"),E=o("TSSN"),j=o("lI3o"),F=o("L6kw"),O=((s=function(){function e(t,n,i,a,r){d(this,e),this.location=t,this.translate=n,this.notificationsService=i,this.scriptDataService=a,this.router=r}return p(e,[{key:"setFile",value:function(e){this.fileObject=e}},{key:"onReturn",value:function(){this.location.back()}},{key:"importMetadata",value:function(){var e=this;if(null==this.fileObject)this.notificationsService.error(this.translate.get("admin.metadata-import.page.error.addFile"));else{var t=[Object.assign(new y.a,{name:"-f",value:this.fileObject.name})];this.scriptDataService.invoke(b.b,t,[this.fileObject]).pipe(Object(S.g)()).subscribe((function(t){if(t.hasSucceeded){var n=e.translate.get("process.new.notification.success.title"),i=e.translate.get("process.new.notification.success.content");e.notificationsService.success(n,i),Object(x.e)(t.payload)&&e.router.navigateByUrl(Object(I.b)(t.payload.processId))}else{var a=e.translate.get("process.new.notification.error.title"),r=e.translate.get("process.new.notification.error.content");e.notificationsService.error(a,r)}}))}}}]),e}()).\u0275fac=function(e){return new(e||s)(k["\u0275\u0275directiveInject"](w.o),k["\u0275\u0275directiveInject"](E.f),k["\u0275\u0275directiveInject"](j.a),k["\u0275\u0275directiveInject"](b.c),k["\u0275\u0275directiveInject"](g.g))},s.\u0275cmp=k["\u0275\u0275defineComponent"]({type:s,selectors:[["ds-metadata-import-page"]],decls:22,vars:14,consts:[[1,"container"],["id","header"],[3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"div",0),k["\u0275\u0275text"](1,"\n  "),k["\u0275\u0275elementStart"](2,"h2",1),k["\u0275\u0275text"](3),k["\u0275\u0275pipe"](4,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](5,"\n  "),k["\u0275\u0275elementStart"](6,"p"),k["\u0275\u0275text"](7),k["\u0275\u0275pipe"](8,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](9,"\n\n  "),k["\u0275\u0275elementStart"](10,"ds-file-dropzone-no-uploader",2),k["\u0275\u0275listener"]("onFileAdded",(function(e){return t.setFile(e)})),k["\u0275\u0275text"](11,"\n  "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](12,"\n\n  "),k["\u0275\u0275elementStart"](13,"button",3),k["\u0275\u0275listener"]("click",(function(){return t.onReturn()})),k["\u0275\u0275text"](14),k["\u0275\u0275pipe"](15,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](16,"\n  "),k["\u0275\u0275elementStart"](17,"button",4),k["\u0275\u0275listener"]("click",(function(){return t.importMetadata()})),k["\u0275\u0275text"](18),k["\u0275\u0275pipe"](19,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](20,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](21,"\n")),2&e&&(k["\u0275\u0275advance"](3),k["\u0275\u0275textInterpolate"](k["\u0275\u0275pipeBind1"](4,6,"admin.metadata-import.page.header")),k["\u0275\u0275advance"](4),k["\u0275\u0275textInterpolate"](k["\u0275\u0275pipeBind1"](8,8,"admin.metadata-import.page.help")),k["\u0275\u0275advance"](3),k["\u0275\u0275property"]("dropMessageLabel","admin.metadata-import.page.dropMsg")("dropMessageLabelReplacement","admin.metadata-import.page.dropMsgReplace"),k["\u0275\u0275advance"](4),k["\u0275\u0275textInterpolate"](k["\u0275\u0275pipeBind1"](15,10,"admin.metadata-import.page.button.return")),k["\u0275\u0275advance"](4),k["\u0275\u0275textInterpolate"](k["\u0275\u0275pipeBind1"](19,12,"admin.metadata-import.page.button.proceed")))},directives:[F.a],pipes:[E.e],encapsulation:2}),s),C=o("ynxc"),B=o("Y8Hs"),M=((l=function e(){d(this,e),this.context=C.a.AdminSearch}).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=k["\u0275\u0275defineComponent"]({type:l,selectors:[["ds-admin-search-page"]],decls:2,vars:1,consts:[["configuration","administrativeView",3,"context"]],template:function(e,t){1&e&&(k["\u0275\u0275element"](0,"ds-configuration-search-page",0),k["\u0275\u0275text"](1,"\n")),2&e&&k["\u0275\u0275property"]("context",t.context)},directives:[B.ConfigurationSearchPageComponent],styles:[""]}),l),L=o("A0IO"),D=((c=function e(){d(this,e),this.context=C.a.AdminWorkflowSearch}).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=k["\u0275\u0275defineComponent"]({type:c,selectors:[["ds-admin-workflow-page"]],decls:2,vars:1,consts:[["configuration","workflowAdmin",3,"context"]],template:function(e,t){1&e&&(k["\u0275\u0275element"](0,"ds-configuration-search-page",0),k["\u0275\u0275text"](1,"\n")),2&e&&k["\u0275\u0275property"]("context",t.context)},directives:[B.ConfigurationSearchPageComponent],styles:[""]}),c),P=o("tv3Y"),R=o("Rgmz"),V=((m=function e(){d(this,e)}).\u0275fac=function(e){return new(e||m)},m.\u0275cmp=k["\u0275\u0275defineComponent"]({type:m,selectors:[["ds-admin-curation-task"]],decls:9,vars:3,consts:[[1,"container"]],template:function(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"div",0),k["\u0275\u0275text"](1,"\n    "),k["\u0275\u0275elementStart"](2,"h2"),k["\u0275\u0275text"](3),k["\u0275\u0275pipe"](4,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](5,"\n    "),k["\u0275\u0275element"](6,"ds-curation-form"),k["\u0275\u0275text"](7,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](8,"\n")),2&e&&(k["\u0275\u0275advance"](3),k["\u0275\u0275textInterpolate"](k["\u0275\u0275pipeBind1"](4,1,"admin.curation-tasks.header")))},directives:[R.a],pipes:[E.e],encapsulation:2}),m),A=o("tmoE"),q=((u=function e(){d(this,e)}).\u0275mod=k["\u0275\u0275defineNgModule"]({type:u}),u.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||u)},providers:[L.a,P.a],imports:[[g.k.forChild([{path:A.a,loadChildren:function(){return Promise.resolve().then(o.bind(null,"uCsG")).then((function(e){return e.AdminRegistriesModule}))}},{path:"search",resolve:{breadcrumb:L.a},component:M,data:{title:"admin.search.title",breadcrumbKey:"admin.search"}},{path:"workflow",resolve:{breadcrumb:L.a},component:D,data:{title:"admin.workflow.title",breadcrumbKey:"admin.workflow"}},{path:"curation-tasks",resolve:{breadcrumb:L.a},component:V,data:{title:"admin.curation-tasks.title",breadcrumbKey:"admin.curation-tasks"}},{path:"metadata-import",resolve:{breadcrumb:L.a},component:O,data:{title:"admin.metadata-import.title",breadcrumbKey:"admin.metadata-import"}}])]]}),u),N=o("mrSG"),T=o("3jCq"),G=o("4v6T"),$=o("rrDp"),z=o("DB7N"),Q=o("PCBh"),U=o("Wm14"),W=o("sfEo"),K=o("84Zn"),J=o("IzEk"),_=o("t9+m"),Y=o("k7Qu"),H=o("enlO");function X(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",5),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.workflow.item.delete"),""))}function Z(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",5),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.workflow.item.send-back"),""))}var ee,te=function(e){return{"btn-sm":e}},ne=function(e){return[e]},ie=((ee=function(){function e(){d(this,e)}return p(e,[{key:"getDeleteRoute",value:function(){return Object(H.d)(this.wfi.id)}},{key:"getSendBackRoute",value:function(){return Object(H.e)(this.wfi.id)}}]),e}()).\u0275fac=function(e){return new(e||ee)},ee.\u0275cmp=k["\u0275\u0275defineComponent"]({type:ee,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},decls:14,vars:20,consts:[[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:function(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"a",0),k["\u0275\u0275pipe"](1,"translate"),k["\u0275\u0275text"](2,"\n    "),k["\u0275\u0275element"](3,"i",1),k["\u0275\u0275template"](4,X,3,3,"span",2),k["\u0275\u0275text"](5,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](6,"\n\n"),k["\u0275\u0275elementStart"](7,"a",3),k["\u0275\u0275pipe"](8,"translate"),k["\u0275\u0275text"](9,"\n    "),k["\u0275\u0275element"](10,"i",4),k["\u0275\u0275template"](11,Z,3,3,"span",2),k["\u0275\u0275text"](12,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](13,"\n")),2&e&&(k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](12,te,t.small))("routerLink",k["\u0275\u0275pureFunction1"](14,ne,t.getDeleteRoute()))("title",k["\u0275\u0275pipeBind1"](1,8,"admin.workflow.item.delete")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!t.small),k["\u0275\u0275advance"](3),k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](16,te,t.small))("routerLink",k["\u0275\u0275pureFunction1"](18,ne,t.getSendBackRoute()))("title",k["\u0275\u0275pipeBind1"](8,10,"admin.workflow.item.send-back")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!t.small))},directives:[g.j,w.r,w.u],pipes:[E.e],styles:[""]}),ee),ae=["badges"],re=["buttons"];function oe(e,t){1&e&&k["\u0275\u0275text"](0,"\n")}function se(e,t){if(1&e&&k["\u0275\u0275element"](0,"ds-workflow-item-admin-workflow-actions-element",9),2&e){var n=k["\u0275\u0275nextContext"]();k["\u0275\u0275property"]("wfi",n.dso)("small",!0)}}var le,ce=((le=function(n){t(o,n);var a=i(o);function o(e,t,n,i,r){var s;return d(this,o),(s=a.call(this,n,r)).componentFactoryResolver=e,s.linkService=t,s.truncatableService=n,s.themeService=i,s.bitstreamDataService=r,s}return p(o,[{key:"ngOnInit",value:function(){var t=this;e(r(o.prototype),"ngOnInit",this).call(this),this.dso=this.linkService.resolveLink(this.dso,Object(K.a)("item")),this.item$=this.dso.item.pipe(Object(S.c)(),Object(S.o)()),this.item$.pipe(Object(J.a)(1)).subscribe((function(e){var n=t.componentFactoryResolver.resolveComponentFactory(t.getComponent(e)),i=t.listableObjectDirective.viewContainerRef;i.clear();var a=i.createComponent(n,0,void 0,[[t.badges.nativeElement],[t.buttons.nativeElement]]);a.instance.object=e,a.instance.index=t.index,a.instance.linkType=t.linkType,a.instance.listID=t.listID,a.changeDetectorRef.detectChanges()}))}},{key:"getComponent",value:function(e){return Object(G.a)(e.getRenderTypes(),T.a.GridElement,void 0,this.themeService.getThemeName())}}]),o}($.a)).\u0275fac=function(e){return new(e||le)(k["\u0275\u0275directiveInject"](k.ComponentFactoryResolver),k["\u0275\u0275directiveInject"](W.a),k["\u0275\u0275directiveInject"](z.a),k["\u0275\u0275directiveInject"](Y.a),k["\u0275\u0275directiveInject"](Q.a))},le.\u0275cmp=k["\u0275\u0275defineComponent"]({type:le,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(e,t){var n;1&e&&(k["\u0275\u0275staticViewQuery"](U.a,!0),k["\u0275\u0275staticViewQuery"](ae,!0),k["\u0275\u0275staticViewQuery"](re,!0)),2&e&&(k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.listableObjectDirective=n.first),k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.badges=n.first),k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.buttons=n.first))},features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:22,vars:4,consts:[["dsListableObject",""],[1,"position-absolute","ml-1"],["badges",""],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(e,t){1&e&&(k["\u0275\u0275template"](0,oe,1,0,"ng-template",0),k["\u0275\u0275text"](1,"\n"),k["\u0275\u0275elementStart"](2,"div",1,2),k["\u0275\u0275text"](4,"\n    "),k["\u0275\u0275elementStart"](5,"div",3),k["\u0275\u0275text"](6,"\n        "),k["\u0275\u0275elementStart"](7,"span",4),k["\u0275\u0275text"](8),k["\u0275\u0275pipe"](9,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](10,"\n    "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](11,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](12,"\n"),k["\u0275\u0275elementStart"](13,"ul",5,6),k["\u0275\u0275text"](15,"\n    "),k["\u0275\u0275elementStart"](16,"li",7),k["\u0275\u0275text"](17,"\n        "),k["\u0275\u0275template"](18,se,1,2,"ds-workflow-item-admin-workflow-actions-element",8),k["\u0275\u0275text"](19,"\n    "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](20,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](21,"\n")),2&e&&(k["\u0275\u0275advance"](8),k["\u0275\u0275textInterpolate"](k["\u0275\u0275pipeBind1"](9,2,"admin.workflow.item.workflow")),k["\u0275\u0275advance"](10),k["\u0275\u0275property"]("ngIf",t.object))},directives:[U.a,w.u,ie],pipes:[E.e],styles:[""]}),le=Object(N.b)([Object(G.b)(_.a,T.a.GridElement,C.a.AdminWorkflowSearch)],le)),de=o("UVdL"),me=o("C765"),pe=o("1aCu");function ue(e,t){if(1&e&&(k["\u0275\u0275element"](0,"ds-listable-object-component-loader",4),k["\u0275\u0275pipe"](1,"async")),2&e){var n=k["\u0275\u0275nextContext"]();k["\u0275\u0275property"]("object",k["\u0275\u0275pipeBind1"](1,5,n.item$))("viewMode",n.viewModes.ListElement)("index",n.index)("linkType",n.linkType)("listID",n.listID)}}var fe,ve,he=[(fe=function(n){t(o,n);var a=i(o);function o(e,t,n){var i;return d(this,o),(i=a.call(this,t,n)).linkService=e,i.truncatableService=t,i.dsoNameService=n,i}return p(o,[{key:"ngOnInit",value:function(){e(r(o.prototype),"ngOnInit",this).call(this),this.dso=this.linkService.resolveLink(this.dso,Object(K.a)("item")),this.item$=this.dso.item.pipe(Object(S.c)(),Object(S.o)())}}]),o}(de.a),fe.\u0275fac=function(e){return new(e||fe)(k["\u0275\u0275directiveInject"](W.a),k["\u0275\u0275directiveInject"](z.a),k["\u0275\u0275directiveInject"](me.a))},fe.\u0275cmp=k["\u0275\u0275defineComponent"]({type:fe,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:12,vars:8,consts:[[1,"workflow-badge"],[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:function(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"div",0),k["\u0275\u0275text"](1,"\n    "),k["\u0275\u0275elementStart"](2,"span",1),k["\u0275\u0275text"](3),k["\u0275\u0275pipe"](4,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](5,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](6,"\n"),k["\u0275\u0275template"](7,ue,2,7,"ds-listable-object-component-loader",2),k["\u0275\u0275pipe"](8,"async"),k["\u0275\u0275text"](9,"\n"),k["\u0275\u0275element"](10,"ds-workflow-item-admin-workflow-actions-element",3),k["\u0275\u0275text"](11,"\n")),2&e&&(k["\u0275\u0275advance"](3),k["\u0275\u0275textInterpolate"](k["\u0275\u0275pipeBind1"](4,4,"admin.workflow.item.workflow")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",k["\u0275\u0275pipeBind1"](8,6,t.item$)),k["\u0275\u0275advance"](3),k["\u0275\u0275property"]("wfi",t.dso)("small",!1))},directives:[w.u,ie,pe.a],pipes:[E.e,w.b],styles:[""]}),fe=Object(N.b)([Object(G.b)(_.a,T.a.ListElement,C.a.AdminWorkflowSearch)],fe)),ce],ge=((ve=function(){function e(){d(this,e)}return p(e,null,[{key:"withEntryComponents",value:function(){return{ngModule:f.a,providers:he.map((function(e){return{provide:e}}))}}}]),e}()).\u0275mod=k["\u0275\u0275defineNgModule"]({type:ve}),ve.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ve)},imports:[[f.a.withEntryComponents()]]}),ve),be=o("4SI6"),ye=o("zZO8"),xe=o("MEmd"),Se=o("YqLK");function Ie(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",11),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.search.item.move"),""))}function ke(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",11),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.search.item.make-private"),""))}var we=function(e){return{"btn-sm":e}},Ee=function(e){return[e]};function je(e,t){if(1&e&&(k["\u0275\u0275elementStart"](0,"a",12),k["\u0275\u0275pipe"](1,"translate"),k["\u0275\u0275text"](2,"\n    "),k["\u0275\u0275element"](3,"i",13),k["\u0275\u0275template"](4,ke,3,3,"span",2),k["\u0275\u0275text"](5,"\n"),k["\u0275\u0275elementEnd"]()),2&e){var n=k["\u0275\u0275nextContext"]();k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](6,we,n.small))("routerLink",k["\u0275\u0275pureFunction1"](8,Ee,n.getPrivateRoute()))("title",k["\u0275\u0275pipeBind1"](1,4,"admin.search.item.make-private")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!n.small)}}function Fe(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",11),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.search.item.make-public"),""))}function Oe(e,t){if(1&e&&(k["\u0275\u0275elementStart"](0,"a",14),k["\u0275\u0275pipe"](1,"translate"),k["\u0275\u0275text"](2,"\n    "),k["\u0275\u0275element"](3,"i",15),k["\u0275\u0275template"](4,Fe,3,3,"span",2),k["\u0275\u0275text"](5,"\n"),k["\u0275\u0275elementEnd"]()),2&e){var n=k["\u0275\u0275nextContext"]();k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](6,we,n.small))("routerLink",k["\u0275\u0275pureFunction1"](8,Ee,n.getPublicRoute()))("title",k["\u0275\u0275pipeBind1"](1,4,"admin.search.item.make-public")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!n.small)}}function Ce(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",11),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.search.item.edit"),""))}function Be(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",11),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.search.item.withdraw"),""))}function Me(e,t){if(1&e&&(k["\u0275\u0275elementStart"](0,"a",16),k["\u0275\u0275pipe"](1,"translate"),k["\u0275\u0275text"](2,"\n  "),k["\u0275\u0275element"](3,"i",17),k["\u0275\u0275template"](4,Be,3,3,"span",2),k["\u0275\u0275text"](5,"\n"),k["\u0275\u0275elementEnd"]()),2&e){var n=k["\u0275\u0275nextContext"]();k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](6,we,n.small))("routerLink",k["\u0275\u0275pureFunction1"](8,Ee,n.getWithdrawRoute()))("title",k["\u0275\u0275pipeBind1"](1,4,"admin.search.item.withdraw")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!n.small)}}function Le(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",11),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.search.item.reinstate"),""))}function De(e,t){if(1&e&&(k["\u0275\u0275elementStart"](0,"a",18),k["\u0275\u0275pipe"](1,"translate"),k["\u0275\u0275text"](2,"\n  "),k["\u0275\u0275element"](3,"i",19),k["\u0275\u0275template"](4,Le,3,3,"span",2),k["\u0275\u0275text"](5,"\n"),k["\u0275\u0275elementEnd"]()),2&e){var n=k["\u0275\u0275nextContext"]();k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](6,we,n.small))("routerLink",k["\u0275\u0275pureFunction1"](8,Ee,n.getReinstateRoute()))("title",k["\u0275\u0275pipeBind1"](1,4,"admin.search.item.reinstate")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!n.small)}}function Pe(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"span",11),k["\u0275\u0275text"](1),k["\u0275\u0275pipe"](2,"translate"),k["\u0275\u0275elementEnd"]()),2&e&&(k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](2,1,"admin.search.item.delete"),""))}var Re,Ve,Ae,qe,Ne=((Ve=function(){function e(){d(this,e)}return p(e,[{key:"getEditRoute",value:function(){return Object(xe.e)(this.item)}},{key:"getMoveRoute",value:function(){return new ye.a(this.getEditRoute(),Se.c).toString()}},{key:"getDeleteRoute",value:function(){return new ye.a(this.getEditRoute(),Se.b).toString()}},{key:"getWithdrawRoute",value:function(){return new ye.a(this.getEditRoute(),Se.g).toString()}},{key:"getReinstateRoute",value:function(){return new ye.a(this.getEditRoute(),Se.f).toString()}},{key:"getPrivateRoute",value:function(){return new ye.a(this.getEditRoute(),Se.d).toString()}},{key:"getPublicRoute",value:function(){return new ye.a(this.getEditRoute(),Se.e).toString()}}]),e}()).\u0275fac=function(e){return new(e||Ve)},Ve.\u0275cmp=k["\u0275\u0275defineComponent"]({type:Ve,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},decls:29,vars:34,consts:[[1,"btn","btn-secondary","my-1","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary my-1 private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary my-1 public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","my-1","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t my-1 withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning my-1 reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","my-1","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","my-1","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","my-1","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","my-1","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:function(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"a",0),k["\u0275\u0275pipe"](1,"translate"),k["\u0275\u0275text"](2,"\n  "),k["\u0275\u0275element"](3,"i",1),k["\u0275\u0275template"](4,Ie,3,3,"span",2),k["\u0275\u0275text"](5,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](6,"\n\n"),k["\u0275\u0275template"](7,je,6,10,"a",3),k["\u0275\u0275text"](8,"\n\n"),k["\u0275\u0275template"](9,Oe,6,10,"a",4),k["\u0275\u0275text"](10,"\n\n"),k["\u0275\u0275elementStart"](11,"a",5),k["\u0275\u0275pipe"](12,"translate"),k["\u0275\u0275text"](13,"\n  "),k["\u0275\u0275element"](14,"i",6),k["\u0275\u0275template"](15,Ce,3,3,"span",2),k["\u0275\u0275text"](16,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](17,"\n\n"),k["\u0275\u0275template"](18,Me,6,10,"a",7),k["\u0275\u0275text"](19,"\n\n"),k["\u0275\u0275template"](20,De,6,10,"a",8),k["\u0275\u0275text"](21,"\n\n"),k["\u0275\u0275elementStart"](22,"a",9),k["\u0275\u0275pipe"](23,"translate"),k["\u0275\u0275text"](24,"\n    "),k["\u0275\u0275element"](25,"i",10),k["\u0275\u0275template"](26,Pe,3,3,"span",2),k["\u0275\u0275text"](27,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](28,"\n\n")),2&e&&(k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](22,we,t.small))("routerLink",k["\u0275\u0275pureFunction1"](24,Ee,t.getMoveRoute()))("title",k["\u0275\u0275pipeBind1"](1,16,"admin.search.item.move")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!t.small),k["\u0275\u0275advance"](3),k["\u0275\u0275property"]("ngIf",t.item&&t.item.isDiscoverable),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("ngIf",t.item&&!t.item.isDiscoverable),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](26,we,t.small))("routerLink",k["\u0275\u0275pureFunction1"](28,Ee,t.getEditRoute()))("title",k["\u0275\u0275pipeBind1"](12,18,"admin.search.item.edit")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!t.small),k["\u0275\u0275advance"](3),k["\u0275\u0275property"]("ngIf",t.item&&!t.item.isWithdrawn),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("ngIf",t.item&&t.item.isWithdrawn),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("ngClass",k["\u0275\u0275pureFunction1"](30,we,t.small))("routerLink",k["\u0275\u0275pureFunction1"](32,Ee,t.getDeleteRoute()))("title",k["\u0275\u0275pipeBind1"](23,20,"admin.search.item.delete")),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngIf",!t.small))},directives:[g.j,w.r,w.u],pipes:[E.e],styles:[""]}),Ve),Te=((Re=function(e){t(a,e);var n=i(a);function a(){return d(this,a),n.apply(this,arguments)}return a}(de.a)).\u0275fac=function(e){return Ge(e||Re)},Re.\u0275cmp=k["\u0275\u0275defineComponent"]({type:Re,selectors:[["ds-item-admin-search-result-list-element"]],features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:8,consts:[[3,"object","viewMode","index","linkType","listID","hideBadges"],[3,"item","small"]],template:function(e,t){1&e&&(k["\u0275\u0275element"](0,"ds-listable-object-component-loader",0),k["\u0275\u0275text"](1,"\n"),k["\u0275\u0275element"](2,"ds-item-admin-search-result-actions-element",1),k["\u0275\u0275text"](3,"\n")),2&e&&(k["\u0275\u0275property"]("object",t.object)("viewMode",t.viewModes.ListElement)("index",t.index)("linkType",t.linkType)("listID",t.listID)("hideBadges",!0),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("item",t.dso)("small",!1))},directives:[pe.a,Ne],styles:[""]}),Re=Object(N.b)([Object(G.b)(be.a,T.a.ListElement,C.a.AdminSearch)],Re)),Ge=k["\u0275\u0275getInheritedFactory"](Te),$e=o("Hymi"),ze=o("KIxa"),Qe=o("83zO"),Ue=function(e){return[e]},We=((Ae=function(n){t(o,n);var a=i(o);function o(){return d(this,o),a.apply(this,arguments)}return p(o,[{key:"ngOnInit",value:function(){e(r(o.prototype),"ngOnInit",this).call(this),this.editPath=Object(ze.g)(this.dso.uuid)}}]),o}(de.a)).\u0275fac=function(e){return Ke(e||Ae)},Ae.\u0275cmp=k["\u0275\u0275defineComponent"]({type:Ae,selectors:[["ds-community-admin-search-result-list-element"]],features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(e,t){1&e&&(k["\u0275\u0275element"](0,"ds-community-search-result-list-element",0),k["\u0275\u0275text"](1,"\n"),k["\u0275\u0275elementStart"](2,"div"),k["\u0275\u0275text"](3,"\n    "),k["\u0275\u0275elementStart"](4,"a",1),k["\u0275\u0275text"](5,"\n        "),k["\u0275\u0275element"](6,"i",2),k["\u0275\u0275text"](7),k["\u0275\u0275pipe"](8,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](9,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](10,"\n")),2&e&&(k["\u0275\u0275property"]("object",t.object)("index",t.index)("linkType",t.linkType)("listID",t.listID),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("routerLink",k["\u0275\u0275pureFunction1"](8,Ue,t.editPath)),k["\u0275\u0275advance"](3),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](8,6,"admin.search.community.edit"),"\n    "))},directives:[Qe.a,g.j],pipes:[E.e],styles:[""]}),Ae=Object(N.b)([Object(G.b)($e.a,T.a.ListElement,C.a.AdminSearch)],Ae)),Ke=k["\u0275\u0275getInheritedFactory"](We),Je=o("BSkO"),_e=o("HaPv"),Ye=o("ecQD"),He=function(e){return[e]},Xe=((qe=function(n){t(o,n);var a=i(o);function o(){return d(this,o),a.apply(this,arguments)}return p(o,[{key:"ngOnInit",value:function(){e(r(o.prototype),"ngOnInit",this).call(this),this.editPath=Object(_e.h)(this.dso.uuid)}}]),o}(de.a)).\u0275fac=function(e){return Ze(e||qe)},qe.\u0275cmp=k["\u0275\u0275defineComponent"]({type:qe,selectors:[["ds-collection-admin-search-result-list-element"]],features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(e,t){1&e&&(k["\u0275\u0275element"](0,"ds-collection-search-result-list-element",0),k["\u0275\u0275text"](1,"\n"),k["\u0275\u0275elementStart"](2,"div"),k["\u0275\u0275text"](3,"\n    "),k["\u0275\u0275elementStart"](4,"a",1),k["\u0275\u0275text"](5,"\n        "),k["\u0275\u0275element"](6,"i",2),k["\u0275\u0275text"](7),k["\u0275\u0275pipe"](8,"translate"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](9,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](10,"\n")),2&e&&(k["\u0275\u0275property"]("object",t.object)("index",t.index)("linkType",t.linkType)("listID",t.listID),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("routerLink",k["\u0275\u0275pureFunction1"](8,He,t.editPath)),k["\u0275\u0275advance"](3),k["\u0275\u0275textInterpolate1"](" ",k["\u0275\u0275pipeBind1"](8,6,"admin.search.collection.edit"),"\n    "))},directives:[Ye.a,g.j],pipes:[E.e],styles:[""]}),qe=Object(N.b)([Object(G.b)(Je.a,T.a.ListElement,C.a.AdminSearch)],qe)),Ze=k["\u0275\u0275getInheritedFactory"](Xe),et=["badges"],tt=["buttons"];function nt(e,t){1&e&&k["\u0275\u0275text"](0,"\n")}var it,at,rt,ot,st,lt=["*"],ct=((it=function(n){t(o,n);var a=i(o);function o(e,t,n,i){var r;return d(this,o),(r=a.call(this,e,t)).truncatableService=e,r.bitstreamDataService=t,r.themeService=n,r.componentFactoryResolver=i,r}return p(o,[{key:"ngOnInit",value:function(){e(r(o.prototype),"ngOnInit",this).call(this);var t=this.componentFactoryResolver.resolveComponentFactory(this.getComponent()),n=this.listableObjectDirective.viewContainerRef;n.clear();var i=n.createComponent(t,0,void 0,[[this.badges.nativeElement],[this.buttons.nativeElement]]);i.instance.object=this.object,i.instance.index=this.index,i.instance.linkType=this.linkType,i.instance.listID=this.listID}},{key:"getComponent",value:function(){return Object(G.a)(this.object.getRenderTypes(),T.a.GridElement,void 0,this.themeService.getThemeName())}}]),o}($.a)).\u0275fac=function(e){return new(e||it)(k["\u0275\u0275directiveInject"](z.a),k["\u0275\u0275directiveInject"](Q.a),k["\u0275\u0275directiveInject"](Y.a),k["\u0275\u0275directiveInject"](k.ComponentFactoryResolver))},it.\u0275cmp=k["\u0275\u0275defineComponent"]({type:it,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(e,t){var n;1&e&&(k["\u0275\u0275staticViewQuery"](U.a,!0),k["\u0275\u0275staticViewQuery"](et,!0),k["\u0275\u0275staticViewQuery"](tt,!0)),2&e&&(k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.listableObjectDirective=n.first),k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.badges=n.first),k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.buttons=n.first))},features:[k["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:lt,decls:17,vars:2,consts:[["dsListableObject",""],["badges",""],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(e,t){1&e&&(k["\u0275\u0275projectionDef"](),k["\u0275\u0275template"](0,nt,1,0,"ng-template",0),k["\u0275\u0275text"](1,"\n"),k["\u0275\u0275elementStart"](2,"div",null,1),k["\u0275\u0275text"](4,"\n  "),k["\u0275\u0275projection"](5),k["\u0275\u0275text"](6,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](7,"\n"),k["\u0275\u0275elementStart"](8,"ul",2,3),k["\u0275\u0275text"](10,"\n  "),k["\u0275\u0275elementStart"](11,"li",4),k["\u0275\u0275text"](12,"\n      "),k["\u0275\u0275element"](13,"ds-item-admin-search-result-actions-element",5),k["\u0275\u0275text"](14,"\n  "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](15,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](16,"\n")),2&e&&(k["\u0275\u0275advance"](13),k["\u0275\u0275property"]("item",t.dso)("small",!0))},directives:[U.a,Ne],styles:[""]}),it=Object(N.b)([Object(G.b)(be.a,T.a.GridElement,C.a.AdminSearch)],it)),dt=o("xG+5"),mt=function(e){return[e]},pt=((at=function(n){t(o,n);var a=i(o);function o(){return d(this,o),a.apply(this,arguments)}return p(o,[{key:"ngOnInit",value:function(){e(r(o.prototype),"ngOnInit",this).call(this),this.editPath=Object(ze.g)(this.dso.uuid)}}]),o}($.a)).\u0275fac=function(e){return ut(e||at)},at.\u0275cmp=k["\u0275\u0275defineComponent"]({type:at,selectors:[["ds-community-admin-search-result-grid-element"]],features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:14,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"ds-community-search-result-grid-element",0),k["\u0275\u0275text"](1,"\n  "),k["\u0275\u0275elementStart"](2,"ul",1),k["\u0275\u0275text"](3,"\n    "),k["\u0275\u0275elementStart"](4,"li",2),k["\u0275\u0275text"](5,"\n      "),k["\u0275\u0275elementStart"](6,"a",3),k["\u0275\u0275text"](7,"\n        "),k["\u0275\u0275element"](8,"i",4),k["\u0275\u0275text"](9,"\n      "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](10,"\n    "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](11,"\n  "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](12,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](13,"\n\n")),2&e&&(k["\u0275\u0275property"]("object",t.object)("index",t.index)("linkType",t.linkType)("listID",t.listID),k["\u0275\u0275advance"](6),k["\u0275\u0275property"]("routerLink",k["\u0275\u0275pureFunction1"](5,mt,t.editPath)))},directives:[dt.a,g.j],styles:[""]}),at=Object(N.b)([Object(G.b)($e.a,T.a.GridElement,C.a.AdminSearch)],at)),ut=k["\u0275\u0275getInheritedFactory"](pt),ft=o("SJRl"),vt=function(e){return[e]},ht=((rt=function(n){t(o,n);var a=i(o);function o(){return d(this,o),a.apply(this,arguments)}return p(o,[{key:"ngOnInit",value:function(){e(r(o.prototype),"ngOnInit",this).call(this),this.editPath=Object(_e.h)(this.dso.uuid)}}]),o}($.a)).\u0275fac=function(e){return gt(e||rt)},rt.\u0275cmp=k["\u0275\u0275defineComponent"]({type:rt,selectors:[["ds-collection-admin-search-result-list-element"]],features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:14,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"ds-collection-search-result-grid-element",0),k["\u0275\u0275text"](1,"\n  "),k["\u0275\u0275elementStart"](2,"ul",1),k["\u0275\u0275text"](3,"\n    "),k["\u0275\u0275elementStart"](4,"li",2),k["\u0275\u0275text"](5,"\n      "),k["\u0275\u0275elementStart"](6,"a",3),k["\u0275\u0275text"](7,"\n        "),k["\u0275\u0275element"](8,"i",4),k["\u0275\u0275text"](9,"\n      "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](10,"\n    "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](11,"\n  "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](12,"\n"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275text"](13,"\n\n")),2&e&&(k["\u0275\u0275property"]("object",t.object)("index",t.index)("linkType",t.linkType)("listID",t.listID),k["\u0275\u0275advance"](6),k["\u0275\u0275property"]("routerLink",k["\u0275\u0275pureFunction1"](5,vt,t.editPath)))},directives:[ft.a,g.j],styles:[""]}),rt=Object(N.b)([Object(G.b)(Je.a,T.a.GridElement,C.a.AdminSearch)],rt)),gt=k["\u0275\u0275getInheritedFactory"](ht),bt=o("N0eT"),yt=o("udvk"),xt=[Te,We,Xe,ct,pt,ht,Ne],St=((ot=function(){function e(){d(this,e)}return p(e,null,[{key:"withEntryComponents",value:function(){return{ngModule:f.a,providers:xt.map((function(e){return{provide:e}}))}}}]),e}()).\u0275mod=k["\u0275\u0275defineNgModule"]({type:ot}),ot.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ot)},imports:[[f.a.withEntryComponents(),bt.a.withEntryComponents(),yt.a.withEntryComponents()]]}),ot),It=o("j/v9"),kt=o("quIJ"),wt=[It.a,kt.a],Et=((st=function(){function e(){d(this,e)}return p(e,null,[{key:"withEntryComponents",value:function(){return{ngModule:e,providers:wt.map((function(e){return{provide:e}}))}}}]),e}()).\u0275mod=k["\u0275\u0275defineNgModule"]({type:st}),st.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||st)},imports:[[q,h.AdminRegistriesModule,v.AccessControlModule,St.withEntryComponents(),ge.withEntryComponents(),f.a]]}),st)},tmoE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("zZO8"),a=n("TVZh"),r="registries";function o(){return new i.a(Object(a.k)(),r).toString()}},uCsG:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminRegistriesModule",(function(){return be}));var i=n("2Vo4"),a=n("1uah"),r=n("itXk"),l=n("7DXY"),c=n("pLZG"),m=n("eIep"),u=n("IzEk"),f=n("lJxs"),v=n("J3qs"),h=n("B/au");function g(e,t){return Object.assign(new h.f,t,{currentPage:e.currentPage,elementsPerPage:e.pageSize})}var b=n("1QIV"),y=n("8Y7J"),x=n("Y6Ni"),S=n("lI3o"),I=n("iInd"),k=n("MFUF"),w=n("TSSN"),E=n("QOHy"),j=n("Hbzl"),F=n("Q5/L"),O=n("SVse"),C=n("hqmO"),B=n("s7LF");function M(e,t){1&e&&y["\u0275\u0275element"](0,"div")}function L(e,t){if(1&e&&(y["\u0275\u0275text"](0,"\n    "),y["\u0275\u0275elementStart"](1,"h4"),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](4,"\n")),2&e){var n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,1,n.messagePrefix+".create"))}}function D(e,t){if(1&e&&(y["\u0275\u0275text"](0,"\n    "),y["\u0275\u0275elementStart"](1,"h4"),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](4,"\n")),2&e){var n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,1,n.messagePrefix+".edit"))}}var P,R=((P=function(){function e(t,n,i){d(this,e),this.registryService=t,this.formBuilderService=n,this.translateService=i,this.formId="metadata-schema-form",this.messagePrefix="admin.registries.metadata.form",this.formLayout={name:{grid:{host:"col col-sm-6 d-inline-block"}},namespace:{grid:{host:"col col-sm-6 d-inline-block"}}},this.submitForm=new y.EventEmitter}return p(e,[{key:"ngOnInit",value:function(){var e=this;Object(r.a)(this.translateService.get("".concat(this.messagePrefix,".name")),this.translateService.get("".concat(this.messagePrefix,".namespace"))).subscribe((function(t){var n=o(t,2),i=n[0],a=n[1];e.name=new E.I({id:"name",label:i,name:"name",validators:{required:null,pattern:"^[^ ,_]{1,32}$"},required:!0}),e.namespace=new E.I({id:"namespace",label:a,name:"namespace",validators:{required:null},required:!0}),e.formModel=[new E.C({id:"metadatadataschemagroup",group:[e.namespace,e.name]})],e.formGroup=e.formBuilderService.createFormGroup(e.formModel),e.registryService.getActiveMetadataSchema().subscribe((function(t){e.formGroup.patchValue({metadatadataschemagroup:{name:null!=t?t.prefix:"",namespace:null!=t?t.namespace:""}})}))}))}},{key:"onCancel",value:function(){this.registryService.cancelEditMetadataSchema()}},{key:"onSubmit",value:function(){var e=this;this.registryService.clearMetadataSchemaRequests().subscribe(),this.registryService.getActiveMetadataSchema().pipe(Object(u.a)(1)).subscribe((function(t){var n={prefix:e.name.value,namespace:e.namespace.value};null==t?e.registryService.createOrUpdateMetadataSchema(Object.assign(new j.a,n)).subscribe((function(t){e.submitForm.emit(t)})):e.registryService.createOrUpdateMetadataSchema(Object.assign(new j.a,t,{id:t.id,prefix:n.prefix?n.prefix:t.prefix,namespace:n.namespace?n.namespace:t.namespace})).subscribe((function(t){e.submitForm.emit(t)})),e.clearFields(),e.registryService.cancelEditMetadataSchema()}))}},{key:"clearFields",value:function(){this.formGroup.patchValue({metadatadataschemagroup:{prefix:"",namespace:""}})}},{key:"ngOnDestroy",value:function(){this.onCancel()}}]),e}()).\u0275fac=function(e){return new(e||P)(y["\u0275\u0275directiveInject"](x.a),y["\u0275\u0275directiveInject"](F.a),y["\u0275\u0275directiveInject"](w.f))},P.\u0275cmp=y["\u0275\u0275defineComponent"]({type:P,selectors:[["ds-metadata-schema-form"]],outputs:{submitForm:"submitForm"},decls:12,vars:9,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formGroup","formLayout","cancel","submitForm"]],template:function(e,t){if(1&e&&(y["\u0275\u0275template"](0,M,1,0,"div",0),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275text"](2,"\n\n"),y["\u0275\u0275template"](3,L,5,3,"ng-template",null,1,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275text"](5,"\n\n"),y["\u0275\u0275template"](6,D,5,3,"ng-template",null,2,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275text"](8,"\n\n"),y["\u0275\u0275elementStart"](9,"ds-form",3),y["\u0275\u0275listener"]("cancel",(function(){return t.onCancel()}))("submitForm",(function(){return t.onSubmit()})),y["\u0275\u0275text"](10,"\n\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](11,"\n")),2&e){var n=y["\u0275\u0275reference"](4),i=y["\u0275\u0275reference"](7);y["\u0275\u0275property"]("ngIf",y["\u0275\u0275pipeBind1"](1,7,t.registryService.getActiveMetadataSchema()))("ngIfThen",i)("ngIfElse",n),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("formId",t.formId)("formModel",t.formModel)("formGroup",t.formGroup)("formLayout",t.formLayout)}},directives:[O.u,C.a,B.NgControlStatusGroup,B.FormGroupDirective],pipes:[O.b,w.e],encapsulation:2}),P),V=n("Exvd"),A=function(e){return{"table-primary":e}},q=function(e){return[e]};function N(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr",14),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275text"](2,"\n                            "),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4,"\n                                "),y["\u0275\u0275elementStart"](5,"label"),y["\u0275\u0275text"](6,"\n                                    "),y["\u0275\u0275elementStart"](7,"input",15),y["\u0275\u0275listener"]("change",(function(e){y["\u0275\u0275restoreView"](n);var i=t.$implicit;return y["\u0275\u0275nextContext"](2).selectMetadataSchema(i,e)})),y["\u0275\u0275pipe"](8,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](9,"\n                                "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](10,"\n                            "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](11,"\n                            "),y["\u0275\u0275elementStart"](12,"td",16),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](n);var e=t.$implicit;return y["\u0275\u0275nextContext"](2).editSchema(e)})),y["\u0275\u0275elementStart"](13,"a",17),y["\u0275\u0275text"](14),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](15,"\n                            "),y["\u0275\u0275elementStart"](16,"td",16),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](n);var e=t.$implicit;return y["\u0275\u0275nextContext"](2).editSchema(e)})),y["\u0275\u0275elementStart"](17,"a",17),y["\u0275\u0275text"](18),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](19,"\n                            "),y["\u0275\u0275elementStart"](20,"td",16),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](n);var e=t.$implicit;return y["\u0275\u0275nextContext"](2).editSchema(e)})),y["\u0275\u0275elementStart"](21,"a",17),y["\u0275\u0275text"](22),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](23,"\n                        "),y["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](12,A,y["\u0275\u0275pipeBind1"](1,8,a.isActive(i)))),y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("checked",y["\u0275\u0275pipeBind1"](8,10,a.isSelected(i))),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](14,q,i.prefix)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](i.id),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](16,q,i.prefix)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](i.namespace),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](18,q,i.prefix)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](i.prefix)}}function T(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"ds-pagination",9),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275text"](2,"\n\n                "),y["\u0275\u0275elementStart"](3,"div",10),y["\u0275\u0275text"](4,"\n                    "),y["\u0275\u0275elementStart"](5,"table",11),y["\u0275\u0275text"](6,"\n                        "),y["\u0275\u0275elementStart"](7,"thead"),y["\u0275\u0275text"](8,"\n                        "),y["\u0275\u0275elementStart"](9,"tr"),y["\u0275\u0275text"](10,"\n                            "),y["\u0275\u0275element"](11,"th",12),y["\u0275\u0275text"](12,"\n                            "),y["\u0275\u0275elementStart"](13,"th",12),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](16,"\n                            "),y["\u0275\u0275elementStart"](17,"th",12),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](20,"\n                            "),y["\u0275\u0275elementStart"](21,"th",12),y["\u0275\u0275text"](22),y["\u0275\u0275pipe"](23,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](24,"\n                        "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](25,"\n                        "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](26,"\n                        "),y["\u0275\u0275elementStart"](27,"tbody"),y["\u0275\u0275text"](28,"\n                        "),y["\u0275\u0275template"](29,N,24,20,"tr",13),y["\u0275\u0275pipe"](30,"async"),y["\u0275\u0275text"](31,"\n                        "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](32,"\n                    "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](33,"\n                "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](34,"\n\n            "),y["\u0275\u0275elementEnd"]()),2&e){var n,i,a=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("paginationOptions",a.config)("collectionSize",null==(n=y["\u0275\u0275pipeBind1"](1,8,a.metadataSchemas))||null==n.payload?null:n.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),y["\u0275\u0275advance"](14),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](15,10,"admin.registries.metadata.schemas.table.id")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,12,"admin.registries.metadata.schemas.table.namespace")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](23,14,"admin.registries.metadata.schemas.table.name")),y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("ngForOf",null==(i=y["\u0275\u0275pipeBind1"](30,16,a.metadataSchemas))||null==i.payload?null:i.payload.page)}}function G(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",18),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("\n              ",y["\u0275\u0275pipeBind1"](2,1,"admin.registries.metadata.schemas.no-items"),"\n            "))}function $(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",19),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().deleteSchemas()})),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"admin.registries.metadata.schemas.table.delete")))}var z,Q=((z=function(){function e(t,n,a,r,o){d(this,e),this.registryService=t,this.notificationsService=n,this.router=a,this.paginationService=r,this.translateService=o,this.config=Object.assign(new l.a,{id:"rm",pageSize:25}),this.needsUpdate$=new i.a(!0),this.updateSchemas()}return p(e,[{key:"updateSchemas",value:function(){var e=this;this.metadataSchemas=this.needsUpdate$.pipe(Object(c.a)((function(e){return!0===e})),Object(m.a)((function(){return e.paginationService.getCurrentPagination(e.config.id,e.config)})),Object(m.a)((function(t){return e.registryService.getMetadataSchemas(g(t))})))}},{key:"forceUpdateSchemas",value:function(){this.needsUpdate$.next(!0)}},{key:"editSchema",value:function(e){var t=this;this.getActiveSchema().pipe(Object(u.a)(1)).subscribe((function(n){e===n?t.registryService.cancelEditMetadataSchema():t.registryService.editMetadataSchema(e)}))}},{key:"isActive",value:function(e){return this.getActiveSchema().pipe(Object(f.a)((function(t){return e===t})))}},{key:"getActiveSchema",value:function(){return this.registryService.getActiveMetadataSchema()}},{key:"selectMetadataSchema",value:function(e,t){t.target.checked?this.registryService.selectMetadataSchema(e):this.registryService.deselectMetadataSchema(e)}},{key:"isSelected",value:function(e){return this.registryService.getSelectedMetadataSchemas().pipe(Object(f.a)((function(t){return null!=t.find((function(t){return t===e}))})))}},{key:"deleteSchemas",value:function(){var e=this;this.registryService.clearMetadataSchemaRequests().subscribe(),this.registryService.getSelectedMetadataSchemas().pipe(Object(u.a)(1)).subscribe((function(t){var n,i=[],r=s(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;Object(v.b)(o.id)&&i.push(e.registryService.deleteMetadataSchema(o.id).pipe(Object(b.g)()))}}catch(l){r.e(l)}finally{r.f()}Object(a.a).apply(void 0,i).subscribe((function(t){var n=t.filter((function(e){return e.hasSucceeded})),i=t.filter((function(e){return e.hasFailed}));n.length>0&&e.showNotification(!0,n.length),i.length>0&&e.showNotification(!1,i.length),e.registryService.deselectAllMetadataSchema(),e.registryService.cancelEditMetadataSchema(),e.forceUpdateSchemas()}))}))}},{key:"showNotification",value:function(e,t){var n=this,i="admin.registries.schema.notification",a=e?"success":"failure";Object(r.a)(this.translateService.get("".concat(i,".").concat(a)),this.translateService.get("".concat(i,".deleted.").concat(a),{amount:t})).subscribe((function(t){var i=o(t,2),a=i[0],r=i[1];e?n.notificationsService.success(a,r):n.notificationsService.error(a,r)}))}},{key:"ngOnDestroy",value:function(){this.paginationService.clearPagination(this.config.id)}}]),e}()).\u0275fac=function(e){return new(e||z)(y["\u0275\u0275directiveInject"](x.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](I.g),y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](w.f))},z.\u0275cmp=y["\u0275\u0275defineComponent"]({type:z,selectors:[["ds-metadata-registry"]],decls:31,vars:15,consts:[[1,"container"],[1,"metadata-registry","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description",1,"pb-2"],[3,"submitForm"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","metadata-schemas",1,"table","table-striped","table-hover"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","checkbox",3,"checked","change"],[1,"selectable-row",3,"click"],[3,"routerLink"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(e,t){var n,i,a;1&e&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275text"](1,"\n    "),y["\u0275\u0275elementStart"](2,"div",1),y["\u0275\u0275text"](3,"\n        "),y["\u0275\u0275elementStart"](4,"div",2),y["\u0275\u0275text"](5,"\n\n            "),y["\u0275\u0275elementStart"](6,"h2",3),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](9,"\n\n            "),y["\u0275\u0275elementStart"](10,"p",4),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](13,"\n\n            "),y["\u0275\u0275elementStart"](14,"ds-metadata-schema-form",5),y["\u0275\u0275listener"]("submitForm",(function(){return t.forceUpdateSchemas()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](15,"\n\n            "),y["\u0275\u0275template"](16,T,35,18,"ds-pagination",6),y["\u0275\u0275pipe"](17,"async"),y["\u0275\u0275text"](18,"\n\n            "),y["\u0275\u0275template"](19,G,3,3,"div",7),y["\u0275\u0275pipe"](20,"async"),y["\u0275\u0275text"](21,"\n\n            "),y["\u0275\u0275elementStart"](22,"div"),y["\u0275\u0275text"](23,"\n              "),y["\u0275\u0275template"](24,$,3,3,"button",8),y["\u0275\u0275pipe"](25,"async"),y["\u0275\u0275text"](26,"\n            "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](27,"\n\n        "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](28,"\n    "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](29,"\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](30,"\n")),2&e&&(y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](8,5,"admin.registries.metadata.head")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](12,7,"admin.registries.metadata.description")),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",(null==(n=y["\u0275\u0275pipeBind1"](17,9,t.metadataSchemas))||null==n.payload?null:n.payload.totalElements)>0),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",0==(null==(i=y["\u0275\u0275pipeBind1"](20,11,t.metadataSchemas))||null==i.payload?null:i.payload.totalElements)),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",(null==(a=y["\u0275\u0275pipeBind1"](25,13,t.metadataSchemas))||null==a.payload||null==a.payload.page?null:a.payload.page.length)>0))},directives:[R,O.u,V.a,O.t,O.r,I.j],pipes:[w.e,O.b],styles:[".selectable-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),z),U=n("LRne"),W=n("O/5o"),K=n("jf8X");function J(e,t){1&e&&y["\u0275\u0275element"](0,"div")}function _(e,t){if(1&e&&(y["\u0275\u0275text"](0,"\n    "),y["\u0275\u0275elementStart"](1,"h4"),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](4,"\n")),2&e){var n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,1,n.messagePrefix+".create"))}}function Y(e,t){if(1&e&&(y["\u0275\u0275text"](0,"\n    "),y["\u0275\u0275elementStart"](1,"h4"),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](4,"\n")),2&e){var n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,1,n.messagePrefix+".edit"))}}var H,X=((H=function(){function e(t,n,i){d(this,e),this.registryService=t,this.formBuilderService=n,this.translateService=i,this.formId="metadata-field-form",this.messagePrefix="admin.registries.schema.form",this.formLayout={element:{grid:{host:"col col-sm-6 d-inline-block"}},qualifier:{grid:{host:"col col-sm-6 d-inline-block"}},scopeNote:{grid:{host:"col col-sm-12 d-inline-block"}}},this.submitForm=new y.EventEmitter}return p(e,[{key:"ngOnInit",value:function(){var e=this;Object(r.a)(this.translateService.get("".concat(this.messagePrefix,".element")),this.translateService.get("".concat(this.messagePrefix,".qualifier")),this.translateService.get("".concat(this.messagePrefix,".scopenote"))).subscribe((function(t){var n=o(t,3),i=n[0],a=n[1],r=n[2];e.element=new E.I({id:"element",label:i,name:"element",validators:{required:null},required:!0}),e.qualifier=new E.I({id:"qualifier",label:a,name:"qualifier",required:!1}),e.scopeNote=new E.I({id:"scopeNote",label:r,name:"scopeNote",required:!1}),e.formModel=[new E.C({id:"metadatadatafieldgroup",group:[e.element,e.qualifier,e.scopeNote]})],e.formGroup=e.formBuilderService.createFormGroup(e.formModel),e.registryService.getActiveMetadataField().subscribe((function(t){e.formGroup.patchValue({metadatadatafieldgroup:{element:null!=t?t.element:"",qualifier:null!=t?t.qualifier:"",scopeNote:null!=t?t.scopeNote:""}})}))}))}},{key:"onCancel",value:function(){this.registryService.cancelEditMetadataField()}},{key:"onSubmit",value:function(){var e=this;this.registryService.getActiveMetadataField().pipe(Object(u.a)(1)).subscribe((function(t){var n={element:e.element.value,qualifier:e.qualifier.value,scopeNote:e.scopeNote.value};null==t?e.registryService.createMetadataField(Object.assign(new K.a,n),e.metadataSchema).subscribe((function(t){e.submitForm.emit(t)})):e.registryService.updateMetadataField(Object.assign(new K.a,t,{id:t.id,element:n.element?n.element:t.element,qualifier:n.qualifier?n.qualifier:t.qualifier,scopeNote:n.scopeNote?n.scopeNote:t.scopeNote})).subscribe((function(t){e.submitForm.emit(t)})),e.clearFields(),e.registryService.cancelEditMetadataField()}))}},{key:"clearFields",value:function(){this.formGroup.patchValue({metadatadatafieldgroup:{element:"",qualifier:"",scopeNote:""}})}},{key:"ngOnDestroy",value:function(){this.onCancel()}}]),e}()).\u0275fac=function(e){return new(e||H)(y["\u0275\u0275directiveInject"](x.a),y["\u0275\u0275directiveInject"](F.a),y["\u0275\u0275directiveInject"](w.f))},H.\u0275cmp=y["\u0275\u0275defineComponent"]({type:H,selectors:[["ds-metadata-field-form"]],inputs:{metadataSchema:"metadataSchema"},outputs:{submitForm:"submitForm"},decls:12,vars:9,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formLayout","formGroup","cancel","submit"]],template:function(e,t){if(1&e&&(y["\u0275\u0275template"](0,J,1,0,"div",0),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275text"](2,"\n\n"),y["\u0275\u0275template"](3,_,5,3,"ng-template",null,1,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275text"](5,"\n\n"),y["\u0275\u0275template"](6,Y,5,3,"ng-template",null,2,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275text"](8,"\n\n"),y["\u0275\u0275elementStart"](9,"ds-form",3),y["\u0275\u0275listener"]("cancel",(function(){return t.onCancel()}))("submit",(function(){return t.onSubmit()})),y["\u0275\u0275text"](10,"\n\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](11,"\n")),2&e){var n=y["\u0275\u0275reference"](4),i=y["\u0275\u0275reference"](7);y["\u0275\u0275property"]("ngIf",y["\u0275\u0275pipeBind1"](1,7,t.registryService.getActiveMetadataField()))("ngIfThen",i)("ngIfElse",n),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("formId",t.formId)("formModel",t.formModel)("formLayout",t.formLayout)("formGroup",t.formGroup)}},directives:[O.u,C.a,B.NgControlStatusGroup,B.FormGroupDirective],pipes:[O.b,w.e],encapsulation:2}),H);function Z(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"label"),y["\u0275\u0275text"](1,"."),y["\u0275\u0275elementEnd"]())}var ee=function(e){return{"table-primary":e}};function te(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr",17),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275text"](2,"\n                "),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4,"\n                  "),y["\u0275\u0275elementStart"](5,"label"),y["\u0275\u0275text"](6,"\n                    "),y["\u0275\u0275elementStart"](7,"input",18),y["\u0275\u0275listener"]("change",(function(e){y["\u0275\u0275restoreView"](n);var i=t.$implicit;return y["\u0275\u0275nextContext"](4).selectMetadataField(i,e)})),y["\u0275\u0275pipe"](8,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](9,"\n                  "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](10,"\n                "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](11,"\n                "),y["\u0275\u0275elementStart"](12,"td",19),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](n);var e=t.$implicit;return y["\u0275\u0275nextContext"](4).editField(e)})),y["\u0275\u0275text"](13),y["\u0275\u0275template"](14,Z,2,0,"label",20),y["\u0275\u0275text"](15),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](16,"\n                "),y["\u0275\u0275elementStart"](17,"td",19),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](n);var e=t.$implicit;return y["\u0275\u0275nextContext"](4).editField(e)})),y["\u0275\u0275text"](18),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](19,"\n              "),y["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=y["\u0275\u0275nextContext"](3).ngVar,r=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](11,ee,y["\u0275\u0275pipeBind1"](1,7,r.isActive(i)))),y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("checked",y["\u0275\u0275pipeBind1"](8,9,r.isSelected(i))),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate2"]("",null==a?null:a.prefix,".",i.element,""),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",i.qualifier),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](i.qualifier),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](i.scopeNote)}}function ne(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"ds-pagination",12),y["\u0275\u0275text"](1,"\n          "),y["\u0275\u0275elementStart"](2,"div",13),y["\u0275\u0275text"](3,"\n            "),y["\u0275\u0275elementStart"](4,"table",14),y["\u0275\u0275text"](5,"\n              "),y["\u0275\u0275elementStart"](6,"thead"),y["\u0275\u0275text"](7,"\n              "),y["\u0275\u0275elementStart"](8,"tr"),y["\u0275\u0275text"](9,"\n                "),y["\u0275\u0275element"](10,"th"),y["\u0275\u0275text"](11,"\n                "),y["\u0275\u0275elementStart"](12,"th",15),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](15,"\n                "),y["\u0275\u0275elementStart"](16,"th",15),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](19,"\n              "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](20,"\n              "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](21,"\n              "),y["\u0275\u0275elementStart"](22,"tbody"),y["\u0275\u0275text"](23,"\n              "),y["\u0275\u0275template"](24,te,20,13,"tr",16),y["\u0275\u0275text"](25,"\n              "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](26,"\n            "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](27,"\n          "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](28,"\n        "),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275nextContext"]().ngVar,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("paginationOptions",i.config)("pageInfoState",n)("collectionSize",null==n?null:n.totalElements)("hideGear",!1)("hidePagerWhenSinglePage",!0),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,8,"admin.registries.schema.fields.table.field")),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](18,10,"admin.registries.schema.fields.table.scopenote")),y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("ngForOf",null==n?null:n.page)}}function ie(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",21),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("\n          ",y["\u0275\u0275pipeBind1"](2,1,"admin.registries.schema.fields.no-items"),"\n        "))}function ae(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",22),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"](3).deleteFields()})),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"admin.registries.schema.fields.table.delete")))}var re=function(){return["/admin/registries/metadata"]};function oe(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1,"\n        "),y["\u0275\u0275template"](2,ne,29,12,"ds-pagination",8),y["\u0275\u0275text"](3,"\n\n        "),y["\u0275\u0275template"](4,ie,3,3,"div",9),y["\u0275\u0275text"](5,"\n\n        "),y["\u0275\u0275elementStart"](6,"div"),y["\u0275\u0275text"](7,"\n          "),y["\u0275\u0275elementStart"](8,"button",10),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](11,"\n          "),y["\u0275\u0275template"](12,ae,3,3,"button",11),y["\u0275\u0275text"](13,"\n        "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](14,"\n      "),y["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngVar;y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",(null==n?null:n.totalElements)>0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",0==(null==n?null:n.totalElements)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction0"](7,re)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](10,5,"admin.registries.schema.return")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",(null==n||null==n.page?null:n.page.length)>0)}}var se=function(e){return{namespace:e}};function le(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275text"](1,"\n\n      "),y["\u0275\u0275elementStart"](2,"h2",4),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](5,"\n\n      "),y["\u0275\u0275elementStart"](6,"p",5),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](9,"\n\n      "),y["\u0275\u0275elementStart"](10,"ds-metadata-field-form",6),y["\u0275\u0275listener"]("submitForm",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().forceUpdateFields()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](11,"\n\n      "),y["\u0275\u0275elementStart"](12,"h3"),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](15,"\n\n      "),y["\u0275\u0275template"](16,oe,15,8,"ng-container",7),y["\u0275\u0275pipe"](17,"async"),y["\u0275\u0275text"](18,"\n\n    "),y["\u0275\u0275elementEnd"]()}if(2&e){var i,a=t.ngVar,r=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate2"]("",y["\u0275\u0275pipeBind1"](4,6,"admin.registries.schema.head"),': "',null==a?null:a.prefix,'"'),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind2"](8,8,"admin.registries.schema.description",y["\u0275\u0275pureFunction1"](15,se,null==a?null:a.namespace))),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("metadataSchema",a),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](14,11,"admin.registries.schema.fields.head")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngVar",null==(i=y["\u0275\u0275pipeBind1"](17,13,r.metadataFields$))?null:i.payload)}}var ce,de,me,pe=((ce=function(){function e(t,n,a,r,o,s){d(this,e),this.registryService=t,this.route=n,this.notificationsService=a,this.router=r,this.paginationService=o,this.translateService=s,this.config=Object.assign(new l.a,{id:"rm",pageSize:25,pageSizeOptions:[25,50,100,200]}),this.needsUpdate$=new i.a(!0)}return p(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.initialize(t)}))}},{key:"initialize",value:function(e){this.metadataSchema$=this.registryService.getMetadataSchemaByPrefix(e.schemaName).pipe(Object(b.j)()),this.updateFields()}},{key:"updateFields",value:function(){var e=this;this.metadataFields$=this.paginationService.getCurrentPagination(this.config.id,this.config).pipe(Object(m.a)((function(t){return Object(r.a)(e.metadataSchema$,e.needsUpdate$,Object(U.a)(t))})),Object(m.a)((function(t){var n=o(t,3),i=n[0],a=n[1],r=n[2];return a&&e.needsUpdate$.next(!1),e.registryService.getMetadataFieldsBySchema(i,g(r),!a,!0)})))}},{key:"forceUpdateFields",value:function(){this.registryService.clearMetadataFieldRequests(),this.needsUpdate$.next(!0)}},{key:"editField",value:function(e){var t=this;this.getActiveField().pipe(Object(u.a)(1)).subscribe((function(n){e===n?t.registryService.cancelEditMetadataField():t.registryService.editMetadataField(e)}))}},{key:"isActive",value:function(e){return this.getActiveField().pipe(Object(f.a)((function(t){return e===t})))}},{key:"getActiveField",value:function(){return this.registryService.getActiveMetadataField()}},{key:"selectMetadataField",value:function(e,t){t.target.checked?this.registryService.selectMetadataField(e):this.registryService.deselectMetadataField(e)}},{key:"isSelected",value:function(e){return this.registryService.getSelectedMetadataFields().pipe(Object(f.a)((function(t){return null!=t.find((function(t){return t===e}))})))}},{key:"deleteFields",value:function(){var e=this;this.registryService.getSelectedMetadataFields().pipe(Object(u.a)(1)).subscribe((function(t){var n,i=[],r=s(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;Object(v.b)(o.id)&&i.push(e.registryService.deleteMetadataField(o.id).pipe(Object(b.g)()))}}catch(l){r.e(l)}finally{r.f()}Object(a.a).apply(void 0,i).subscribe((function(t){var n=t.filter((function(e){return e.hasSucceeded})),i=t.filter((function(e){return e.hasFailed}));n.length>0&&(e.showNotification(!0,n.length),e.registryService.clearMetadataFieldRequests()),i.length>0&&e.showNotification(!1,i.length),e.registryService.deselectAllMetadataField(),e.registryService.cancelEditMetadataField(),e.forceUpdateFields()}))}))}},{key:"showNotification",value:function(e,t){var n=this,i="admin.registries.schema.notification",a=e?"success":"failure";Object(r.a)(this.translateService.get("".concat(i,".").concat(a)),this.translateService.get("".concat(i,".field.deleted.").concat(a),{amount:t})).subscribe((function(t){var i=o(t,2),a=i[0],r=i[1];e?n.notificationsService.success(a,r):n.notificationsService.error(a,r)}))}},{key:"ngOnDestroy",value:function(){this.paginationService.clearPagination(this.config.id)}}]),e}()).\u0275fac=function(e){return new(e||ce)(y["\u0275\u0275directiveInject"](x.a),y["\u0275\u0275directiveInject"](I.a),y["\u0275\u0275directiveInject"](S.a),y["\u0275\u0275directiveInject"](I.g),y["\u0275\u0275directiveInject"](k.a),y["\u0275\u0275directiveInject"](w.f))},ce.\u0275cmp=y["\u0275\u0275defineComponent"]({type:ce,selectors:[["ds-metadata-schema"]],decls:9,vars:3,consts:[[1,"container"],[1,"metadata-schema","row"],["class","col-12",4,"ngVar"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description",1,"pb-2"],[3,"metadataSchema","submitForm"],[4,"ngVar"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","metadata-fields",1,"table","table-striped","table-hover"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","checkbox",3,"checked","change"],[1,"selectable-row",3,"click"],[4,"ngIf"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275text"](1,"\n  "),y["\u0275\u0275elementStart"](2,"div",1),y["\u0275\u0275text"](3,"\n    "),y["\u0275\u0275template"](4,le,19,17,"div",2),y["\u0275\u0275pipe"](5,"async"),y["\u0275\u0275text"](6,"\n  "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](7,"\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](8,"\n")),2&e&&(y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngVar",y["\u0275\u0275pipeBind1"](5,1,t.metadataSchema$)))},directives:[W.a,X,O.u,I.h,V.a,O.t,O.r],pipes:[O.b,w.e],styles:[".selectable-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),ce),ue=n("A0IO"),fe=n("C63K"),ve=((de=function e(){d(this,e)}).\u0275mod=y["\u0275\u0275defineNgModule"]({type:de}),de.\u0275inj=y["\u0275\u0275defineInjector"]({factory:function(e){return new(e||de)},imports:[[I.k.forChild([{path:"metadata",resolve:{breadcrumb:ue.a},data:{title:"admin.registries.metadata.title",breadcrumbKey:"admin.registries.metadata"},children:[{path:"",component:Q},{path:":schemaName",resolve:{breadcrumb:ue.a},component:pe,data:{title:"admin.registries.schema.title",breadcrumbKey:"admin.registries.schema"}}]},{path:fe.a,resolve:{breadcrumb:ue.a},loadChildren:function(){return Promise.resolve().then(n.bind(null,"PT0L")).then((function(e){return e.BitstreamFormatsModule}))},data:{title:"admin.registries.bitstream-formats.title",breadcrumbKey:"admin.registries.bitstream-formats"}}])]]}),de),he=n("PCNd"),ge=n("PT0L"),be=((me=function e(){d(this,e)}).\u0275mod=y["\u0275\u0275defineNgModule"]({type:me}),me.\u0275inj=y["\u0275\u0275defineInjector"]({factory:function(e){return new(e||me)},imports:[[O.c,he.a,I.k,ge.BitstreamFormatsModule,ve]]}),me)}}])}();
//# sourceMappingURL=27-es5.32f7afbafc1282fd9968.js.map