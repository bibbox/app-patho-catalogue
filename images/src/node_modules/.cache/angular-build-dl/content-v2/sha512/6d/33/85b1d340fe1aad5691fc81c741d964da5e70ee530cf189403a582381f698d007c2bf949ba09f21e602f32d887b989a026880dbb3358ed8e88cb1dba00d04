!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/fRo":function(t,r,o){"use strict";o.r(r),o.d(r,"FullItemPageComponent",(function(){return _}));var d=o("lJxs"),c=o("pLZG"),s=o("TBE7"),u=o("mEo1"),m=o("J3qs"),f=o("8Y7J"),v=o("iInd"),g=o("iqTE"),x=o("1qF2"),h=o("Vurf"),y=o("O/5o"),b=o("SVse"),I=o("UX6V"),S=o("6xaB"),E=o("mXNY"),O=o("g507"),j=o("uVW2"),C=o("XTak"),w=o("hIXu"),B=o("Y9an"),P=o("HZwm"),k=o("Frqi"),V=o("TSSN");function F(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275text"](1,"\n              "),f["\u0275\u0275elementStart"](2,"td"),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](4,"\n              "),f["\u0275\u0275elementStart"](5,"td"),f["\u0275\u0275text"](6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](7,"\n              "),f["\u0275\u0275elementStart"](8,"td"),f["\u0275\u0275text"](9),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](10,"\n            "),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](i.key),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](n.value),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](n.language)}}function M(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275text"](1,"\n            "),f["\u0275\u0275template"](2,F,11,3,"tr",15),f["\u0275\u0275text"](3,"\n          "),f["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",n.value)}}var D=function(e){return[e]};function T(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1,"\n      "),f["\u0275\u0275element"](2,"ds-item-alerts",6),f["\u0275\u0275text"](3,"\n      "),f["\u0275\u0275element"](4,"ds-item-versions-notice",6),f["\u0275\u0275text"](5,"\n      "),f["\u0275\u0275element"](6,"ds-view-tracker",7),f["\u0275\u0275text"](7,"\n      "),f["\u0275\u0275elementStart"](8,"div",8),f["\u0275\u0275text"](9,"\n        "),f["\u0275\u0275element"](10,"ds-item-page-title-field",9),f["\u0275\u0275text"](11,"\n        "),f["\u0275\u0275elementStart"](12,"div",10),f["\u0275\u0275text"](13,"\n          "),f["\u0275\u0275element"](14,"ds-dso-page-edit-button",11),f["\u0275\u0275pipe"](15,"async"),f["\u0275\u0275text"](16,"\n        "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](17,"\n      "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](18,"\n      "),f["\u0275\u0275elementStart"](19,"div",12),f["\u0275\u0275text"](20,"\n        "),f["\u0275\u0275elementStart"](21,"a",13),f["\u0275\u0275pipe"](22,"async"),f["\u0275\u0275text"](23),f["\u0275\u0275pipe"](24,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](25,"\n      "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](26,"\n      "),f["\u0275\u0275elementStart"](27,"table",14),f["\u0275\u0275text"](28,"\n        "),f["\u0275\u0275elementStart"](29,"tbody"),f["\u0275\u0275text"](30,"\n          "),f["\u0275\u0275template"](31,M,4,1,"ng-container",15),f["\u0275\u0275pipe"](32,"keyvalue"),f["\u0275\u0275pipe"](33,"async"),f["\u0275\u0275text"](34,"\n        "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](35,"\n      "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275text"](36,"\n      "),f["\u0275\u0275element"](37,"ds-item-page-full-file-section",6),f["\u0275\u0275text"](38,"\n      "),f["\u0275\u0275element"](39,"ds-item-page-collections",6),f["\u0275\u0275text"](40,"\n      "),f["\u0275\u0275element"](41,"ds-item-versions",16),f["\u0275\u0275text"](42,"\n    "),f["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,i=f["\u0275\u0275nextContext"](3);f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("item",n),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("item",n),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("object",n),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("item",n),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("pageRoute",f["\u0275\u0275pipeBind1"](15,13,i.itemPageRoute$))("dso",n)("tooltipMsg","item.page.edit"),f["\u0275\u0275advance"](7),f["\u0275\u0275property"]("routerLink",f["\u0275\u0275pureFunction1"](23,D,f["\u0275\u0275pipeBind1"](22,15,i.itemPageRoute$))),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"]("\n          ",f["\u0275\u0275pipeBind1"](24,17,"item.page.link.simple"),"\n        "),f["\u0275\u0275advance"](8),f["\u0275\u0275property"]("ngForOf",f["\u0275\u0275pipeBind1"](32,19,f["\u0275\u0275pipeBind1"](33,21,i.metadata$))),f["\u0275\u0275advance"](6),f["\u0275\u0275property"]("item",n),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("item",n),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("item",n)}}function N(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",4),f["\u0275\u0275text"](1,"\n    "),f["\u0275\u0275template"](2,T,43,25,"div",5),f["\u0275\u0275text"](3,"\n  "),f["\u0275\u0275elementEnd"]()),2&e){var n=f["\u0275\u0275nextContext"]().ngVar;f["\u0275\u0275property"]("@fadeInOut",void 0),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",null==n?null:n.payload)}}function R(e,t){1&e&&(f["\u0275\u0275element"](0,"ds-error",17),f["\u0275\u0275pipe"](1,"translate")),2&e&&f["\u0275\u0275propertyInterpolate"]("message",f["\u0275\u0275pipeBind1"](1,1,"error.item"))}function U(e,t){1&e&&(f["\u0275\u0275element"](0,"ds-loading",17),f["\u0275\u0275pipe"](1,"translate")),2&e&&f["\u0275\u0275propertyInterpolate"]("message",f["\u0275\u0275pipeBind1"](1,1,"loading.item"))}function $(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",1),f["\u0275\u0275text"](1,"\n  "),f["\u0275\u0275template"](2,N,4,2,"div",2),f["\u0275\u0275text"](3,"\n  "),f["\u0275\u0275template"](4,R,2,3,"ds-error",3),f["\u0275\u0275text"](5,"\n  "),f["\u0275\u0275template"](6,U,2,3,"ds-loading",3),f["\u0275\u0275text"](7,"\n"),f["\u0275\u0275elementEnd"]()),2&e){var n=t.ngVar;f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",null==n?null:n.hasSucceeded),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",null==n?null:n.hasFailed),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",null==n?null:n.isLoading)}}var _=function(){var t=function(t){a(o,t);var r=l(o);function o(t,n,i,a,l){return e(this,o),r.call(this,t,n,i,a,l)}return n(o,[{key:"ngOnInit",value:function(){i(p(o.prototype),"ngOnInit",this).call(this),this.metadata$=this.itemRD$.pipe(Object(d.a)((function(e){return e.payload})),Object(c.a)((function(e){return Object(m.b)(e)})),Object(d.a)((function(e){return e.metadata})))}}]),o}(s.ItemPageComponent);return t.\u0275fac=function(e){return new(e||t)(f["\u0275\u0275directiveInject"](v.a),f["\u0275\u0275directiveInject"](v.g),f["\u0275\u0275directiveInject"](g.a),f["\u0275\u0275directiveInject"](x.a),f["\u0275\u0275directiveInject"](h.a))},t.\u0275cmp=f["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-full-item-page"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","item-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"item-page"],[4,"ngIf"],[3,"item"],[3,"object"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2"],[3,"pageRoute","dso","tooltipMsg"],[1,"simple-view-link","my-3"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"table","table-responsive","table-striped"],[4,"ngFor","ngForOf"],[1,"mt-2",3,"item"],[3,"message"]],template:function(e,t){1&e&&(f["\u0275\u0275template"](0,$,8,3,"div",0),f["\u0275\u0275pipe"](1,"async"),f["\u0275\u0275text"](2,"\n")),2&e&&f["\u0275\u0275property"]("ngVar",f["\u0275\u0275pipeBind1"](1,1,t.itemRD$))},directives:[y.a,b.u,I.a,S.a,E.a,O.a,j.a,v.j,b.t,C.a,w.a,B.a,P.a,k.a],pipes:[b.b,V.e,b.m],styles:["[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:25%}"],data:{animation:[u.c]},changeDetection:0}),t}()},"2mKD":function(e,t,n){var i={"./custom/app/+item-page/simple/item-page.component":["iNcH",47]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id="2mKD",e.exports=a},ALbi:function(e,t,n){var i={"./custom/app/+item-page/full/full-item-page.component":["CfG0",46]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id="ALbi",e.exports=a},EfKB:function(t,i,r){"use strict";r.r(i),r.d(i,"ItemPageModule",(function(){return qe}));var o,p=r("SVse"),d=r("PCNd"),c=(r("TBE7"),r("iInd")),s=r("Y2Xq"),u=r("tPZA"),m=r("hucJ"),f=r("u0Hx"),v=r("8Y7J"),g=r("GCaJ"),x=r("iqTE"),h=((o=function(t){a(r,t);var i=l(r);function r(t,n){var a;return e(this,r),(a=i.call(this,t,n)).breadcrumbService=t,a.dataService=n,a}return n(r,[{key:"followLinks",get:function(){return f.a}}]),r}(m.a)).\u0275fac=function(e){return new(e||o)(v["\u0275\u0275inject"](g.a),v["\u0275\u0275inject"](x.a))},o.\u0275prov=v["\u0275\u0275defineInjectable"]({token:o,factory:o.\u0275fac,providedIn:"root"}),o),y=r("sfEo"),b=r("lJxs"),I=r("eIep"),S=r("IzEk"),E=r("ao5O"),O=r("J3qs"),j=r("1QIV"),C=r("4zj/"),w=r("TVZh"),B=r("MEmd"),P=r("yhw/"),k=r("Vurf"),V=r("lI3o"),F=r("TSSN"),M=r("X/78"),D=r("O/5o"),T=r("Kr+g"),N=r("s7LF");function R(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"div"),v["\u0275\u0275text"](1,"\n            "),v["\u0275\u0275elementStart"](2,"span",7),v["\u0275\u0275text"](3),v["\u0275\u0275pipe"](4,"translate"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](5,"\n            "),v["\u0275\u0275elementStart"](6,"span"),v["\u0275\u0275text"](7),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](8,"\n          "),v["\u0275\u0275elementEnd"]()),2&e){var n=v["\u0275\u0275nextContext"]().ngVar;v["\u0275\u0275advance"](3),v["\u0275\u0275textInterpolate"](v["\u0275\u0275pipeBind1"](4,2,"item.bitstreams.upload.item")),v["\u0275\u0275advance"](4),v["\u0275\u0275textInterpolate"](n.name)}}function U(e,t){if(1&e&&(v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275text"](1,"\n          "),v["\u0275\u0275template"](2,R,9,4,"div",2),v["\u0275\u0275text"](3,"\n        "),v["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngVar;v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",n)}}function $(e,t){if(1&e){var n=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"button",13),v["\u0275\u0275listener"]("click",(function(){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275nextContext"](3).createBundle()})),v["\u0275\u0275text"](1,"\n          "),v["\u0275\u0275element"](2,"i",14),v["\u0275\u0275text"](3),v["\u0275\u0275pipe"](4,"translate"),v["\u0275\u0275elementEnd"]()}2&e&&(v["\u0275\u0275advance"](3),v["\u0275\u0275textInterpolate1"](" ",v["\u0275\u0275pipeBind1"](4,1,"item.bitstreams.upload.bundle.new"),"\n        "))}function _(e,t){if(1&e){var n=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"ds-uploader",15),v["\u0275\u0275listener"]("onCompleteItem",(function(e){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275nextContext"](3).onCompleteItem(e)}))("onUploadError",(function(){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275nextContext"](3).onUploadError()})),v["\u0275\u0275elementEnd"]()}if(2&e){var i=v["\u0275\u0275nextContext"](3);v["\u0275\u0275property"]("dropMsg","item.bitstreams.upload.drop-message")("dropOverDocumentMsg","item.bitstreams.upload.drop-message")("enableDragOverDocument",!0)("uploadFilesOptions",i.uploadFilesOptions)}}function z(e,t){if(1&e){var n=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275text"](1,"\n    "),v["\u0275\u0275elementStart"](2,"div",3),v["\u0275\u0275text"](3,"\n      "),v["\u0275\u0275elementStart"](4,"div",4),v["\u0275\u0275text"](5,"\n        "),v["\u0275\u0275elementStart"](6,"h2"),v["\u0275\u0275text"](7),v["\u0275\u0275pipe"](8,"translate"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](9,"\n        "),v["\u0275\u0275template"](10,U,4,1,"ng-container",5),v["\u0275\u0275pipe"](11,"async"),v["\u0275\u0275text"](12,"\n      "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](13,"\n      "),v["\u0275\u0275elementStart"](14,"div",6),v["\u0275\u0275text"](15,"\n        "),v["\u0275\u0275elementStart"](16,"label",7),v["\u0275\u0275text"](17),v["\u0275\u0275pipe"](18,"translate"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](19,"\n        "),v["\u0275\u0275elementStart"](20,"ds-dso-input-suggestions",8,9),v["\u0275\u0275listener"]("ngModelChange",(function(e){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275nextContext"](2).selectedBundleName=e}))("typeSuggestion",(function(){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275nextContext"](2).bundleNameChange()}))("clickSuggestion",(function(e){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275nextContext"](2).onClick(e)}))("click",(function(){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275reference"](21).open()})),v["\u0275\u0275pipe"](22,"translate"),v["\u0275\u0275text"](23,"\n        "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](24,"\n        "),v["\u0275\u0275template"](25,$,5,3,"button",10),v["\u0275\u0275text"](26,"\n        "),v["\u0275\u0275template"](27,_,1,4,"ds-uploader",11),v["\u0275\u0275text"](28,"\n        "),v["\u0275\u0275elementStart"](29,"button",12),v["\u0275\u0275listener"]("click",(function(){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275nextContext"](2).onCancel()})),v["\u0275\u0275text"](30),v["\u0275\u0275pipe"](31,"translate"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](32,"\n      "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](33,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](34,"\n  "),v["\u0275\u0275elementContainerEnd"]()}if(2&e){var i,a=v["\u0275\u0275nextContext"]().ngVar,r=v["\u0275\u0275nextContext"]();v["\u0275\u0275advance"](7),v["\u0275\u0275textInterpolate"](v["\u0275\u0275pipeBind1"](8,12,"item.bitstreams.upload.title")),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("ngVar",null==(i=v["\u0275\u0275pipeBind1"](11,14,r.itemRD$))?null:i.payload),v["\u0275\u0275advance"](7),v["\u0275\u0275textInterpolate"](v["\u0275\u0275pipeBind1"](18,16,"item.bitstreams.upload.bundle")),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("suggestions",a)("placeholder",v["\u0275\u0275pipeBind1"](22,18,"item.bitstreams.upload.bundle.placeholder"))("action",r.getCurrentUrl())("name","bundle-select")("debounceTime",50)("ngModel",r.selectedBundleName),v["\u0275\u0275advance"](5),v["\u0275\u0275property"]("ngIf",!r.selectedBundleId&&(null==r.selectedBundleName?null:r.selectedBundleName.length)>0),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",r.selectedBundleId),v["\u0275\u0275advance"](3),v["\u0275\u0275textInterpolate"](v["\u0275\u0275pipeBind1"](31,20,"item.bitstreams.upload.cancel"))}}function A(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"div",1),v["\u0275\u0275text"](1,"\n  "),v["\u0275\u0275template"](2,z,35,22,"ng-container",2),v["\u0275\u0275text"](3,"\n"),v["\u0275\u0275elementEnd"]()),2&e){var n=t.ngVar;v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",n)}}var X,L=((X=function(){function t(n,i,a,r,l,o,p,d){e(this,t),this.route=n,this.router=i,this.itemService=a,this.bundleService=r,this.authService=l,this.notificationsService=o,this.translate=p,this.requestService=d,this.uploadFilesOptions=Object.assign(new E.a,{url:"placeholder",authToken:null,disableMultipart:!1,itemAlias:null}),this.NOTIFICATIONS_PREFIX="item.bitstreams.upload.notifications.",this.subs=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.itemId=this.route.snapshot.params.id,this.entityType=this.route.snapshot.params["entity-type"],this.itemRD$=this.route.data.pipe(Object(b.a)((function(e){return e.dso}))),this.bundlesRD$=this.itemRD$.pipe(Object(I.a)((function(e){return e.payload.bundles}))),this.selectedBundleId=this.route.snapshot.queryParams.bundle,Object(O.e)(this.selectedBundleId)&&(this.bundleService.findById(this.selectedBundleId).pipe(Object(j.j)()).subscribe((function(t){e.selectedBundleName=t.name})),this.setUploadUrl())}},{key:"createBundle",value:function(){var e=this;this.itemService.createBundle(this.itemId,this.selectedBundleName).pipe(Object(j.j)()).subscribe((function(t){e.selectedBundleId=t.id,e.notificationsService.success(e.translate.instant(e.NOTIFICATIONS_PREFIX+"bundle.created.title"),e.translate.instant(e.NOTIFICATIONS_PREFIX+"bundle.created.content")),e.setUploadUrl()}))}},{key:"bundleNameChange",value:function(){this.selectedBundleId=void 0}},{key:"setUploadUrl",value:function(){var e=this;this.bundleService.getBitstreamsEndpoint(this.selectedBundleId).pipe(Object(S.a)(1)).subscribe((function(t){e.uploadFilesOptions.url=t,Object(O.d)(e.uploadFilesOptions.authToken)&&(e.uploadFilesOptions.authToken=e.authService.buildAuthHeader()),e.uploaderComponent&&(e.uploaderComponent.ngOnInit(),e.uploaderComponent.ngAfterViewInit())}))}},{key:"onCompleteItem",value:function(e){var t=this;this.bundleService.getBitstreamsEndpoint(this.selectedBundleId).pipe(Object(S.a)(1)).subscribe((function(e){t.requestService.removeByHrefSubstring(e)}));var n={itemId:this.itemId,entityType:this.entityType};this.router.navigate([Object(w.m)(),e.id,"edit"],{queryParams:n})}},{key:"onUploadError",value:function(){this.notificationsService.error(null,this.translate.get(this.NOTIFICATIONS_PREFIX+"upload.failed"))}},{key:"onClick",value:function(e){this.selectedBundleId=e.id,this.selectedBundleName=e.name,this.setUploadUrl()}},{key:"onCancel",value:function(){this.router.navigate([Object(B.d)(this.entityType,this.itemId),"bitstreams"])}},{key:"getCurrentUrl",value:function(){return this.router.url}},{key:"ngOnDestroy",value:function(){this.subs.filter((function(e){return Object(O.b)(e)})).forEach((function(e){return e.unsubscribe()}))}}]),t}()).\u0275fac=function(e){return new(e||X)(v["\u0275\u0275directiveInject"](c.a),v["\u0275\u0275directiveInject"](c.g),v["\u0275\u0275directiveInject"](x.a),v["\u0275\u0275directiveInject"](P.a),v["\u0275\u0275directiveInject"](k.a),v["\u0275\u0275directiveInject"](V.a),v["\u0275\u0275directiveInject"](F.f),v["\u0275\u0275directiveInject"](M.a))},X.\u0275cmp=v["\u0275\u0275defineComponent"]({type:X,selectors:[["ds-upload-bitstream"]],viewQuery:function(e,t){var n;1&e&&v["\u0275\u0275viewQuery"](C.a,!0),2&e&&v["\u0275\u0275queryRefresh"](n=v["\u0275\u0275loadQuery"]())&&(t.uploaderComponent=n.first)},decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[4,"ngIf"],[1,"row"],[1,"col-12","mb-4"],[4,"ngVar"],[1,"col-12"],[1,"font-weight-bold"],["id","search-form","ngDefaultControl","",3,"suggestions","placeholder","action","name","debounceTime","ngModel","ngModelChange","typeSuggestion","clickSuggestion","click"],["f",""],["class","btn btn-success",3,"click",4,"ngIf"],["class","w-100",3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-plus"],[1,"w-100",3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError"]],template:function(e,t){var n;1&e&&(v["\u0275\u0275template"](0,A,4,1,"div",0),v["\u0275\u0275pipe"](1,"async"),v["\u0275\u0275text"](2,"\n")),2&e&&v["\u0275\u0275property"]("ngVar",null==(n=v["\u0275\u0275pipeBind1"](1,1,t.bundlesRD$))||null==n.payload?null:n.payload.page)},directives:[D.a,p.u,T.a,N.DefaultValueAccessor,N.NgControlStatus,N.NgModel,C.a],pipes:[p.b,F.e],encapsulation:2}),X),q=r("TtSl"),J=r("ierV"),G=r("JTKQ");function Y(e,t){}var Q,K=((Q=function(t){a(o,t);var i=l(o);function o(){return e(this,o),i.apply(this,arguments)}return n(o,[{key:"getComponentName",value:function(){return"ItemPageComponent"}},{key:"importThemedComponent",value:function(e){return r("2mKD")("./".concat(e,"/app/+item-page/simple/item-page.component"))}},{key:"importUnthemedComponent",value:function(){return Promise.resolve().then(r.bind(null,"TBE7"))}}]),o}(G.a)).\u0275fac=function(e){return W(e||Q)},Q.\u0275cmp=v["\u0275\u0275defineComponent"]({type:Q,selectors:[["ds-themed-item-page"]],features:[v["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(e,t){1&e&&(v["\u0275\u0275template"](0,Y,0,0,"ng-template",null,0,v["\u0275\u0275templateRefExtractor"]),v["\u0275\u0275text"](2,"\n"))},encapsulation:2}),Q),W=v["\u0275\u0275getInheritedFactory"](K);function Z(e,t){}var H,ee,te=((H=function(t){a(o,t);var i=l(o);function o(){return e(this,o),i.apply(this,arguments)}return n(o,[{key:"getComponentName",value:function(){return"FullItemPageComponent"}},{key:"importThemedComponent",value:function(e){return r("ALbi")("./".concat(e,"/app/+item-page/full/full-item-page.component"))}},{key:"importUnthemedComponent",value:function(){return Promise.resolve().then(r.bind(null,"/fRo"))}}]),o}(G.a)).\u0275fac=function(e){return ne(e||H)},H.\u0275cmp=v["\u0275\u0275defineComponent"]({type:H,selectors:[["ds-themed-full-item-page"]],features:[v["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(e,t){1&e&&(v["\u0275\u0275template"](0,Z,0,0,"ng-template",null,0,v["\u0275\u0275templateRefExtractor"]),v["\u0275\u0275text"](2,"\n"))},encapsulation:2}),H),ne=v["\u0275\u0275getInheritedFactory"](te),ie=((ee=function t(){e(this,t)}).\u0275mod=v["\u0275\u0275defineNgModule"]({type:ee}),ee.\u0275inj=v["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ee)},providers:[s.a,h,g.a,y.a,q.a],imports:[[c.k.forChild([{path:":id",resolve:{dso:s.a,breadcrumb:h},runGuardsAndResolvers:"always",children:[{path:"",component:K,pathMatch:"full"},{path:"full",component:te},{path:B.a,loadChildren:function(){return Promise.resolve().then(r.bind(null,"bG9Y")).then((function(e){return e.EditItemPageModule}))}},{path:B.c,component:L,canActivate:[u.a]}],data:{menu:{public:[{id:"statistics_item_:id",active:!0,visible:!0,model:{type:J.b.LINK,text:"menu.section.statistics",link:"statistics/items/:id/"}}]}}}])]]}),ee);r("X6I1");var ae=r("HXXN"),re=r("OBAk"),le=r("m5G/"),oe=r("l/EF"),pe=(r("g507"),r("SdUf"),r("w48O")),de=r("hIXu"),ce=(r("/fRo"),r("XTak"),r("zQq+")),se=r("Vx9r"),ue=r("bG9Y"),me=r("9i+i"),fe=(r("nA3y"),r("mrSG")),ve=r("PN+Z"),ge=r("3jCq"),xe=r("4v6T"),he=r("LMaQ"),ye=r("uVW2"),be=r("mK1h"),Ie=r("Zmll"),Se=r("vv5f"),Ee=r("/lGE"),Oe=r("iWUm");function je(e,t){if(1&e&&(v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275text"](1,"\n      "),v["\u0275\u0275elementStart"](2,"ds-metadata-field-wrapper"),v["\u0275\u0275text"](3,"\n        "),v["\u0275\u0275element"](4,"ds-thumbnail",15),v["\u0275\u0275pipe"](5,"async"),v["\u0275\u0275text"](6,"\n      "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](7,"\n    "),v["\u0275\u0275elementContainerEnd"]()),2&e){var n=v["\u0275\u0275nextContext"]();v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("thumbnail",v["\u0275\u0275pipeBind1"](5,1,n.getThumbnail()))}}function Ce(e,t){if(1&e&&(v["\u0275\u0275elementContainerStart"](0),v["\u0275\u0275text"](1,"\n      "),v["\u0275\u0275element"](2,"ds-media-viewer",16),v["\u0275\u0275text"](3,"\n    "),v["\u0275\u0275elementContainerEnd"]()),2&e){var n=v["\u0275\u0275nextContext"]();v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("item",n.object)("videoOptions",n.mediaViewer.video)}}var we,Be,Pe=function(){return["dc.title"]},ke=function(){return["journal.title"]},Ve=function(){return["journal.identifier.issn"]},Fe=function(){return["journalvolume.identifier.name"]},Me=function(){return["dc.publisher"]},De=function(){return["dc.description"]},Te=function(){return["dc.subject"]},Ne=function(){return["dc.identifier.citation"]},Re=function(){return["dc.identifier.uri"]},Ue=function(e){return[e]},$e=((we=function(t){a(i,t);var n=l(i);function i(){return e(this,i),n.apply(this,arguments)}return i}(se.a)).\u0275fac=function(e){return _e(e||we)},we.\u0275cmp=v["\u0275\u0275defineComponent"]({type:we,selectors:[["ds-untyped-item"]],features:[v["\u0275\u0275InheritDefinitionFeature"]],decls:73,vars:57,consts:[[1,"d-flex","flex-row"],[1,"item-page-title-field","mr-auto"],[3,"mdValues"],[1,"pl-2"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],[3,"item"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","itemType","metadataField","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"thumbnail"],[3,"item","videoOptions"]],template:function(e,t){1&e&&(v["\u0275\u0275elementStart"](0,"div",0),v["\u0275\u0275text"](1,"\n  "),v["\u0275\u0275elementStart"](2,"h2",1),v["\u0275\u0275text"](3,"\n    "),v["\u0275\u0275element"](4,"ds-metadata-values",2),v["\u0275\u0275text"](5,"\n  "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](6,"\n  "),v["\u0275\u0275elementStart"](7,"div",3),v["\u0275\u0275text"](8,"\n    "),v["\u0275\u0275element"](9,"ds-dso-page-edit-button",4),v["\u0275\u0275text"](10,"\n  "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](11,"\n"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](12,"\n"),v["\u0275\u0275elementStart"](13,"div",5),v["\u0275\u0275text"](14,"\n  "),v["\u0275\u0275elementStart"](15,"div",6),v["\u0275\u0275text"](16,"\n    "),v["\u0275\u0275template"](17,je,8,3,"ng-container",7),v["\u0275\u0275text"](18,"\n    "),v["\u0275\u0275template"](19,Ce,4,2,"ng-container",7),v["\u0275\u0275text"](20,"\n    "),v["\u0275\u0275element"](21,"ds-item-page-file-section",8),v["\u0275\u0275text"](22,"\n    "),v["\u0275\u0275element"](23,"ds-item-page-date-field",8),v["\u0275\u0275text"](24,"\n    "),v["\u0275\u0275element"](25,"ds-item-page-author-field",8),v["\u0275\u0275text"](26,"\n    "),v["\u0275\u0275elementStart"](27,"ds-generic-item-page-field",9),v["\u0275\u0275text"](28,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](29,"\n    "),v["\u0275\u0275elementStart"](30,"ds-generic-item-page-field",9),v["\u0275\u0275text"](31,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](32,"\n    "),v["\u0275\u0275elementStart"](33,"ds-generic-item-page-field",9),v["\u0275\u0275text"](34,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](35,"\n    "),v["\u0275\u0275elementStart"](36,"ds-generic-item-page-field",9),v["\u0275\u0275text"](37,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](38,"\n  "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](39,"\n  "),v["\u0275\u0275elementStart"](40,"div",10),v["\u0275\u0275text"](41,"\n    "),v["\u0275\u0275elementStart"](42,"ds-metadata-representation-list",11),v["\u0275\u0275pipe"](43,"translate"),v["\u0275\u0275text"](44,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](45,"\n    "),v["\u0275\u0275element"](46,"ds-item-page-abstract-field",8),v["\u0275\u0275text"](47,"\n    "),v["\u0275\u0275elementStart"](48,"ds-generic-item-page-field",9),v["\u0275\u0275text"](49,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](50,"\n\n    "),v["\u0275\u0275elementStart"](51,"ds-generic-item-page-field",12),v["\u0275\u0275text"](52,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](53,"\n    "),v["\u0275\u0275elementStart"](54,"ds-generic-item-page-field",9),v["\u0275\u0275text"](55,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](56,"\n    "),v["\u0275\u0275elementStart"](57,"ds-item-page-uri-field",9),v["\u0275\u0275text"](58,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](59,"\n    "),v["\u0275\u0275element"](60,"ds-item-page-collections",8),v["\u0275\u0275text"](61,"\n    "),v["\u0275\u0275elementStart"](62,"div"),v["\u0275\u0275text"](63,"\n      "),v["\u0275\u0275elementStart"](64,"a",13),v["\u0275\u0275text"](65,"\n        "),v["\u0275\u0275element"](66,"i",14),v["\u0275\u0275text"](67),v["\u0275\u0275pipe"](68,"translate"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](69,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](70,"\n  "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](71,"\n"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](72,"\n")),2&e&&(v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("mdValues",null==t.object?null:t.object.allMetadata(v["\u0275\u0275pureFunction0"](46,Pe))),v["\u0275\u0275advance"](5),v["\u0275\u0275property"]("pageRoute",t.itemPageRoute)("dso",t.object)("tooltipMsg","item.page.edit"),v["\u0275\u0275advance"](8),v["\u0275\u0275property"]("ngIf",!t.mediaViewer.image),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",t.mediaViewer.image),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("item",t.object),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("item",t.object),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("item",t.object),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("item",t.object)("fields",v["\u0275\u0275pureFunction0"](47,ke))("label","item.page.journal-title"),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("item",t.object)("fields",v["\u0275\u0275pureFunction0"](48,Ve))("label","item.page.journal-issn"),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("item",t.object)("fields",v["\u0275\u0275pureFunction0"](49,Fe))("label","item.page.volume-title"),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("item",t.object)("fields",v["\u0275\u0275pureFunction0"](50,Me))("label","item.page.publisher"),v["\u0275\u0275advance"](6),v["\u0275\u0275property"]("parentItem",t.object)("itemType","Person")("metadataField","dc.contributor.author")("label",v["\u0275\u0275pipeBind1"](43,42,"relationships.isAuthorOf")),v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("item",t.object),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("item",t.object)("fields",v["\u0275\u0275pureFunction0"](51,De))("label","item.page.description"),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("item",t.object)("fields",v["\u0275\u0275pureFunction0"](52,Te))("separator",",")("label","item.page.subject"),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("item",t.object)("fields",v["\u0275\u0275pureFunction0"](53,Ne))("label","item.page.citation"),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("item",t.object)("fields",v["\u0275\u0275pureFunction0"](54,Re))("label","item.page.uri"),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("item",t.object),v["\u0275\u0275advance"](4),v["\u0275\u0275property"]("routerLink",v["\u0275\u0275pureFunction1"](55,Ue,t.itemPageRoute+"/full")),v["\u0275\u0275advance"](3),v["\u0275\u0275textInterpolate1"](" ",v["\u0275\u0275pipeBind1"](68,44,"item.page.link.full"),"\n      "))},directives:[he.a,ye.a,p.u,pe.a,re.a,ae.a,be.a,Ie.a,le.a,oe.a,de.a,c.j,Se.a,Ee.a,Oe.a],pipes:[F.e,p.b],styles:[""],changeDetection:0}),we=Object(fe.b)([Object(xe.b)(ve.a,ge.a.StandalonePage)],we)),_e=v["\u0275\u0275getInheritedFactory"]($e),ze=r("N0eT"),Ae=r("udvk"),Xe=(r("X0sQ"),r("gYde"),r("sJwy")),Le=[ce.a,$e],qe=((Be=function(){function t(){e(this,t)}return n(t,null,[{key:"withEntryComponents",value:function(){return{ngModule:t,providers:Le.map((function(e){return{provide:e}}))}}}]),t}()).\u0275mod=v["\u0275\u0275defineNgModule"]({type:Be}),Be.\u0275inj=v["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Be)},imports:[[p.c,d.a.withEntryComponents(),ie,ue.EditItemPageModule,me.a.forRoot(),ze.a.withEntryComponents(),Ae.a.withEntryComponents(),Xe.c]]}),Be)},TBE7:function(t,i,a){"use strict";a.r(i),a.d(i,"ItemPageComponent",(function(){return k}));var r=a("lJxs"),l=a("mEo1"),o=a("1QIV"),p=a("3jCq"),d=a("MEmd"),c=a("8Y7J"),s=a("iInd"),u=a("iqTE"),m=a("1qF2"),f=a("Vurf"),v=a("O/5o"),g=a("SVse"),x=a("UX6V"),h=a("6xaB"),y=a("mXNY"),b=a("1aCu"),I=a("Y9an"),S=a("HZwm"),E=a("Frqi"),O=a("TSSN");function j(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1,"\n      "),c["\u0275\u0275element"](2,"ds-item-alerts",6),c["\u0275\u0275text"](3,"\n      "),c["\u0275\u0275element"](4,"ds-item-versions-notice",6),c["\u0275\u0275text"](5,"\n      "),c["\u0275\u0275element"](6,"ds-view-tracker",7),c["\u0275\u0275text"](7,"\n      "),c["\u0275\u0275element"](8,"ds-listable-object-component-loader",8),c["\u0275\u0275text"](9,"\n      "),c["\u0275\u0275element"](10,"ds-item-versions",9),c["\u0275\u0275text"](11,"\n    "),c["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("item",n),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("item",n),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("object",n),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("object",n)("viewMode",i.viewMode),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("item",n)}}function C(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",4),c["\u0275\u0275text"](1,"\n    "),c["\u0275\u0275template"](2,j,12,6,"div",5),c["\u0275\u0275text"](3,"\n  "),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().ngVar;c["\u0275\u0275property"]("@fadeInOut",void 0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==n?null:n.payload)}}function w(e,t){1&e&&(c["\u0275\u0275element"](0,"ds-error",10),c["\u0275\u0275pipe"](1,"translate")),2&e&&c["\u0275\u0275propertyInterpolate"]("message",c["\u0275\u0275pipeBind1"](1,1,"error.item"))}function B(e,t){1&e&&(c["\u0275\u0275element"](0,"ds-loading",10),c["\u0275\u0275pipe"](1,"translate")),2&e&&c["\u0275\u0275propertyInterpolate"]("message",c["\u0275\u0275pipeBind1"](1,1,"loading.item"))}function P(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",1),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275template"](2,C,4,2,"div",2),c["\u0275\u0275text"](3,"\n  "),c["\u0275\u0275template"](4,w,2,3,"ds-error",3),c["\u0275\u0275text"](5,"\n  "),c["\u0275\u0275template"](6,B,2,3,"ds-loading",3),c["\u0275\u0275text"](7,"\n"),c["\u0275\u0275elementEnd"]()),2&e){var n=t.ngVar;c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==n?null:n.hasSucceeded),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==n?null:n.hasFailed),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==n?null:n.isLoading)}}var k=function(){var t=function(){function t(n,i,a,r,l){e(this,t),this.route=n,this.router=i,this.items=a,this.metadataService=r,this.authService=l,this.viewMode=p.a.StandalonePage}return n(t,[{key:"ngOnInit",value:function(){this.itemRD$=this.route.data.pipe(Object(r.a)((function(e){return e.dso})),Object(o.t)(this.router,this.authService)),this.metadataService.processRemoteData(this.itemRD$),this.itemPageRoute$=this.itemRD$.pipe(Object(o.d)(),Object(r.a)((function(e){return Object(d.f)(e)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](s.g),c["\u0275\u0275directiveInject"](u.a),c["\u0275\u0275directiveInject"](m.a),c["\u0275\u0275directiveInject"](f.a))},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-item-page"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","item-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"item-page"],[4,"ngIf"],[3,"item"],[3,"object"],[3,"object","viewMode"],[1,"mt-2",3,"item"],[3,"message"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,P,8,3,"div",0),c["\u0275\u0275pipe"](1,"async"),c["\u0275\u0275text"](2,"\n")),2&e&&c["\u0275\u0275property"]("ngVar",c["\u0275\u0275pipeBind1"](1,1,t.itemRD$))},directives:[v.a,g.u,x.a,h.a,y.a,b.a,I.a,S.a,E.a],pipes:[g.b,O.e],styles:["@media (max-width:991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}"],data:{animation:[l.c]},changeDetection:0}),t}()},XTak:function(t,i,r){"use strict";r.d(i,"a",(function(){return M}));var o=r("84Zn"),p=r("w48O"),d=r("7DXY"),c=r("eIep"),s=r("vkgz"),u=r("J3qs"),m=r("8Y7J"),f=r("PCBh"),v=r("lI3o"),g=r("TSSN"),x=r("MFUF"),h=r("vv5f"),y=r("O/5o"),b=r("SVse"),I=r("Exvd"),S=r("/lGE"),E=r("OXP5"),O=r("t8/W");function j(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",7),m["\u0275\u0275text"](1,"\n                    "),m["\u0275\u0275elementStart"](2,"div",8),m["\u0275\u0275text"](3,"\n                        "),m["\u0275\u0275element"](4,"ds-thumbnail",9),m["\u0275\u0275pipe"](5,"async"),m["\u0275\u0275text"](6,"\n                    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](7,"\n                    "),m["\u0275\u0275elementStart"](8,"div",10),m["\u0275\u0275text"](9,"\n                        "),m["\u0275\u0275elementStart"](10,"dl",11),m["\u0275\u0275text"](11,"\n                            "),m["\u0275\u0275elementStart"](12,"dt",12),m["\u0275\u0275text"](13),m["\u0275\u0275pipe"](14,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](15,"\n                            "),m["\u0275\u0275elementStart"](16,"dd",13),m["\u0275\u0275text"](17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](18,"\n\n                            "),m["\u0275\u0275elementStart"](19,"dt",12),m["\u0275\u0275text"](20),m["\u0275\u0275pipe"](21,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](22,"\n                            "),m["\u0275\u0275elementStart"](23,"dd",13),m["\u0275\u0275text"](24),m["\u0275\u0275pipe"](25,"dsFileSize"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](26,"\n\n\n                            "),m["\u0275\u0275elementStart"](27,"dt",12),m["\u0275\u0275text"](28),m["\u0275\u0275pipe"](29,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](30,"\n                            "),m["\u0275\u0275elementStart"](31,"dd",13),m["\u0275\u0275text"](32),m["\u0275\u0275pipe"](33,"async"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](34,"\n\n\n                            "),m["\u0275\u0275elementStart"](35,"dt",12),m["\u0275\u0275text"](36),m["\u0275\u0275pipe"](37,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](38,"\n                            "),m["\u0275\u0275elementStart"](39,"dd",13),m["\u0275\u0275text"](40),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](41,"\n                        "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](42,"\n                    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](43,"\n                    "),m["\u0275\u0275elementStart"](44,"div",14),m["\u0275\u0275text"](45,"\n                        "),m["\u0275\u0275elementStart"](46,"ds-file-download-link",15),m["\u0275\u0275text"](47),m["\u0275\u0275pipe"](48,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](49,"\n                    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](50,"\n                "),m["\u0275\u0275elementEnd"]()),2&e){var n,i,a=t.$implicit;m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("thumbnail",null==(n=m["\u0275\u0275pipeBind1"](5,11,a.thumbnail))?null:n.payload),m["\u0275\u0275advance"](9),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](14,13,"item.page.filesection.name")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](a.name),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](21,15,"item.page.filesection.size")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](25,17,a.sizeBytes)),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](29,19,"item.page.filesection.format")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](null==(i=m["\u0275\u0275pipeBind1"](33,21,a.format))||null==i.payload?null:i.payload.description),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](37,23,"item.page.filesection.description")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](a.firstMetadataValue("dc.description")),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("bitstream",a),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("\n                            ",m["\u0275\u0275pipeBind1"](48,25,"item.page.filesection.download"),"\n                        ")}}function C(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ds-pagination",5),m["\u0275\u0275text"](1,"\n\n\n                "),m["\u0275\u0275template"](2,j,51,27,"div",6),m["\u0275\u0275text"](3,"\n            "),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"](2).ngVar,i=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",i.originalOptions)("pageInfoState",n)("collectionSize",null==n?null:n.totalElements)("retainScrollPosition",!0),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",null==n?null:n.page)}}function w(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275text"](1,"\n            "),m["\u0275\u0275elementStart"](2,"h5",3),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5,"\n            "),m["\u0275\u0275template"](6,C,4,7,"ds-pagination",4),m["\u0275\u0275text"](7,"\n        "),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"]().ngVar;m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](4,2,"item.page.filesection.original.bundle")),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",(null==n||null==n.page?null:n.page.length)>0)}}function B(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275text"](1,"\n        "),m["\u0275\u0275template"](2,w,8,4,"div",2),m["\u0275\u0275text"](3,"\n    "),m["\u0275\u0275elementEnd"]()),2&e){var n=t.ngVar,i=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",i.hasValuesInBundle(n))}}function P(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",7),m["\u0275\u0275text"](1,"\n                    "),m["\u0275\u0275elementStart"](2,"div",8),m["\u0275\u0275text"](3,"\n                        "),m["\u0275\u0275element"](4,"ds-thumbnail",9),m["\u0275\u0275pipe"](5,"async"),m["\u0275\u0275text"](6,"\n                    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](7,"\n                    "),m["\u0275\u0275elementStart"](8,"div",10),m["\u0275\u0275text"](9,"\n                        "),m["\u0275\u0275elementStart"](10,"dl",11),m["\u0275\u0275text"](11,"\n                            "),m["\u0275\u0275elementStart"](12,"dt",12),m["\u0275\u0275text"](13),m["\u0275\u0275pipe"](14,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](15,"\n                            "),m["\u0275\u0275elementStart"](16,"dd",13),m["\u0275\u0275text"](17),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](18,"\n\n                            "),m["\u0275\u0275elementStart"](19,"dt",12),m["\u0275\u0275text"](20),m["\u0275\u0275pipe"](21,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](22,"\n                            "),m["\u0275\u0275elementStart"](23,"dd",13),m["\u0275\u0275text"](24),m["\u0275\u0275pipe"](25,"dsFileSize"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](26,"\n\n                            "),m["\u0275\u0275elementStart"](27,"dt",12),m["\u0275\u0275text"](28),m["\u0275\u0275pipe"](29,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](30,"\n                            "),m["\u0275\u0275elementStart"](31,"dd",13),m["\u0275\u0275text"](32),m["\u0275\u0275pipe"](33,"async"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](34,"\n\n\n                            "),m["\u0275\u0275elementStart"](35,"dt",12),m["\u0275\u0275text"](36),m["\u0275\u0275pipe"](37,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](38,"\n                            "),m["\u0275\u0275elementStart"](39,"dd",13),m["\u0275\u0275text"](40),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](41,"\n                        "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](42,"\n                    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](43,"\n                    "),m["\u0275\u0275elementStart"](44,"div",14),m["\u0275\u0275text"](45,"\n                        "),m["\u0275\u0275elementStart"](46,"ds-file-download-link",15),m["\u0275\u0275text"](47),m["\u0275\u0275pipe"](48,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](49,"\n                    "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](50,"\n                "),m["\u0275\u0275elementEnd"]()),2&e){var n,i,a=t.$implicit;m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("thumbnail",null==(n=m["\u0275\u0275pipeBind1"](5,11,a.thumbnail))?null:n.payload),m["\u0275\u0275advance"](9),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](14,13,"item.page.filesection.name")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](a.name),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](21,15,"item.page.filesection.size")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](25,17,a.sizeBytes)),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](29,19,"item.page.filesection.format")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](null==(i=m["\u0275\u0275pipeBind1"](33,21,a.format))||null==i.payload?null:i.payload.description),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](37,23,"item.page.filesection.description")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](a.firstMetadataValue("dc.description")),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("bitstream",a),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("\n                            ",m["\u0275\u0275pipeBind1"](48,25,"item.page.filesection.download"),"\n                        ")}}function k(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ds-pagination",5),m["\u0275\u0275text"](1,"\n\n\n                "),m["\u0275\u0275template"](2,P,51,27,"div",6),m["\u0275\u0275text"](3,"\n            "),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"](2).ngVar,i=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",i.licenseOptions)("pageInfoState",n)("collectionSize",null==n?null:n.totalElements)("retainScrollPosition",!0),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",null==n?null:n.page)}}function V(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275text"](1,"\n            "),m["\u0275\u0275elementStart"](2,"h5",3),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5,"\n            "),m["\u0275\u0275template"](6,k,4,7,"ds-pagination",4),m["\u0275\u0275text"](7,"\n        "),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"]().ngVar;m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](4,2,"item.page.filesection.license.bundle")),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",(null==n||null==n.page?null:n.page.length)>0)}}function F(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275text"](1,"\n        "),m["\u0275\u0275template"](2,V,8,4,"div",2),m["\u0275\u0275text"](3,"\n    "),m["\u0275\u0275elementEnd"]()),2&e){var n=t.ngVar,i=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",i.hasValuesInBundle(n))}}var M=function(){var t=function(t){a(r,t);var i=l(r);function r(t,n,a,l){var o;return e(this,r),(o=i.call(this,t,n,a)).notificationsService=n,o.translateService=a,o.paginationService=l,o.pageSize=5,o.originalOptions=Object.assign(new d.a,{id:"obo",currentPage:1,pageSize:o.pageSize}),o.licenseOptions=Object.assign(new d.a,{id:"lbo",currentPage:1,pageSize:o.pageSize}),o}return n(r,[{key:"ngOnInit",value:function(){this.initialize()}},{key:"initialize",value:function(){var e=this;this.originals$=this.paginationService.getCurrentPagination(this.originalOptions.id,this.originalOptions).pipe(Object(c.a)((function(t){return e.bitstreamDataService.findAllByItemAndBundleName(e.item,"ORIGINAL",{elementsPerPage:t.pageSize,currentPage:t.currentPage},!0,!0,Object(o.a)("format"))})),Object(s.a)((function(t){Object(u.b)(t.errorMessage)&&e.notificationsService.error(e.translateService.get("file-section.error.header"),"".concat(t.statusCode," ").concat(t.errorMessage))}))),this.licenses$=this.paginationService.getCurrentPagination(this.licenseOptions.id,this.licenseOptions).pipe(Object(c.a)((function(t){return e.bitstreamDataService.findAllByItemAndBundleName(e.item,"LICENSE",{elementsPerPage:t.pageSize,currentPage:t.currentPage},!0,!0,Object(o.a)("format"))})),Object(s.a)((function(t){Object(u.b)(t.errorMessage)&&e.notificationsService.error(e.translateService.get("file-section.error.header"),"".concat(t.statusCode," ").concat(t.errorMessage))})))}},{key:"hasValuesInBundle",value:function(e){return Object(u.b)(e)&&!Object(u.d)(e.page)}},{key:"ngOnDestroy",value:function(){this.paginationService.clearPagination(this.originalOptions.id),this.paginationService.clearPagination(this.licenseOptions.id)}}]),r}(p.a);return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](g.f),m["\u0275\u0275directiveInject"](x.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-item-page-full-file-section"]],inputs:{item:"item"},features:[m["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:9,consts:[[3,"label"],[4,"ngVar"],[4,"ngIf"],[1,"simple-view-element-header"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","pageInfoState","collectionSize","retainScrollPosition",4,"ngIf"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","pageInfoState","collectionSize","retainScrollPosition"],["class","file-section row",4,"ngFor","ngForOf"],[1,"file-section","row"],[1,"col-3"],[3,"thumbnail"],[1,"col-7"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"col-2"],[3,"bitstream"]],template:function(e,t){var n,i;1&e&&(m["\u0275\u0275elementStart"](0,"ds-metadata-field-wrapper",0),m["\u0275\u0275pipe"](1,"translate"),m["\u0275\u0275text"](2,"\n    "),m["\u0275\u0275template"](3,B,4,1,"div",1),m["\u0275\u0275pipe"](4,"async"),m["\u0275\u0275text"](5,"\n    "),m["\u0275\u0275template"](6,F,4,1,"div",1),m["\u0275\u0275pipe"](7,"async"),m["\u0275\u0275text"](8,"\n"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](9,"\n")),2&e&&(m["\u0275\u0275property"]("label",m["\u0275\u0275pipeBind1"](1,3,t.label)),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngVar",null==(n=m["\u0275\u0275pipeBind1"](4,5,t.originals$))?null:n.payload),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngVar",null==(i=m["\u0275\u0275pipeBind1"](7,7,t.licenses$))?null:i.payload))},directives:[h.a,y.a,b.u,I.a,b.t,S.a,E.a],pipes:[g.e,b.b,O.a],styles:["@media screen and (min-width:768px){dt[_ngcontent-%COMP%]{text-align:right}}"]}),t}()},g507:function(t,n,i){"use strict";i.d(n,"a",(function(){return u}));var r=i("SdUf"),o=i("8Y7J"),p=i("SVse"),d=i("LMaQ"),c=i("TSSN");function s(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf;o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("\n    ",o["\u0275\u0275pipeBind1"](2,1,n.toLowerCase()+".page.titleprefix"),"\n  ")}}var u=function(){var t=function(t){a(i,t);var n=l(i);function i(){var t;return e(this,i),(t=n.apply(this,arguments)).fields=["dc.title"],t}return i}(r.a);return t.\u0275fac=function(e){return m(e||t)},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:2,consts:[[1,"item-page-title-field"],[4,"ngIf"],[3,"mdValues"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"h2",0),o["\u0275\u0275text"](1,"\n  "),o["\u0275\u0275template"](2,s,3,3,"div",1),o["\u0275\u0275text"](3,"\n  "),o["\u0275\u0275element"](4,"ds-metadata-values",2),o["\u0275\u0275text"](5,"\n"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](6,"\n")),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.item.firstMetadataValue("dspace.entity.type")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("mdValues",null==t.item?null:t.item.allMetadata(t.fields)))},directives:[p.u,d.a],pipes:[c.e],encapsulation:2}),t}(),m=o["\u0275\u0275getInheritedFactory"](u)}}])}();
//# sourceMappingURL=5-es5.91e5d5e0eeb977a46ed7.js.map