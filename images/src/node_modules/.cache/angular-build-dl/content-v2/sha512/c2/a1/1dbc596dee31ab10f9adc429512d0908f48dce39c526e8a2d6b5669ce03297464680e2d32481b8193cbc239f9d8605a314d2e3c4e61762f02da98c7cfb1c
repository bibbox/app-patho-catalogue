(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/fRo":function(e,t,n){"use strict";n.r(t),n.d(t,"FullItemPageComponent",(function(){return D}));var i=n("lJxs"),a=n("pLZG"),r=n("TBE7"),l=n("mEo1"),o=n("J3qs"),d=n("8Y7J"),s=n("iInd"),p=n("iqTE"),c=n("1qF2"),m=n("Vurf"),u=n("O/5o"),g=n("SVse"),f=n("UX6V"),x=n("6xaB"),v=n("mXNY"),h=n("g507"),b=n("uVW2"),I=n("XTak"),S=n("hIXu"),y=n("Y9an"),E=n("HZwm"),O=n("Frqi"),C=n("TSSN");function j(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275text"](1,"\n              "),d["\u0275\u0275elementStart"](2,"td"),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](4,"\n              "),d["\u0275\u0275elementStart"](5,"td"),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](7,"\n              "),d["\u0275\u0275elementStart"](8,"td"),d["\u0275\u0275text"](9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](10,"\n            "),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](n.key),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](e.value),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](e.language)}}function B(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275text"](1,"\n            "),d["\u0275\u0275template"](2,j,11,3,"tr",15),d["\u0275\u0275text"](3,"\n          "),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",e.value)}}const w=function(e){return[e]};function V(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1,"\n      "),d["\u0275\u0275element"](2,"ds-item-alerts",6),d["\u0275\u0275text"](3,"\n      "),d["\u0275\u0275element"](4,"ds-item-versions-notice",6),d["\u0275\u0275text"](5,"\n      "),d["\u0275\u0275element"](6,"ds-view-tracker",7),d["\u0275\u0275text"](7,"\n      "),d["\u0275\u0275elementStart"](8,"div",8),d["\u0275\u0275text"](9,"\n        "),d["\u0275\u0275element"](10,"ds-item-page-title-field",9),d["\u0275\u0275text"](11,"\n        "),d["\u0275\u0275elementStart"](12,"div",10),d["\u0275\u0275text"](13,"\n          "),d["\u0275\u0275element"](14,"ds-dso-page-edit-button",11),d["\u0275\u0275pipe"](15,"async"),d["\u0275\u0275text"](16,"\n        "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](17,"\n      "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](18,"\n      "),d["\u0275\u0275elementStart"](19,"div",12),d["\u0275\u0275text"](20,"\n        "),d["\u0275\u0275elementStart"](21,"a",13),d["\u0275\u0275pipe"](22,"async"),d["\u0275\u0275text"](23),d["\u0275\u0275pipe"](24,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](25,"\n      "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](26,"\n      "),d["\u0275\u0275elementStart"](27,"table",14),d["\u0275\u0275text"](28,"\n        "),d["\u0275\u0275elementStart"](29,"tbody"),d["\u0275\u0275text"](30,"\n          "),d["\u0275\u0275template"](31,B,4,1,"ng-container",15),d["\u0275\u0275pipe"](32,"keyvalue"),d["\u0275\u0275pipe"](33,"async"),d["\u0275\u0275text"](34,"\n        "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](35,"\n      "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](36,"\n      "),d["\u0275\u0275element"](37,"ds-item-page-full-file-section",6),d["\u0275\u0275text"](38,"\n      "),d["\u0275\u0275element"](39,"ds-item-page-collections",6),d["\u0275\u0275text"](40,"\n      "),d["\u0275\u0275element"](41,"ds-item-versions",16),d["\u0275\u0275text"](42,"\n    "),d["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("item",e),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("item",e),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("object",e),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("item",e),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("pageRoute",d["\u0275\u0275pipeBind1"](15,13,n.itemPageRoute$))("dso",e)("tooltipMsg","item.page.edit"),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction1"](23,w,d["\u0275\u0275pipeBind1"](22,15,n.itemPageRoute$))),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"]("\n          ",d["\u0275\u0275pipeBind1"](24,17,"item.page.link.simple"),"\n        "),d["\u0275\u0275advance"](8),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind1"](32,19,d["\u0275\u0275pipeBind1"](33,21,n.metadata$))),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("item",e),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("item",e),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("item",e)}}function P(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",4),d["\u0275\u0275text"](1,"\n    "),d["\u0275\u0275template"](2,V,43,25,"div",5),d["\u0275\u0275text"](3,"\n  "),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().ngVar;d["\u0275\u0275property"]("@fadeInOut",void 0),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}function F(e,t){1&e&&(d["\u0275\u0275element"](0,"ds-error",17),d["\u0275\u0275pipe"](1,"translate")),2&e&&d["\u0275\u0275propertyInterpolate"]("message",d["\u0275\u0275pipeBind1"](1,1,"error.item"))}function M(e,t){1&e&&(d["\u0275\u0275element"](0,"ds-loading",17),d["\u0275\u0275pipe"](1,"translate")),2&e&&d["\u0275\u0275propertyInterpolate"]("message",d["\u0275\u0275pipeBind1"](1,1,"loading.item"))}function k(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",1),d["\u0275\u0275text"](1,"\n  "),d["\u0275\u0275template"](2,P,4,2,"div",2),d["\u0275\u0275text"](3,"\n  "),d["\u0275\u0275template"](4,F,2,3,"ds-error",3),d["\u0275\u0275text"](5,"\n  "),d["\u0275\u0275template"](6,M,2,3,"ds-loading",3),d["\u0275\u0275text"](7,"\n"),d["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar;d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.hasSucceeded),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.hasFailed),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.isLoading)}}let D=(()=>{class e extends r.ItemPageComponent{constructor(e,t,n,i,a){super(e,t,n,i,a)}ngOnInit(){super.ngOnInit(),this.metadata$=this.itemRD$.pipe(Object(i.a)(e=>e.payload),Object(a.a)(e=>Object(o.b)(e)),Object(i.a)(e=>e.metadata))}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](s.a),d["\u0275\u0275directiveInject"](s.g),d["\u0275\u0275directiveInject"](p.a),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-full-item-page"]],features:[d["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","item-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"item-page"],[4,"ngIf"],[3,"item"],[3,"object"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2"],[3,"pageRoute","dso","tooltipMsg"],[1,"simple-view-link","my-3"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"table","table-responsive","table-striped"],[4,"ngFor","ngForOf"],[1,"mt-2",3,"item"],[3,"message"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,k,8,3,"div",0),d["\u0275\u0275pipe"](1,"async"),d["\u0275\u0275text"](2,"\n")),2&e&&d["\u0275\u0275property"]("ngVar",d["\u0275\u0275pipeBind1"](1,1,t.itemRD$))},directives:[u.a,g.u,f.a,x.a,v.a,h.a,b.a,s.j,g.t,I.a,S.a,y.a,E.a,O.a],pipes:[g.b,C.e,g.m],styles:["[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:25%}"],data:{animation:[l.c]},changeDetection:0}),e})()},"2mKD":function(e,t,n){var i={"./custom/app/+item-page/simple/item-page.component":["iNcH",47]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id="2mKD",e.exports=a},ALbi:function(e,t,n){var i={"./custom/app/+item-page/full/full-item-page.component":["CfG0",46]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id="ALbi",e.exports=a},EfKB:function(e,t,n){"use strict";n.r(t),n.d(t,"ItemPageModule",(function(){return De}));var i=n("SVse"),a=n("PCNd"),r=(n("TBE7"),n("iInd")),l=n("Y2Xq"),o=n("tPZA"),d=n("hucJ"),s=n("u0Hx"),p=n("8Y7J"),c=n("GCaJ"),m=n("iqTE");let u=(()=>{class e extends d.a{constructor(e,t){super(e,t),this.breadcrumbService=e,this.dataService=t}get followLinks(){return s.a}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275inject"](c.a),p["\u0275\u0275inject"](m.a))},e.\u0275prov=p["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=n("sfEo"),f=n("lJxs"),x=n("eIep"),v=n("IzEk"),h=n("ao5O"),b=n("J3qs"),I=n("1QIV"),S=n("4zj/"),y=n("TVZh"),E=n("MEmd"),O=n("yhw/"),C=n("Vurf"),j=n("lI3o"),B=n("TSSN"),w=n("X/78"),V=n("O/5o"),P=n("Kr+g"),F=n("s7LF");function M(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1,"\n            "),p["\u0275\u0275elementStart"](2,"span",7),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](5,"\n            "),p["\u0275\u0275elementStart"](6,"span"),p["\u0275\u0275text"](7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](8,"\n          "),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]().ngVar;p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](4,2,"item.bitstreams.upload.item")),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](e.name)}}function k(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n          "),p["\u0275\u0275template"](2,M,9,4,"div",2),p["\u0275\u0275text"](3,"\n        "),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",e)}}function D(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"button",13),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](3).createBundle()})),p["\u0275\u0275text"](1,"\n          "),p["\u0275\u0275element"](2,"i",14),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementEnd"]()}2&e&&(p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](4,1,"item.bitstreams.upload.bundle.new"),"\n        "))}function N(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"ds-uploader",15),p["\u0275\u0275listener"]("onCompleteItem",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](3).onCompleteItem(t)}))("onUploadError",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](3).onUploadError()})),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"](3);p["\u0275\u0275property"]("dropMsg","item.bitstreams.upload.drop-message")("dropOverDocumentMsg","item.bitstreams.upload.drop-message")("enableDragOverDocument",!0)("uploadFilesOptions",e.uploadFilesOptions)}}function T(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275elementStart"](2,"div",3),p["\u0275\u0275text"](3,"\n      "),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275text"](5,"\n        "),p["\u0275\u0275elementStart"](6,"h2"),p["\u0275\u0275text"](7),p["\u0275\u0275pipe"](8,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](9,"\n        "),p["\u0275\u0275template"](10,k,4,1,"ng-container",5),p["\u0275\u0275pipe"](11,"async"),p["\u0275\u0275text"](12,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](13,"\n      "),p["\u0275\u0275elementStart"](14,"div",6),p["\u0275\u0275text"](15,"\n        "),p["\u0275\u0275elementStart"](16,"label",7),p["\u0275\u0275text"](17),p["\u0275\u0275pipe"](18,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](19,"\n        "),p["\u0275\u0275elementStart"](20,"ds-dso-input-suggestions",8,9),p["\u0275\u0275listener"]("ngModelChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](2).selectedBundleName=t}))("typeSuggestion",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](2).bundleNameChange()}))("clickSuggestion",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](2).onClick(t)}))("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275reference"](21).open()})),p["\u0275\u0275pipe"](22,"translate"),p["\u0275\u0275text"](23,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](24,"\n        "),p["\u0275\u0275template"](25,D,5,3,"button",10),p["\u0275\u0275text"](26,"\n        "),p["\u0275\u0275template"](27,N,1,4,"ds-uploader",11),p["\u0275\u0275text"](28,"\n        "),p["\u0275\u0275elementStart"](29,"button",12),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](2).onCancel()})),p["\u0275\u0275text"](30),p["\u0275\u0275pipe"](31,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](32,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](33,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](34,"\n  "),p["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]().ngVar,t=p["\u0275\u0275nextContext"]();var n;p["\u0275\u0275advance"](7),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](8,12,"item.bitstreams.upload.title")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngVar",null==(n=p["\u0275\u0275pipeBind1"](11,14,t.itemRD$))?null:n.payload),p["\u0275\u0275advance"](7),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](18,16,"item.bitstreams.upload.bundle")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("suggestions",e)("placeholder",p["\u0275\u0275pipeBind1"](22,18,"item.bitstreams.upload.bundle.placeholder"))("action",t.getCurrentUrl())("name","bundle-select")("debounceTime",50)("ngModel",t.selectedBundleName),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("ngIf",!t.selectedBundleId&&(null==t.selectedBundleName?null:t.selectedBundleName.length)>0),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.selectedBundleId),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](31,20,"item.bitstreams.upload.cancel"))}}function R(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",1),p["\u0275\u0275text"](1,"\n  "),p["\u0275\u0275template"](2,T,35,22,"ng-container",2),p["\u0275\u0275text"](3,"\n"),p["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",e)}}let $=(()=>{class e{constructor(e,t,n,i,a,r,l,o){this.route=e,this.router=t,this.itemService=n,this.bundleService=i,this.authService=a,this.notificationsService=r,this.translate=l,this.requestService=o,this.uploadFilesOptions=Object.assign(new h.a,{url:"placeholder",authToken:null,disableMultipart:!1,itemAlias:null}),this.NOTIFICATIONS_PREFIX="item.bitstreams.upload.notifications.",this.subs=[]}ngOnInit(){this.itemId=this.route.snapshot.params.id,this.entityType=this.route.snapshot.params["entity-type"],this.itemRD$=this.route.data.pipe(Object(f.a)(e=>e.dso)),this.bundlesRD$=this.itemRD$.pipe(Object(x.a)(e=>e.payload.bundles)),this.selectedBundleId=this.route.snapshot.queryParams.bundle,Object(b.e)(this.selectedBundleId)&&(this.bundleService.findById(this.selectedBundleId).pipe(Object(I.j)()).subscribe(e=>{this.selectedBundleName=e.name}),this.setUploadUrl())}createBundle(){this.itemService.createBundle(this.itemId,this.selectedBundleName).pipe(Object(I.j)()).subscribe(e=>{this.selectedBundleId=e.id,this.notificationsService.success(this.translate.instant(this.NOTIFICATIONS_PREFIX+"bundle.created.title"),this.translate.instant(this.NOTIFICATIONS_PREFIX+"bundle.created.content")),this.setUploadUrl()})}bundleNameChange(){this.selectedBundleId=void 0}setUploadUrl(){this.bundleService.getBitstreamsEndpoint(this.selectedBundleId).pipe(Object(v.a)(1)).subscribe(e=>{this.uploadFilesOptions.url=e,Object(b.d)(this.uploadFilesOptions.authToken)&&(this.uploadFilesOptions.authToken=this.authService.buildAuthHeader()),this.uploaderComponent&&(this.uploaderComponent.ngOnInit(),this.uploaderComponent.ngAfterViewInit())})}onCompleteItem(e){this.bundleService.getBitstreamsEndpoint(this.selectedBundleId).pipe(Object(v.a)(1)).subscribe(e=>{this.requestService.removeByHrefSubstring(e)});const t={itemId:this.itemId,entityType:this.entityType};this.router.navigate([Object(y.m)(),e.id,"edit"],{queryParams:t})}onUploadError(){this.notificationsService.error(null,this.translate.get(this.NOTIFICATIONS_PREFIX+"upload.failed"))}onClick(e){this.selectedBundleId=e.id,this.selectedBundleName=e.name,this.setUploadUrl()}onCancel(){this.router.navigate([Object(E.d)(this.entityType,this.itemId),"bitstreams"])}getCurrentUrl(){return this.router.url}ngOnDestroy(){this.subs.filter(e=>Object(b.b)(e)).forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](r.a),p["\u0275\u0275directiveInject"](r.g),p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](O.a),p["\u0275\u0275directiveInject"](C.a),p["\u0275\u0275directiveInject"](j.a),p["\u0275\u0275directiveInject"](B.f),p["\u0275\u0275directiveInject"](w.a))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-upload-bitstream"]],viewQuery:function(e,t){var n;1&e&&p["\u0275\u0275viewQuery"](S.a,!0),2&e&&p["\u0275\u0275queryRefresh"](n=p["\u0275\u0275loadQuery"]())&&(t.uploaderComponent=n.first)},decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[4,"ngIf"],[1,"row"],[1,"col-12","mb-4"],[4,"ngVar"],[1,"col-12"],[1,"font-weight-bold"],["id","search-form","ngDefaultControl","",3,"suggestions","placeholder","action","name","debounceTime","ngModel","ngModelChange","typeSuggestion","clickSuggestion","click"],["f",""],["class","btn btn-success",3,"click",4,"ngIf"],["class","w-100",3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-plus"],[1,"w-100",3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError"]],template:function(e,t){var n;1&e&&(p["\u0275\u0275template"](0,R,4,1,"div",0),p["\u0275\u0275pipe"](1,"async"),p["\u0275\u0275text"](2,"\n")),2&e&&p["\u0275\u0275property"]("ngVar",null==(n=p["\u0275\u0275pipeBind1"](1,1,t.bundlesRD$))||null==n.payload?null:n.payload.page)},directives:[V.a,i.u,P.a,F.DefaultValueAccessor,F.NgControlStatus,F.NgModel,S.a],pipes:[i.b,B.e],encapsulation:2}),e})();var U=n("TtSl"),z=n("ierV"),A=n("JTKQ");function X(e,t){}let L=(()=>{class e extends A.a{getComponentName(){return"ItemPageComponent"}importThemedComponent(e){return n("2mKD")(`./${e}/app/+item-page/simple/item-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(null,"TBE7"))}}return e.\u0275fac=function(t){return q(t||e)},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-themed-item-page"]],features:[p["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(e,t){1&e&&(p["\u0275\u0275template"](0,X,0,0,"ng-template",null,0,p["\u0275\u0275templateRefExtractor"]),p["\u0275\u0275text"](2,"\n"))},encapsulation:2}),e})();const q=p["\u0275\u0275getInheritedFactory"](L);function J(e,t){}let _=(()=>{class e extends A.a{getComponentName(){return"FullItemPageComponent"}importThemedComponent(e){return n("ALbi")(`./${e}/app/+item-page/full/full-item-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(null,"/fRo"))}}return e.\u0275fac=function(t){return G(t||e)},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-themed-full-item-page"]],features:[p["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(e,t){1&e&&(p["\u0275\u0275template"](0,J,0,0,"ng-template",null,0,p["\u0275\u0275templateRefExtractor"]),p["\u0275\u0275text"](2,"\n"))},encapsulation:2}),e})();const G=p["\u0275\u0275getInheritedFactory"](_);let Y=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[l.a,u,c.a,g.a,U.a],imports:[[r.k.forChild([{path:":id",resolve:{dso:l.a,breadcrumb:u},runGuardsAndResolvers:"always",children:[{path:"",component:L,pathMatch:"full"},{path:"full",component:_},{path:E.a,loadChildren:()=>Promise.resolve().then(n.bind(null,"bG9Y")).then(e=>e.EditItemPageModule)},{path:E.c,component:$,canActivate:[o.a]}],data:{menu:{public:[{id:"statistics_item_:id",active:!0,visible:!0,model:{type:z.b.LINK,text:"menu.section.statistics",link:"statistics/items/:id/"}}]}}}])]]}),e})();n("X6I1");var Q=n("HXXN"),K=n("OBAk"),W=n("m5G/"),Z=n("l/EF"),H=(n("g507"),n("SdUf"),n("w48O")),ee=n("hIXu"),te=(n("/fRo"),n("XTak"),n("zQq+")),ne=n("Vx9r"),ie=n("bG9Y"),ae=n("9i+i"),re=(n("nA3y"),n("mrSG")),le=n("PN+Z"),oe=n("3jCq"),de=n("4v6T"),se=n("LMaQ"),pe=n("uVW2"),ce=n("mK1h"),me=n("Zmll"),ue=n("vv5f"),ge=n("/lGE"),fe=n("iWUm");function xe(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n      "),p["\u0275\u0275elementStart"](2,"ds-metadata-field-wrapper"),p["\u0275\u0275text"](3,"\n        "),p["\u0275\u0275element"](4,"ds-thumbnail",15),p["\u0275\u0275pipe"](5,"async"),p["\u0275\u0275text"](6,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](7,"\n    "),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("thumbnail",p["\u0275\u0275pipeBind1"](5,1,e.getThumbnail()))}}function ve(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n      "),p["\u0275\u0275element"](2,"ds-media-viewer",16),p["\u0275\u0275text"](3,"\n    "),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("item",e.object)("videoOptions",e.mediaViewer.video)}}const he=function(){return["dc.title"]},be=function(){return["journal.title"]},Ie=function(){return["journal.identifier.issn"]},Se=function(){return["journalvolume.identifier.name"]},ye=function(){return["dc.publisher"]},Ee=function(){return["dc.description"]},Oe=function(){return["dc.subject"]},Ce=function(){return["dc.identifier.citation"]},je=function(){return["dc.identifier.uri"]},Be=function(e){return[e]};let we=(()=>{let e=class extends ne.a{};return e.\u0275fac=function(t){return Ve(t||e)},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-untyped-item"]],features:[p["\u0275\u0275InheritDefinitionFeature"]],decls:73,vars:57,consts:[[1,"d-flex","flex-row"],[1,"item-page-title-field","mr-auto"],[3,"mdValues"],[1,"pl-2"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],[3,"item"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","itemType","metadataField","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"thumbnail"],[3,"item","videoOptions"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275text"](1,"\n  "),p["\u0275\u0275elementStart"](2,"h2",1),p["\u0275\u0275text"](3,"\n    "),p["\u0275\u0275element"](4,"ds-metadata-values",2),p["\u0275\u0275text"](5,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](6,"\n  "),p["\u0275\u0275elementStart"](7,"div",3),p["\u0275\u0275text"](8,"\n    "),p["\u0275\u0275element"](9,"ds-dso-page-edit-button",4),p["\u0275\u0275text"](10,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](11,"\n"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](12,"\n"),p["\u0275\u0275elementStart"](13,"div",5),p["\u0275\u0275text"](14,"\n  "),p["\u0275\u0275elementStart"](15,"div",6),p["\u0275\u0275text"](16,"\n    "),p["\u0275\u0275template"](17,xe,8,3,"ng-container",7),p["\u0275\u0275text"](18,"\n    "),p["\u0275\u0275template"](19,ve,4,2,"ng-container",7),p["\u0275\u0275text"](20,"\n    "),p["\u0275\u0275element"](21,"ds-item-page-file-section",8),p["\u0275\u0275text"](22,"\n    "),p["\u0275\u0275element"](23,"ds-item-page-date-field",8),p["\u0275\u0275text"](24,"\n    "),p["\u0275\u0275element"](25,"ds-item-page-author-field",8),p["\u0275\u0275text"](26,"\n    "),p["\u0275\u0275elementStart"](27,"ds-generic-item-page-field",9),p["\u0275\u0275text"](28,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](29,"\n    "),p["\u0275\u0275elementStart"](30,"ds-generic-item-page-field",9),p["\u0275\u0275text"](31,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](32,"\n    "),p["\u0275\u0275elementStart"](33,"ds-generic-item-page-field",9),p["\u0275\u0275text"](34,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](35,"\n    "),p["\u0275\u0275elementStart"](36,"ds-generic-item-page-field",9),p["\u0275\u0275text"](37,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](38,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](39,"\n  "),p["\u0275\u0275elementStart"](40,"div",10),p["\u0275\u0275text"](41,"\n    "),p["\u0275\u0275elementStart"](42,"ds-metadata-representation-list",11),p["\u0275\u0275pipe"](43,"translate"),p["\u0275\u0275text"](44,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](45,"\n    "),p["\u0275\u0275element"](46,"ds-item-page-abstract-field",8),p["\u0275\u0275text"](47,"\n    "),p["\u0275\u0275elementStart"](48,"ds-generic-item-page-field",9),p["\u0275\u0275text"](49,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](50,"\n\n    "),p["\u0275\u0275elementStart"](51,"ds-generic-item-page-field",12),p["\u0275\u0275text"](52,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](53,"\n    "),p["\u0275\u0275elementStart"](54,"ds-generic-item-page-field",9),p["\u0275\u0275text"](55,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](56,"\n    "),p["\u0275\u0275elementStart"](57,"ds-item-page-uri-field",9),p["\u0275\u0275text"](58,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](59,"\n    "),p["\u0275\u0275element"](60,"ds-item-page-collections",8),p["\u0275\u0275text"](61,"\n    "),p["\u0275\u0275elementStart"](62,"div"),p["\u0275\u0275text"](63,"\n      "),p["\u0275\u0275elementStart"](64,"a",13),p["\u0275\u0275text"](65,"\n        "),p["\u0275\u0275element"](66,"i",14),p["\u0275\u0275text"](67),p["\u0275\u0275pipe"](68,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](69,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](70,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](71,"\n"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](72,"\n")),2&e&&(p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("mdValues",null==t.object?null:t.object.allMetadata(p["\u0275\u0275pureFunction0"](46,he))),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("pageRoute",t.itemPageRoute)("dso",t.object)("tooltipMsg","item.page.edit"),p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("ngIf",!t.mediaViewer.image),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",t.mediaViewer.image),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("item",t.object),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("item",t.object),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("item",t.object),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("item",t.object)("fields",p["\u0275\u0275pureFunction0"](47,be))("label","item.page.journal-title"),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("item",t.object)("fields",p["\u0275\u0275pureFunction0"](48,Ie))("label","item.page.journal-issn"),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("item",t.object)("fields",p["\u0275\u0275pureFunction0"](49,Se))("label","item.page.volume-title"),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("item",t.object)("fields",p["\u0275\u0275pureFunction0"](50,ye))("label","item.page.publisher"),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("parentItem",t.object)("itemType","Person")("metadataField","dc.contributor.author")("label",p["\u0275\u0275pipeBind1"](43,42,"relationships.isAuthorOf")),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("item",t.object),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("item",t.object)("fields",p["\u0275\u0275pureFunction0"](51,Ee))("label","item.page.description"),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("item",t.object)("fields",p["\u0275\u0275pureFunction0"](52,Oe))("separator",",")("label","item.page.subject"),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("item",t.object)("fields",p["\u0275\u0275pureFunction0"](53,Ce))("label","item.page.citation"),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("item",t.object)("fields",p["\u0275\u0275pureFunction0"](54,je))("label","item.page.uri"),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("item",t.object),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("routerLink",p["\u0275\u0275pureFunction1"](55,Be,t.itemPageRoute+"/full")),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](68,44,"item.page.link.full"),"\n      "))},directives:[se.a,pe.a,i.u,H.a,K.a,Q.a,ce.a,me.a,W.a,Z.a,ee.a,r.j,ue.a,ge.a,fe.a],pipes:[B.e,i.b],styles:[""],changeDetection:0}),e=Object(re.b)([Object(de.b)(le.a,oe.a.StandalonePage)],e),e})();const Ve=p["\u0275\u0275getInheritedFactory"](we);var Pe=n("N0eT"),Fe=n("udvk"),Me=(n("X0sQ"),n("gYde"),n("sJwy"));const ke=[te.a,we];let De=(()=>{class e{static withEntryComponents(){return{ngModule:e,providers:ke.map(e=>({provide:e}))}}}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,a.a.withEntryComponents(),Y,ie.EditItemPageModule,ae.a.forRoot(),Pe.a.withEntryComponents(),Fe.a.withEntryComponents(),Me.c]]}),e})()},TBE7:function(e,t,n){"use strict";n.r(t),n.d(t,"ItemPageComponent",(function(){return w}));var i=n("lJxs"),a=n("mEo1"),r=n("1QIV"),l=n("3jCq"),o=n("MEmd"),d=n("8Y7J"),s=n("iInd"),p=n("iqTE"),c=n("1qF2"),m=n("Vurf"),u=n("O/5o"),g=n("SVse"),f=n("UX6V"),x=n("6xaB"),v=n("mXNY"),h=n("1aCu"),b=n("Y9an"),I=n("HZwm"),S=n("Frqi"),y=n("TSSN");function E(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1,"\n      "),d["\u0275\u0275element"](2,"ds-item-alerts",6),d["\u0275\u0275text"](3,"\n      "),d["\u0275\u0275element"](4,"ds-item-versions-notice",6),d["\u0275\u0275text"](5,"\n      "),d["\u0275\u0275element"](6,"ds-view-tracker",7),d["\u0275\u0275text"](7,"\n      "),d["\u0275\u0275element"](8,"ds-listable-object-component-loader",8),d["\u0275\u0275text"](9,"\n      "),d["\u0275\u0275element"](10,"ds-item-versions",9),d["\u0275\u0275text"](11,"\n    "),d["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("item",e),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("item",e),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("object",e),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("object",e)("viewMode",n.viewMode),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("item",e)}}function O(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",4),d["\u0275\u0275text"](1,"\n    "),d["\u0275\u0275template"](2,E,12,6,"div",5),d["\u0275\u0275text"](3,"\n  "),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().ngVar;d["\u0275\u0275property"]("@fadeInOut",void 0),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}function C(e,t){1&e&&(d["\u0275\u0275element"](0,"ds-error",10),d["\u0275\u0275pipe"](1,"translate")),2&e&&d["\u0275\u0275propertyInterpolate"]("message",d["\u0275\u0275pipeBind1"](1,1,"error.item"))}function j(e,t){1&e&&(d["\u0275\u0275element"](0,"ds-loading",10),d["\u0275\u0275pipe"](1,"translate")),2&e&&d["\u0275\u0275propertyInterpolate"]("message",d["\u0275\u0275pipeBind1"](1,1,"loading.item"))}function B(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",1),d["\u0275\u0275text"](1,"\n  "),d["\u0275\u0275template"](2,O,4,2,"div",2),d["\u0275\u0275text"](3,"\n  "),d["\u0275\u0275template"](4,C,2,3,"ds-error",3),d["\u0275\u0275text"](5,"\n  "),d["\u0275\u0275template"](6,j,2,3,"ds-loading",3),d["\u0275\u0275text"](7,"\n"),d["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar;d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.hasSucceeded),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.hasFailed),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.isLoading)}}let w=(()=>{class e{constructor(e,t,n,i,a){this.route=e,this.router=t,this.items=n,this.metadataService=i,this.authService=a,this.viewMode=l.a.StandalonePage}ngOnInit(){this.itemRD$=this.route.data.pipe(Object(i.a)(e=>e.dso),Object(r.t)(this.router,this.authService)),this.metadataService.processRemoteData(this.itemRD$),this.itemPageRoute$=this.itemRD$.pipe(Object(r.d)(),Object(i.a)(e=>Object(o.f)(e)))}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](s.a),d["\u0275\u0275directiveInject"](s.g),d["\u0275\u0275directiveInject"](p.a),d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-item-page"]],decls:3,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","item-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"item-page"],[4,"ngIf"],[3,"item"],[3,"object"],[3,"object","viewMode"],[1,"mt-2",3,"item"],[3,"message"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,B,8,3,"div",0),d["\u0275\u0275pipe"](1,"async"),d["\u0275\u0275text"](2,"\n")),2&e&&d["\u0275\u0275property"]("ngVar",d["\u0275\u0275pipeBind1"](1,1,t.itemRD$))},directives:[u.a,g.u,f.a,x.a,v.a,h.a,b.a,I.a,S.a],pipes:[g.b,y.e],styles:["@media (max-width:991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}"],data:{animation:[a.c]},changeDetection:0}),e})()},XTak:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var i=n("84Zn"),a=n("w48O"),r=n("7DXY"),l=n("eIep"),o=n("vkgz"),d=n("J3qs"),s=n("8Y7J"),p=n("PCBh"),c=n("lI3o"),m=n("TSSN"),u=n("MFUF"),g=n("vv5f"),f=n("O/5o"),x=n("SVse"),v=n("Exvd"),h=n("/lGE"),b=n("OXP5"),I=n("t8/W");function S(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",7),s["\u0275\u0275text"](1,"\n                    "),s["\u0275\u0275elementStart"](2,"div",8),s["\u0275\u0275text"](3,"\n                        "),s["\u0275\u0275element"](4,"ds-thumbnail",9),s["\u0275\u0275pipe"](5,"async"),s["\u0275\u0275text"](6,"\n                    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n                    "),s["\u0275\u0275elementStart"](8,"div",10),s["\u0275\u0275text"](9,"\n                        "),s["\u0275\u0275elementStart"](10,"dl",11),s["\u0275\u0275text"](11,"\n                            "),s["\u0275\u0275elementStart"](12,"dt",12),s["\u0275\u0275text"](13),s["\u0275\u0275pipe"](14,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"\n                            "),s["\u0275\u0275elementStart"](16,"dd",13),s["\u0275\u0275text"](17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](18,"\n\n                            "),s["\u0275\u0275elementStart"](19,"dt",12),s["\u0275\u0275text"](20),s["\u0275\u0275pipe"](21,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](22,"\n                            "),s["\u0275\u0275elementStart"](23,"dd",13),s["\u0275\u0275text"](24),s["\u0275\u0275pipe"](25,"dsFileSize"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](26,"\n\n\n                            "),s["\u0275\u0275elementStart"](27,"dt",12),s["\u0275\u0275text"](28),s["\u0275\u0275pipe"](29,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](30,"\n                            "),s["\u0275\u0275elementStart"](31,"dd",13),s["\u0275\u0275text"](32),s["\u0275\u0275pipe"](33,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](34,"\n\n\n                            "),s["\u0275\u0275elementStart"](35,"dt",12),s["\u0275\u0275text"](36),s["\u0275\u0275pipe"](37,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](38,"\n                            "),s["\u0275\u0275elementStart"](39,"dd",13),s["\u0275\u0275text"](40),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](41,"\n                        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](42,"\n                    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](43,"\n                    "),s["\u0275\u0275elementStart"](44,"div",14),s["\u0275\u0275text"](45,"\n                        "),s["\u0275\u0275elementStart"](46,"ds-file-download-link",15),s["\u0275\u0275text"](47),s["\u0275\u0275pipe"](48,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](49,"\n                    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](50,"\n                "),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;var n,i;s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("thumbnail",null==(n=s["\u0275\u0275pipeBind1"](5,11,e.thumbnail))?null:n.payload),s["\u0275\u0275advance"](9),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](14,13,"item.page.filesection.name")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](e.name),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](21,15,"item.page.filesection.size")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](25,17,e.sizeBytes)),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](29,19,"item.page.filesection.format")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==(i=s["\u0275\u0275pipeBind1"](33,21,e.format))||null==i.payload?null:i.payload.description),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](37,23,"item.page.filesection.description")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](e.firstMetadataValue("dc.description")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("bitstream",e),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n                            ",s["\u0275\u0275pipeBind1"](48,25,"item.page.filesection.download"),"\n                        ")}}function y(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-pagination",5),s["\u0275\u0275text"](1,"\n\n\n                "),s["\u0275\u0275template"](2,S,51,27,"div",6),s["\u0275\u0275text"](3,"\n            "),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2).ngVar,t=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",t.originalOptions)("pageInfoState",e)("collectionSize",null==e?null:e.totalElements)("retainScrollPosition",!0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",null==e?null:e.page)}}function E(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1,"\n            "),s["\u0275\u0275elementStart"](2,"h5",3),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n            "),s["\u0275\u0275template"](6,y,4,7,"ds-pagination",4),s["\u0275\u0275text"](7,"\n        "),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().ngVar;s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](4,2,"item.page.filesection.original.bundle")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",(null==e||null==e.page?null:e.page.length)>0)}}function O(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275template"](2,E,8,4,"div",2),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.hasValuesInBundle(e))}}function C(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",7),s["\u0275\u0275text"](1,"\n                    "),s["\u0275\u0275elementStart"](2,"div",8),s["\u0275\u0275text"](3,"\n                        "),s["\u0275\u0275element"](4,"ds-thumbnail",9),s["\u0275\u0275pipe"](5,"async"),s["\u0275\u0275text"](6,"\n                    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n                    "),s["\u0275\u0275elementStart"](8,"div",10),s["\u0275\u0275text"](9,"\n                        "),s["\u0275\u0275elementStart"](10,"dl",11),s["\u0275\u0275text"](11,"\n                            "),s["\u0275\u0275elementStart"](12,"dt",12),s["\u0275\u0275text"](13),s["\u0275\u0275pipe"](14,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"\n                            "),s["\u0275\u0275elementStart"](16,"dd",13),s["\u0275\u0275text"](17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](18,"\n\n                            "),s["\u0275\u0275elementStart"](19,"dt",12),s["\u0275\u0275text"](20),s["\u0275\u0275pipe"](21,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](22,"\n                            "),s["\u0275\u0275elementStart"](23,"dd",13),s["\u0275\u0275text"](24),s["\u0275\u0275pipe"](25,"dsFileSize"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](26,"\n\n                            "),s["\u0275\u0275elementStart"](27,"dt",12),s["\u0275\u0275text"](28),s["\u0275\u0275pipe"](29,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](30,"\n                            "),s["\u0275\u0275elementStart"](31,"dd",13),s["\u0275\u0275text"](32),s["\u0275\u0275pipe"](33,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](34,"\n\n\n                            "),s["\u0275\u0275elementStart"](35,"dt",12),s["\u0275\u0275text"](36),s["\u0275\u0275pipe"](37,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](38,"\n                            "),s["\u0275\u0275elementStart"](39,"dd",13),s["\u0275\u0275text"](40),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](41,"\n                        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](42,"\n                    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](43,"\n                    "),s["\u0275\u0275elementStart"](44,"div",14),s["\u0275\u0275text"](45,"\n                        "),s["\u0275\u0275elementStart"](46,"ds-file-download-link",15),s["\u0275\u0275text"](47),s["\u0275\u0275pipe"](48,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](49,"\n                    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](50,"\n                "),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;var n,i;s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("thumbnail",null==(n=s["\u0275\u0275pipeBind1"](5,11,e.thumbnail))?null:n.payload),s["\u0275\u0275advance"](9),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](14,13,"item.page.filesection.name")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](e.name),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](21,15,"item.page.filesection.size")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](25,17,e.sizeBytes)),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](29,19,"item.page.filesection.format")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==(i=s["\u0275\u0275pipeBind1"](33,21,e.format))||null==i.payload?null:i.payload.description),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](37,23,"item.page.filesection.description")),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](e.firstMetadataValue("dc.description")),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("bitstream",e),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("\n                            ",s["\u0275\u0275pipeBind1"](48,25,"item.page.filesection.download"),"\n                        ")}}function j(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ds-pagination",5),s["\u0275\u0275text"](1,"\n\n\n                "),s["\u0275\u0275template"](2,C,51,27,"div",6),s["\u0275\u0275text"](3,"\n            "),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2).ngVar,t=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",t.licenseOptions)("pageInfoState",e)("collectionSize",null==e?null:e.totalElements)("retainScrollPosition",!0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",null==e?null:e.page)}}function B(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1,"\n            "),s["\u0275\u0275elementStart"](2,"h5",3),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n            "),s["\u0275\u0275template"](6,j,4,7,"ds-pagination",4),s["\u0275\u0275text"](7,"\n        "),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().ngVar;s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](4,2,"item.page.filesection.license.bundle")),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",(null==e||null==e.page?null:e.page.length)>0)}}function w(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275template"](2,B,8,4,"div",2),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){const e=t.ngVar,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.hasValuesInBundle(e))}}let V=(()=>{class e extends a.a{constructor(e,t,n,i){super(e,t,n),this.notificationsService=t,this.translateService=n,this.paginationService=i,this.pageSize=5,this.originalOptions=Object.assign(new r.a,{id:"obo",currentPage:1,pageSize:this.pageSize}),this.licenseOptions=Object.assign(new r.a,{id:"lbo",currentPage:1,pageSize:this.pageSize})}ngOnInit(){this.initialize()}initialize(){this.originals$=this.paginationService.getCurrentPagination(this.originalOptions.id,this.originalOptions).pipe(Object(l.a)(e=>this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:e.pageSize,currentPage:e.currentPage},!0,!0,Object(i.a)("format"))),Object(o.a)(e=>{Object(d.b)(e.errorMessage)&&this.notificationsService.error(this.translateService.get("file-section.error.header"),`${e.statusCode} ${e.errorMessage}`)})),this.licenses$=this.paginationService.getCurrentPagination(this.licenseOptions.id,this.licenseOptions).pipe(Object(l.a)(e=>this.bitstreamDataService.findAllByItemAndBundleName(this.item,"LICENSE",{elementsPerPage:e.pageSize,currentPage:e.currentPage},!0,!0,Object(i.a)("format"))),Object(o.a)(e=>{Object(d.b)(e.errorMessage)&&this.notificationsService.error(this.translateService.get("file-section.error.header"),`${e.statusCode} ${e.errorMessage}`)}))}hasValuesInBundle(e){return Object(d.b)(e)&&!Object(d.d)(e.page)}ngOnDestroy(){this.paginationService.clearPagination(this.originalOptions.id),this.paginationService.clearPagination(this.licenseOptions.id)}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](p.a),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](m.f),s["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-item-page-full-file-section"]],inputs:{item:"item"},features:[s["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:9,consts:[[3,"label"],[4,"ngVar"],[4,"ngIf"],[1,"simple-view-element-header"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","pageInfoState","collectionSize","retainScrollPosition",4,"ngIf"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","pageInfoState","collectionSize","retainScrollPosition"],["class","file-section row",4,"ngFor","ngForOf"],[1,"file-section","row"],[1,"col-3"],[3,"thumbnail"],[1,"col-7"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"col-2"],[3,"bitstream"]],template:function(e,t){var n,i;1&e&&(s["\u0275\u0275elementStart"](0,"ds-metadata-field-wrapper",0),s["\u0275\u0275pipe"](1,"translate"),s["\u0275\u0275text"](2,"\n    "),s["\u0275\u0275template"](3,O,4,1,"div",1),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275text"](5,"\n    "),s["\u0275\u0275template"](6,w,4,1,"div",1),s["\u0275\u0275pipe"](7,"async"),s["\u0275\u0275text"](8,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"\n")),2&e&&(s["\u0275\u0275property"]("label",s["\u0275\u0275pipeBind1"](1,3,t.label)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngVar",null==(n=s["\u0275\u0275pipeBind1"](4,5,t.originals$))?null:n.payload),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngVar",null==(i=s["\u0275\u0275pipeBind1"](7,7,t.licenses$))?null:i.payload))},directives:[g.a,f.a,x.u,v.a,x.t,h.a,b.a],pipes:[m.e,x.b,I.a],styles:["@media screen and (min-width:768px){dt[_ngcontent-%COMP%]{text-align:right}}"]}),e})()},g507:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("SdUf"),a=n("8Y7J"),r=n("SVse"),l=n("LMaQ"),o=n("TSSN");function d(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("\n    ",a["\u0275\u0275pipeBind1"](2,1,e.toLowerCase()+".page.titleprefix"),"\n  ")}}let s=(()=>{class e extends i.a{constructor(){super(...arguments),this.fields=["dc.title"]}}return e.\u0275fac=function(t){return p(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},features:[a["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:2,consts:[[1,"item-page-title-field"],[4,"ngIf"],[3,"mdValues"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"h2",0),a["\u0275\u0275text"](1,"\n  "),a["\u0275\u0275template"](2,d,3,3,"div",1),a["\u0275\u0275text"](3,"\n  "),a["\u0275\u0275element"](4,"ds-metadata-values",2),a["\u0275\u0275text"](5,"\n"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](6,"\n")),2&e&&(a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.item.firstMetadataValue("dspace.entity.type")),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("mdValues",null==t.item?null:t.item.allMetadata(t.fields)))},directives:[r.u,l.a],pipes:[o.e],encapsulation:2}),e})();const p=a["\u0275\u0275getInheritedFactory"](s)}}]);
//# sourceMappingURL=5-es2015.91e5d5e0eeb977a46ed7.js.map