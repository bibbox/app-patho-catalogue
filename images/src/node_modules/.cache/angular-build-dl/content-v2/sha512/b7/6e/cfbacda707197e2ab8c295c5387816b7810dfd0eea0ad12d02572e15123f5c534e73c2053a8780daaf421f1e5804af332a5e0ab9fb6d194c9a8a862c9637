(window.webpackJsonp=window.webpackJsonp||[]).push([[24,35],{A0IO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("J3qs"),a=n("q5u1"),i=n("8Y7J"),o=n("tv3Y");let s=(()=>{class e{constructor(e){this.breadcrumbService=e}resolve(e,t){const n=e.data.breadcrumbKey;if(Object(r.a)(n))throw new Error('You provided an i18nBreadcrumbResolver for url "'+e.url+"\" but no breadcrumbKey in the route's data");const i=Object(a.b)(e);return{provider:this.breadcrumbService,key:n,url:i}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},GCaJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("zr/d"),a=n("LRne"),i=n("84Zn"),o=n("cBqT"),s=n("eIep"),c=n("lJxs"),p=n("J3qs"),l=n("TVZh"),d=n("8Y7J"),u=n("sfEo"),m=n("C765");let b=(()=>{class e{constructor(e,t){this.linkService=e,this.dsoNameService=t}getBreadcrumbs(e,t){const n=this.dsoNameService.getName(e),d=new r.a(n,t),u=e.getParentLinkKey();return this.linkService.resolveLink(e,Object(i.a)(u))[u].pipe(Object(o.a)(e=>e.hasSucceeded||204===e.statusCode),Object(s.a)(e=>{if(Object(p.b)(e.payload)){const t=e.payload;return this.getBreadcrumbs(t,Object(l.n)(t))}return Object(a.a)([])}),Object(c.a)(e=>[...e,d]))}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](u.a),d["\u0275\u0275inject"](m.a))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Pej2:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return p}));var r=n("J3qs"),a=n("8Y7J"),i=function(e){return e.Title="title",e.Metadata="metadata",e.Date="date",e}({});const o=i.Metadata,s=new a.InjectionToken("getComponentByBrowseByType",{providedIn:"root",factory:()=>l}),c=new Map;function p(e){return function(t){if(!Object(r.a)(c.get(e)))throw new Error(`There can't be more than one component to render Browse-By of type "${e}"`);c.set(e,t)}}function l(e){const t=c.get(e);return Object(r.a)(t)&&c.get(o),t}},"Z/8X":function(e,t,n){"use strict";n.r(t),n.d(t,"BrowseByPageModule",(function(){return ye}));var r=n("iInd"),a=n("J3qs"),i=n("lJxs"),o=n("1QIV"),s=n("LRne"),c=n("AytR"),p=n("8Y7J"),l=n("/O7Z"),d=n("TSSN");let u=(()=>{class e{constructor(e,t){this.dsoService=e,this.translate=t}canActivate(e,t){const n=e.data.title,r=e.params.id||e.queryParams.id||e.data.id;let p=e.data.metadataField;if(Object(a.a)(p)&&Object(a.b)(r)){const e=c.a.browseBy.types.find(e=>e.id===r);Object(a.b)(e)&&Object(a.b)(e.metadataField)&&(p=e.metadataField)}const l=e.queryParams.scope,d=e.queryParams.value,u=this.translate.instant("browse.metadata."+r);return Object(a.b)(l)?this.dsoService.findById(l).pipe(Object(o.i)()).pipe(Object(i.a)(t=>(e.data=this.createData(n,r,p,t.payload.name,u,d,e),!0))):(e.data=this.createData(n,r,p,"",u,d,e),Object(s.a)(!0))}createData(e,t,n,r,i,o,s){return Object.assign({},s.data,{title:e,id:t,metadataField:n,collection:r,field:i,value:Object(a.b)(o)?`"${o}"`:""})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275inject"](l.a),p["\u0275\u0275inject"](d.f))},e.\u0275prov=p["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var m=n("TVZh"),b=n("GCaJ");let h=(()=>{class e{constructor(e,t){this.breadcrumbService=e,this.dataService=t}resolve(e,t){const n=e.queryParams.scope;if(Object(a.b)(n))return this.dataService.findById(n).pipe(Object(o.i)(),Object(o.o)(),Object(i.a)(e=>({provider:this.breadcrumbService,key:e,url:Object(m.n)(e)})))}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275inject"](b.a),p["\u0275\u0275inject"](l.a))},e.\u0275prov=p["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var g=n("A0IO"),f=n("tv3Y");let y=(()=>{class e extends g.a{constructor(e){super(e),this.breadcrumbService=e}resolve(e,t){return e.data=Object.assign({},e.data,{breadcrumbKey:e.data.breadcrumbKey+"."+e.params.id}),super.resolve(e,t)}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275inject"](f.a))},e.\u0275prov=p["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var v=n("JTKQ");function x(e,t){}let w=(()=>{class e extends v.a{getComponentName(){return"BrowseBySwitcherComponent"}importThemedComponent(e){return n("ixu2")(`./${e}/app/+browse-by/+browse-by-switcher/browse-by-switcher.component`)}importUnthemedComponent(){return n.e(0).then(n.bind(null,"snR7"))}}return e.\u0275fac=function(t){return I(t||e)},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-themed-browse-by-switcher"]],features:[p["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["vcr",""]],template:function(e,t){1&e&&(p["\u0275\u0275template"](0,x,0,0,"ng-template",null,0,p["\u0275\u0275templateRefExtractor"]),p["\u0275\u0275text"](2,"\n"))},encapsulation:2}),e})();const I=p["\u0275\u0275getInheritedFactory"](w);let S=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[y,h],imports:[[r.k.forChild([{path:"",resolve:{breadcrumb:h},children:[{path:":id",component:w,canActivate:[u],resolve:{breadcrumb:y},data:{title:"browse.title",breadcrumbKey:"browse.metadata"}}]}])]]}),e})();var j=n("SVse"),C=n("mrSG"),O=n("itXk"),E=n("7DXY"),$=n("qc8P"),B=n("hzQF");class P{constructor(e,t,n,r,a){this.metadataDefinition=e,this.pagination=t,this.sort=n,this.startsWith=r,this.scope=a}}var W=n("QG5s"),T=n("Pej2"),V=n("MFUF"),F=n("O/5o"),A=n("SFhV"),k=n("nNzF"),N=n("tLeP"),D=n("YLfV"),M=n("MTb2"),J=n("Frqi");function q(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275elementStart"](2,"header",7),p["\u0275\u0275text"](3,"\n        "),p["\u0275\u0275text"](4,"\n        "),p["\u0275\u0275elementStart"](5,"ds-comcol-page-header",8),p["\u0275\u0275text"](6,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](7,"\n        "),p["\u0275\u0275text"](8,"\n        "),p["\u0275\u0275elementStart"](9,"ds-comcol-page-handle",9),p["\u0275\u0275text"](10,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](11,"\n        "),p["\u0275\u0275text"](12,"\n        "),p["\u0275\u0275elementStart"](13,"ds-comcol-page-content",10),p["\u0275\u0275text"](14,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](15,"\n        "),p["\u0275\u0275text"](16,"\n        "),p["\u0275\u0275elementStart"](17,"ds-comcol-page-content",11),p["\u0275\u0275text"](18,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](19,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](20,"\n      "),p["\u0275\u0275text"](21,"\n      "),p["\u0275\u0275element"](22,"ds-comcol-page-browse-by",12),p["\u0275\u0275text"](23,"\n      "),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("name",e.name),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.handle)("title",e.type+".page.handle"),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.introductoryText)("hasInnerHtml",!0),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("id",e.id)("contentType",e.type)}}function H(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,q,24,10,"ng-container",6),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}const Y=function(e,t,n){return{collection:e,field:t,value:n}};function L(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"ds-browse-by",13),p["\u0275\u0275listener"]("prev",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().goPrev()}))("next",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().goNext()})),p["\u0275\u0275pipe"](1,"translate"),p["\u0275\u0275pipe"](2,"async"),p["\u0275\u0275pipe"](3,"translate"),p["\u0275\u0275pipe"](4,"async"),p["\u0275\u0275pipe"](5,"async"),p["\u0275\u0275pipe"](6,"async"),p["\u0275\u0275text"](7,"\n    "),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();var n,r;p["\u0275\u0275propertyInterpolate"]("title",p["\u0275\u0275pipeBind2"](1,8,"browse.title",p["\u0275\u0275pureFunction3"](21,Y,(null==(n=p["\u0275\u0275pipeBind1"](2,11,e.parent$))||null==n.payload?null:n.payload.name)||"",p["\u0275\u0275pipeBind1"](3,13,"browse.metadata."+e.browseId),e.value?'"'+e.value+'"':""))),p["\u0275\u0275propertyInterpolate"]("parentname",(null==(r=p["\u0275\u0275pipeBind1"](4,15,e.parent$))||null==r.payload?null:r.payload.name)||""),p["\u0275\u0275property"]("objects$",void 0!==e.items$?e.items$:e.browseEntries$)("paginationConfig",p["\u0275\u0275pipeBind1"](5,17,e.currentPagination$))("sortConfig",p["\u0275\u0275pipeBind1"](6,19,e.currentSort$))("type",e.startsWithType)("startsWithOptions",e.startsWithOptions)("enableArrows",!0)}}function R(e,t){1&e&&(p["\u0275\u0275element"](0,"ds-loading",14),p["\u0275\u0275pipe"](1,"translate")),2&e&&p["\u0275\u0275propertyInterpolate"]("message",p["\u0275\u0275pipeBind1"](1,1,"loading.browse-by-page"))}function K(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"footer",16),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275elementStart"](2,"div"),p["\u0275\u0275text"](3,"\n\n      "),p["\u0275\u0275text"](4,"\n      "),p["\u0275\u0275elementStart"](5,"ds-comcol-page-content",10),p["\u0275\u0275text"](6,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](7,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](8,"\n  "),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]().ngIf;p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("content",e.copyrightText)("hasInnerHtml",!0)}}function z(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n  "),p["\u0275\u0275template"](2,K,9,2,"footer",15),p["\u0275\u0275text"](3,"\n"),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",e.copyrightText)}}function U(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,z,4,1,"ng-container",6),p["\u0275\u0275text"](3,"\n"),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}let Z=(()=>{let e=class{constructor(e,t,n,r,a){this.route=e,this.browseService=t,this.dsoService=n,this.paginationService=r,this.router=a,this.paginationConfig=Object.assign(new E.a,{id:"bbm",currentPage:1,pageSize:20}),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=W.a.text,this.value=""}ngOnInit(){const e=new $.b("default",$.a.ASC);this.updatePage(new P(this.defaultBrowseId,this.paginationConfig,e)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,e),this.subs.push(Object(O.a)([this.route.params,this.route.queryParams,this.currentPagination$,this.currentSort$]).pipe(Object(i.a)(([e,t,n,r])=>[Object.assign({},e,t),n,r])).subscribe(([e,t,n])=>{this.browseId=e.id||this.defaultBrowseId,this.value=+e.value||e.value||"",this.startsWith=+e.startsWith||e.startsWith;const r=G(e,t,n,this.browseId);Object(a.e)(this.value)?this.updatePageWithItems(r,this.value):this.updatePage(r),this.updateParent(e.scope)})),this.updateStartsWithTextOptions()}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(e){this.browseEntries$=this.browseService.getBrowseEntriesFor(e),this.items$=void 0}updatePageWithItems(e,t){console.log("updatePAge",e),this.items$=this.browseService.getBrowseItemsFor(t,e)}updateParent(e){Object(a.b)(e)&&(this.parent$=this.dsoService.findById(e).pipe(Object(o.i)()))}goPrev(){this.items$?this.items$.pipe(Object(o.i)()).subscribe(e=>{this.items$=this.browseService.getPrevBrowseItems(e)}):this.browseEntries$&&this.browseEntries$.pipe(Object(o.i)()).subscribe(e=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(e)})}goNext(){this.items$?this.items$.pipe(Object(o.i)()).subscribe(e=>{this.items$=this.browseService.getNextBrowseItems(e)}):this.browseEntries$&&this.browseEntries$.pipe(Object(o.i)()).subscribe(e=>{this.browseEntries$=this.browseService.getNextBrowseEntries(e)})}ngOnDestroy(){this.subs.filter(e=>Object(a.b)(e)).forEach(e=>e.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}};return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](r.a),p["\u0275\u0275directiveInject"](B.a),p["\u0275\u0275directiveInject"](l.a),p["\u0275\u0275directiveInject"](V.a),p["\u0275\u0275directiveInject"](r.g))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-browse-by-metadata-page"]],decls:19,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","enableArrows","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"comcol-header","border-bottom","mb-4","pb-4"],[3,"name"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","enableArrows","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,H,3,1,"ng-container",1),p["\u0275\u0275pipe"](3,"async"),p["\u0275\u0275text"](4,"\n\n    "),p["\u0275\u0275elementStart"](5,"section",2),p["\u0275\u0275text"](6,"\n    "),p["\u0275\u0275elementStart"](7,"div",3),p["\u0275\u0275text"](8,"\n    "),p["\u0275\u0275template"](9,L,8,25,"ds-browse-by",4),p["\u0275\u0275text"](10,"\n    "),p["\u0275\u0275template"](11,R,2,3,"ds-loading",5),p["\u0275\u0275text"](12,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](13,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](14,"\n  "),p["\u0275\u0275template"](15,U,4,1,"ng-container",1),p["\u0275\u0275pipe"](16,"async"),p["\u0275\u0275text"](17,"\n"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](18,"\n")),2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngVar",p["\u0275\u0275pipeBind1"](3,4,t.parent$)),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngIf",t.startsWithOptions),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!t.startsWithOptions),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngVar",p["\u0275\u0275pipeBind1"](16,6,t.parent$)))},directives:[F.a,j.u,A.a,k.a,N.a,D.a,M.a,J.a],pipes:[j.b,d.e],styles:[""]}),e=Object(C.b)([Object(T.c)(T.b.Metadata)],e),e})();function G(e,t,n,r){return new P(r,t,n,+e.startsWith||e.startsWith,e.scope)}function Q(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275elementStart"](2,"header",7),p["\u0275\u0275text"](3,"\n        "),p["\u0275\u0275text"](4,"\n        "),p["\u0275\u0275elementStart"](5,"ds-comcol-page-header",8),p["\u0275\u0275text"](6,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](7,"\n        "),p["\u0275\u0275text"](8,"\n        "),p["\u0275\u0275elementStart"](9,"ds-comcol-page-handle",9),p["\u0275\u0275text"](10,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](11,"\n        "),p["\u0275\u0275text"](12,"\n        "),p["\u0275\u0275elementStart"](13,"ds-comcol-page-content",10),p["\u0275\u0275text"](14,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](15,"\n        "),p["\u0275\u0275text"](16,"\n        "),p["\u0275\u0275elementStart"](17,"ds-comcol-page-content",11),p["\u0275\u0275text"](18,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](19,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](20,"\n      "),p["\u0275\u0275text"](21,"\n      "),p["\u0275\u0275element"](22,"ds-comcol-page-browse-by",12),p["\u0275\u0275text"](23,"\n      "),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("name",e.name),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.handle)("title",e.type+".page.handle"),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.introductoryText)("hasInnerHtml",!0),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("id",e.id)("contentType",e.type)}}function X(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,Q,24,10,"ng-container",6),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}const _=function(e,t,n){return{collection:e,field:t,value:n}};function ee(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"ds-browse-by",13),p["\u0275\u0275listener"]("prev",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().goPrev()}))("next",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().goNext()})),p["\u0275\u0275pipe"](1,"translate"),p["\u0275\u0275pipe"](2,"async"),p["\u0275\u0275pipe"](3,"translate"),p["\u0275\u0275pipe"](4,"async"),p["\u0275\u0275pipe"](5,"async"),p["\u0275\u0275pipe"](6,"async"),p["\u0275\u0275text"](7,"\n    "),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();var n,r;p["\u0275\u0275propertyInterpolate"]("title",p["\u0275\u0275pipeBind2"](1,8,"browse.title",p["\u0275\u0275pureFunction3"](21,_,(null==(n=p["\u0275\u0275pipeBind1"](2,11,e.parent$))||null==n.payload?null:n.payload.name)||"",p["\u0275\u0275pipeBind1"](3,13,"browse.metadata."+e.browseId),e.value?'"'+e.value+'"':""))),p["\u0275\u0275propertyInterpolate"]("parentname",(null==(r=p["\u0275\u0275pipeBind1"](4,15,e.parent$))||null==r.payload?null:r.payload.name)||""),p["\u0275\u0275property"]("objects$",void 0!==e.items$?e.items$:e.browseEntries$)("paginationConfig",p["\u0275\u0275pipeBind1"](5,17,e.currentPagination$))("sortConfig",p["\u0275\u0275pipeBind1"](6,19,e.currentSort$))("type",e.startsWithType)("startsWithOptions",e.startsWithOptions)("enableArrows",!0)}}function te(e,t){1&e&&(p["\u0275\u0275element"](0,"ds-loading",14),p["\u0275\u0275pipe"](1,"translate")),2&e&&p["\u0275\u0275propertyInterpolate"]("message",p["\u0275\u0275pipeBind1"](1,1,"loading.browse-by-page"))}function ne(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"footer",16),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275elementStart"](2,"div"),p["\u0275\u0275text"](3,"\n\n      "),p["\u0275\u0275text"](4,"\n      "),p["\u0275\u0275elementStart"](5,"ds-comcol-page-content",10),p["\u0275\u0275text"](6,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](7,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](8,"\n  "),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]().ngIf;p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("content",e.copyrightText)("hasInnerHtml",!0)}}function re(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n  "),p["\u0275\u0275template"](2,ne,9,2,"footer",15),p["\u0275\u0275text"](3,"\n"),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",e.copyrightText)}}function ae(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,re,4,1,"ng-container",6),p["\u0275\u0275text"](3,"\n"),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}let ie=(()=>{let e=class extends Z{constructor(e,t,n,r,a){super(e,t,n,r,a),this.route=e,this.browseService=t,this.dsoService=n,this.paginationService=r,this.router=a}ngOnInit(){const e=new $.b("dc.title",$.a.ASC);this.updatePage(new P(this.defaultBrowseId,this.paginationConfig,e)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,e),this.subs.push(Object(O.a)([this.route.params,this.route.queryParams,this.currentPagination$,this.currentSort$]).pipe(Object(i.a)(([e,t,n,r])=>[Object.assign({},e,t),n,r])).subscribe(([e,t,n])=>{this.browseId=e.id||this.defaultBrowseId,this.updatePageWithItems(G(e,t,n,this.browseId),void 0),this.updateParent(e.scope)})),this.updateStartsWithTextOptions()}ngOnDestroy(){this.subs.filter(e=>Object(a.b)(e)).forEach(e=>e.unsubscribe())}};return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](r.a),p["\u0275\u0275directiveInject"](B.a),p["\u0275\u0275directiveInject"](l.a),p["\u0275\u0275directiveInject"](V.a),p["\u0275\u0275directiveInject"](r.g))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-browse-by-title-page"]],features:[p["\u0275\u0275InheritDefinitionFeature"]],decls:19,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","enableArrows","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"comcol-header","border-bottom","mb-4","pb-4"],[3,"name"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","enableArrows","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,X,3,1,"ng-container",1),p["\u0275\u0275pipe"](3,"async"),p["\u0275\u0275text"](4,"\n\n    "),p["\u0275\u0275elementStart"](5,"section",2),p["\u0275\u0275text"](6,"\n    "),p["\u0275\u0275elementStart"](7,"div",3),p["\u0275\u0275text"](8,"\n    "),p["\u0275\u0275template"](9,ee,8,25,"ds-browse-by",4),p["\u0275\u0275text"](10,"\n    "),p["\u0275\u0275template"](11,te,2,3,"ds-loading",5),p["\u0275\u0275text"](12,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](13,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](14,"\n  "),p["\u0275\u0275template"](15,ae,4,1,"ng-container",1),p["\u0275\u0275pipe"](16,"async"),p["\u0275\u0275text"](17,"\n"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](18,"\n")),2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngVar",p["\u0275\u0275pipeBind1"](3,4,t.parent$)),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngIf",t.startsWithOptions),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!t.startsWithOptions),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngVar",p["\u0275\u0275pipeBind1"](16,6,t.parent$)))},directives:[F.a,j.u,A.a,k.a,N.a,D.a,M.a,J.a],pipes:[j.b,d.e],styles:[""]}),e=Object(C.b)([Object(T.c)(T.b.Title)],e),e})();var oe=n("PCNd");function se(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275elementStart"](2,"header",7),p["\u0275\u0275text"](3,"\n        "),p["\u0275\u0275text"](4,"\n        "),p["\u0275\u0275elementStart"](5,"ds-comcol-page-header",8),p["\u0275\u0275text"](6,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](7,"\n        "),p["\u0275\u0275text"](8,"\n        "),p["\u0275\u0275elementStart"](9,"ds-comcol-page-handle",9),p["\u0275\u0275text"](10,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](11,"\n        "),p["\u0275\u0275text"](12,"\n        "),p["\u0275\u0275elementStart"](13,"ds-comcol-page-content",10),p["\u0275\u0275text"](14,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](15,"\n        "),p["\u0275\u0275text"](16,"\n        "),p["\u0275\u0275elementStart"](17,"ds-comcol-page-content",11),p["\u0275\u0275text"](18,"\n        "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](19,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](20,"\n      "),p["\u0275\u0275text"](21,"\n      "),p["\u0275\u0275element"](22,"ds-comcol-page-browse-by",12),p["\u0275\u0275text"](23,"\n      "),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("name",e.name),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.handle)("title",e.type+".page.handle"),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.introductoryText)("hasInnerHtml",!0),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("content",e.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("id",e.id)("contentType",e.type)}}function ce(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,se,24,10,"ng-container",6),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}const pe=function(e,t,n){return{collection:e,field:t,value:n}};function le(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"ds-browse-by",13),p["\u0275\u0275listener"]("prev",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().goPrev()}))("next",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().goNext()})),p["\u0275\u0275pipe"](1,"translate"),p["\u0275\u0275pipe"](2,"async"),p["\u0275\u0275pipe"](3,"translate"),p["\u0275\u0275pipe"](4,"async"),p["\u0275\u0275pipe"](5,"async"),p["\u0275\u0275pipe"](6,"async"),p["\u0275\u0275text"](7,"\n    "),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();var n,r;p["\u0275\u0275propertyInterpolate"]("title",p["\u0275\u0275pipeBind2"](1,8,"browse.title",p["\u0275\u0275pureFunction3"](21,pe,(null==(n=p["\u0275\u0275pipeBind1"](2,11,e.parent$))||null==n.payload?null:n.payload.name)||"",p["\u0275\u0275pipeBind1"](3,13,"browse.metadata."+e.browseId),e.value?'"'+e.value+'"':""))),p["\u0275\u0275propertyInterpolate"]("parentname",(null==(r=p["\u0275\u0275pipeBind1"](4,15,e.parent$))||null==r.payload?null:r.payload.name)||""),p["\u0275\u0275property"]("objects$",void 0!==e.items$?e.items$:e.browseEntries$)("paginationConfig",p["\u0275\u0275pipeBind1"](5,17,e.currentPagination$))("sortConfig",p["\u0275\u0275pipeBind1"](6,19,e.currentSort$))("type",e.startsWithType)("startsWithOptions",e.startsWithOptions)("enableArrows",!0)}}function de(e,t){1&e&&(p["\u0275\u0275element"](0,"ds-loading",14),p["\u0275\u0275pipe"](1,"translate")),2&e&&p["\u0275\u0275propertyInterpolate"]("message",p["\u0275\u0275pipeBind1"](1,1,"loading.browse-by-page"))}function ue(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"footer",16),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275elementStart"](2,"div"),p["\u0275\u0275text"](3,"\n\n      "),p["\u0275\u0275text"](4,"\n      "),p["\u0275\u0275elementStart"](5,"ds-comcol-page-content",10),p["\u0275\u0275text"](6,"\n      "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](7,"\n    "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](8,"\n  "),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]().ngIf;p["\u0275\u0275advance"](5),p["\u0275\u0275property"]("content",e.copyrightText)("hasInnerHtml",!0)}}function me(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n  "),p["\u0275\u0275template"](2,ue,9,2,"footer",15),p["\u0275\u0275text"](3,"\n"),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",e.copyrightText)}}function be(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,me,4,1,"ng-container",6),p["\u0275\u0275text"](3,"\n"),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngVar;p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",null==e?null:e.payload)}}const he=[ie,Z,(()=>{let e=class extends Z{constructor(e,t,n,r,a,i){super(e,t,n,a,r),this.route=e,this.browseService=t,this.dsoService=n,this.router=r,this.paginationService=a,this.cdRef=i,this.defaultMetadataField="dc.date.issued"}ngOnInit(){const e=new $.b("default",$.a.ASC);this.startsWithType=W.a.date,this.updatePage(new P(this.defaultBrowseId,this.paginationConfig,e)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,e),this.subs.push(Object(O.a)([this.route.params,this.route.queryParams,this.route.data,this.currentPagination$,this.currentSort$]).pipe(Object(i.a)(([e,t,n,r,a])=>[Object.assign({},e,t,n),r,a])).subscribe(([e,t,n])=>{const r=e.metadataField||this.defaultMetadataField;this.browseId=e.id||this.defaultBrowseId,this.startsWith=+e.startsWith||e.startsWith;const a=G(e,t,n,this.browseId);this.updatePageWithItems(a,this.value),this.updateParent(e.scope),this.updateStartsWithOptions(this.browseId,r,e.scope)}))}updateStartsWithOptions(e,t,n){this.subs.push(this.browseService.getFirstItemFor(e,n).subscribe(e=>{let n=c.a.browseBy.defaultLowerLimit;if(Object(a.b)(e.payload)){const r=e.payload.firstMetadataValue(t);Object(a.b)(r)&&(n=new Date(r).getUTCFullYear())}const r=[],i=(new Date).getFullYear(),o=5*Math.floor((i-c.a.browseBy.oneYearLimit)/5),s=10*Math.floor((i-c.a.browseBy.fiveYearLimit)/10);n-=n<=s?10:n<=o?5:1;let p=i;for(;p>n;)r.push(p),p<=s?p-=10:p<=o?p-=5:p--;Object(a.e)(r)&&(this.startsWithOptions=r,this.cdRef.detectChanges())}))}};return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](r.a),p["\u0275\u0275directiveInject"](B.a),p["\u0275\u0275directiveInject"](l.a),p["\u0275\u0275directiveInject"](r.g),p["\u0275\u0275directiveInject"](V.a),p["\u0275\u0275directiveInject"](p.ChangeDetectorRef))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["ds-browse-by-date-page"]],features:[p["\u0275\u0275InheritDefinitionFeature"]],decls:19,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","enableArrows","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"comcol-header","border-bottom","mb-4","pb-4"],[3,"name"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","enableArrows","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275text"](1,"\n    "),p["\u0275\u0275template"](2,ce,3,1,"ng-container",1),p["\u0275\u0275pipe"](3,"async"),p["\u0275\u0275text"](4,"\n\n    "),p["\u0275\u0275elementStart"](5,"section",2),p["\u0275\u0275text"](6,"\n    "),p["\u0275\u0275elementStart"](7,"div",3),p["\u0275\u0275text"](8,"\n    "),p["\u0275\u0275template"](9,le,8,25,"ds-browse-by",4),p["\u0275\u0275text"](10,"\n    "),p["\u0275\u0275template"](11,de,2,3,"ds-loading",5),p["\u0275\u0275text"](12,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](13,"\n  "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](14,"\n  "),p["\u0275\u0275template"](15,be,4,1,"ng-container",1),p["\u0275\u0275pipe"](16,"async"),p["\u0275\u0275text"](17,"\n"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](18,"\n")),2&e&&(p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngVar",p["\u0275\u0275pipeBind1"](3,4,t.parent$)),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngIf",t.startsWithOptions),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",!t.startsWithOptions),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngVar",p["\u0275\u0275pipeBind1"](16,6,t.parent$)))},directives:[F.a,j.u,A.a,k.a,N.a,D.a,M.a,J.a],pipes:[j.b,d.e],styles:[""]}),e=Object(C.b)([Object(T.c)(T.b.Date)],e),e})()];let ge=(()=>{class e{static withEntryComponents(){return{ngModule:oe.a,providers:he.map(e=>({provide:e}))}}}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[j.c,oe.a]]}),e})();var fe=n("iqTE");let ye=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[fe.a,B.a,u],imports:[[S,ge.withEntryComponents()]]}),e})()},ixu2:function(e,t,n){var r={"./custom/app/+browse-by/+browse-by-switcher/browse-by-switcher.component":["EAdw",0,42]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="ixu2",e.exports=a},tv3Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("zr/d"),a=n("LRne"),i=n("8Y7J");let o=(()=>{class e{getBreadcrumbs(e,t){return Object(a.a)([new r.a(e+".breadcrumbs",t)])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"zr/d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t){this.text=e,this.url=t}}}}]);
//# sourceMappingURL=24-es2015.675c448a575e57dec73d.js.map