{"version":3,"file":"angulartics2-pyze.umd.js","sources":["../../../../src/lib/providers/pyze/pyze.ts","../../../../src/lib/providers/pyze/angulartics2-pyze.ts"],"names":["Injectable","Angulartics2"],"mappings":";;;;;;;QAYI,0BAAoB,YAA0B;AAClD,YADI,iBAGC;AACL,YAJwB,iBAAY,GAAZ,YAAY,CAAc;AAAC,YAC3C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,CAAS,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;AAClF,YAAQ,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;AACjF,SAAK;AACL,QACI,wCAAa,GAAb;AAAc,YAAd,iBAOC;AACL,YAPQ,IAAI,CAAC,YAAY,CAAC,SAAS;AACnC,iBAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;AACxD,iBAAW,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC;AACpD,YAAQ,IAAI,CAAC,YAAY,CAAC,UAAU;AACpC,iBAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;AACxD,iBAAW,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,GAAA,CAAC,CAAC;AACrE,SAAK;AAEL,QAAI,oCAAS,GAAT,UAAU,IAAY;AAC1B,YAAQ,IAAI;AACZ,gBAAY,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,aAAS;AAAC,YAAA,OAAO,CAAC,EAAE;AACpB,gBAAY,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAChD,oBAAY,MAAM,CAAC,CAAC;AACpB,iBAAa;AACb,aAAS;AACT,SAAK;AAEL,QAAI,qCAAU,GAAV,UAAW,MAAc,EAAE,UAAe;AAC9C,YAAQ,IAAI;AACZ,gBAAY,UAAU,CAAC,6BAA6B,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;AACzE,aAAS;AAAC,YAAA,OAAO,CAAC,EAAE;AACpB,gBAAY,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAChD,oBAAY,MAAM,CAAC,CAAC;AACpB,iBAAa;AACb,aAAS;AACT,SAAK;AAEL,QAAI,oCAAS,GAAT,UAAU,MAAc;AAC5B,YAAQ,IAAI;AACZ,gBAAY,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;AACnD,aAAS;AAAC,YAAA,OAAO,CAAC,EAAE;AACpB,gBAAU,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAC9C,oBAAY,MAAM,CAAC,CAAC;AACpB,iBAAW;AACX,aAAS;AACT,SAAO;AAEP,QAAI,qCAAU,GAAV,UAAW,UAAkB;AACjC,YAAQ,IAAI;AACZ,gBAAY,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;AAChD,aAAS;AAAC,YAAA,OAAO,CAAC,EAAE;AACpB,gBAAU,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAC9C,oBAAY,MAAM,CAAC,CAAC;AACpB,iBAAW;AACX,aAAS;AACT,SAAK;;;;;6EACL;AAAC;AAC+B;AAAU,iNAxDjC;oDADRA,pDACS;IADC,SAAC,EAAE,UAAU,EAAE,MAAM,jCAGK,gBAV5BC,eAAY;CAOa,DAPV;AAAU;AAAC,ICFnC;AACA;AAEA;AACO;AAAC;AACyB;AAAC;AAAmE;AAAC;AAAM","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from 'angulartics2';\n\ndeclare var Pyze: any;\ndeclare var PyzeEvents: any;\ndeclare var PyzeIdentity: any;\n\n\n@Injectable({ providedIn: 'root' })\nexport class  Angulartics2Pyze {\n\n    constructor(private angulartics2: Angulartics2) {\n        this.angulartics2.setUsername.subscribe((x: string) => this.setUserId(x));\n        this.angulartics2.setUserProperties.subscribe((x) => this.postTraits(x));\n    }\n\n    startTracking(): void {\n        this.angulartics2.pageTrack\n          .pipe(this.angulartics2.filterDeveloperMode())\n          .subscribe((x) => this.pageTrack(x.path));\n        this.angulartics2.eventTrack\n          .pipe(this.angulartics2.filterDeveloperMode())\n          .subscribe((x) => this.eventTrack(x.action, x.properties));\n    }\n\n    pageTrack(path: string) {\n        try {\n            Pyze.postPageView('Page Viewed', { page: path });\n        } catch (e) {\n            if (!(e instanceof ReferenceError)) {\n            throw e;\n            }\n        }\n    }\n\n    eventTrack(action: string, properties: any) {\n        try {\n            PyzeEvents.postCustomEventWithAttributes(action, properties);\n        } catch (e) {\n            if (!(e instanceof ReferenceError)) {\n            throw e;\n            }\n        }\n    }\n\n    setUserId(userId: string) {\n        try {\n            PyzeIdentity.setUserIdentifier(userId);\n        } catch (e) {\n          if (!(e instanceof ReferenceError)) {\n            throw e;\n          }\n        }\n      }\n\n    postTraits(properties: string) {\n        try {\n            PyzeIdentity.postTraits(properties);\n        } catch (e) {\n          if (!(e instanceof ReferenceError)) {\n            throw e;\n          }\n        }\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './pyze';\n"]}