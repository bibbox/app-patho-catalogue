{"version":3,"file":"angulartics2-pyze.js","sources":["../../../../src/lib/providers/pyze/pyze.ts","../../../../src/lib/providers/pyze/angulartics2-pyze.ts"],"names":[],"mappings":";;;;;MAUc,gBAAgB;AAC9B,IACI,YAAoB,YAA0B;AAClD,QADwB,iBAAY,GAAZ,YAAY,CAAc;AAAC,QAC3C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AAClF,QAAQ,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AACjF,KAAK;AACL,IACI,aAAa;AAAK,QACd,IAAI,CAAC,YAAY,CAAC,SAAS;AACnC,aAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;AACxD,aAAW,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACpD,QAAQ,IAAI,CAAC,YAAY,CAAC,UAAU;AACpC,aAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;AACxD,aAAW,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;AACrE,KAAK;AACL,IACI,SAAS,CAAC,IAAY;AAC1B,QAAQ,IAAI;AACZ,YAAY,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,SAAS;AAAC,QAAA,OAAO,CAAC,EAAE;AACpB,YAAY,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAChD,gBAAY,MAAM,CAAC,CAAC;AACpB,aAAa;AACb,SAAS;AACT,KAAK;AACL,IACI,UAAU,CAAC,MAAc,EAAE,UAAe;AAC9C,QAAQ,IAAI;AACZ,YAAY,UAAU,CAAC,6BAA6B,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;AACzE,SAAS;AAAC,QAAA,OAAO,CAAC,EAAE;AACpB,YAAY,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAChD,gBAAY,MAAM,CAAC,CAAC;AACpB,aAAa;AACb,SAAS;AACT,KAAK;AACL,IACI,SAAS,CAAC,MAAc;AAC5B,QAAQ,IAAI;AACZ,YAAY,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;AACnD,SAAS;AAAC,QAAA,OAAO,CAAC,EAAE;AACpB,YAAU,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAC9C,gBAAY,MAAM,CAAC,CAAC;AACpB,aAAW;AACX,SAAS;AACT,KAAO;AACP,IACI,UAAU,CAAC,UAAkB;AACjC,QAAQ,IAAI;AACZ,YAAY,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;AAChD,SAAS;AAAC,QAAA,OAAO,CAAC,EAAE;AACpB,YAAU,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAC9C,gBAAY,MAAM,CAAC,CAAC;AACpB,aAAW;AACX,SAAS;AACT,KAAK;AACL;2IAAC;AACD,oMAxDK;AAAC;EADL,UAAU,SAAC,EAAE,vBAGA,YAVL,YAAY;AAAG;GAOA,EAAE,MAAM,EAAE;;;6EAPR;AAAC;ACF3B;AACA;AACA;AACA;AACA;AACK","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from 'angulartics2';\n\ndeclare var Pyze: any;\ndeclare var PyzeEvents: any;\ndeclare var PyzeIdentity: any;\n\n\n@Injectable({ providedIn: 'root' })\nexport class  Angulartics2Pyze {\n\n    constructor(private angulartics2: Angulartics2) {\n        this.angulartics2.setUsername.subscribe((x: string) => this.setUserId(x));\n        this.angulartics2.setUserProperties.subscribe((x) => this.postTraits(x));\n    }\n\n    startTracking(): void {\n        this.angulartics2.pageTrack\n          .pipe(this.angulartics2.filterDeveloperMode())\n          .subscribe((x) => this.pageTrack(x.path));\n        this.angulartics2.eventTrack\n          .pipe(this.angulartics2.filterDeveloperMode())\n          .subscribe((x) => this.eventTrack(x.action, x.properties));\n    }\n\n    pageTrack(path: string) {\n        try {\n            Pyze.postPageView('Page Viewed', { page: path });\n        } catch (e) {\n            if (!(e instanceof ReferenceError)) {\n            throw e;\n            }\n        }\n    }\n\n    eventTrack(action: string, properties: any) {\n        try {\n            PyzeEvents.postCustomEventWithAttributes(action, properties);\n        } catch (e) {\n            if (!(e instanceof ReferenceError)) {\n            throw e;\n            }\n        }\n    }\n\n    setUserId(userId: string) {\n        try {\n            PyzeIdentity.setUserIdentifier(userId);\n        } catch (e) {\n          if (!(e instanceof ReferenceError)) {\n            throw e;\n          }\n        }\n      }\n\n    postTraits(properties: string) {\n        try {\n            PyzeIdentity.postTraits(properties);\n        } catch (e) {\n          if (!(e instanceof ReferenceError)) {\n            throw e;\n          }\n        }\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './pyze';\n"]}