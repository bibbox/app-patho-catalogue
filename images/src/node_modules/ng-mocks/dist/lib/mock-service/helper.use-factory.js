"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var ng_mocks_universe_1 = require("../common/ng-mocks-universe");
exports.default = (function (def, mock) { return ({
    deps: [core_1.Injector],
    provide: def,
    useFactory: function (injector) {
        var instance = mock();
        var config = ng_mocks_universe_1.default.config.get(def);
        if (injector && instance && config && config.init) {
            config.init(instance, injector);
        }
        return instance;
    },
}); });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscGVyLnVzZS1mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbGliL21vY2stc2VydmljZS9oZWxwZXIudXNlLWZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxzQ0FBMEQ7QUFFMUQsaUVBQTBEO0FBRTFELG1CQUFlLFVBQU8sR0FBTSxFQUFFLElBQWEsSUFBc0IsT0FBQSxDQUFDO0lBQ2hFLElBQUksRUFBRSxDQUFDLGVBQVEsQ0FBQztJQUNoQixPQUFPLEVBQUUsR0FBRztJQUNaLFVBQVUsRUFBRSxVQUFDLFFBQW1CO1FBQzlCLElBQU0sUUFBUSxHQUFHLElBQUksRUFBRSxDQUFDO1FBQ3hCLElBQU0sTUFBTSxHQUFHLDJCQUFlLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMvQyxJQUFJLFFBQVEsSUFBSSxRQUFRLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDakQsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDakM7UUFDRCxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0NBQ0YsQ0FBQyxFQVgrRCxDQVcvRCxFQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFjdG9yeVByb3ZpZGVyLCBJbmplY3RvciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgbmdNb2Nrc1VuaXZlcnNlIGZyb20gJy4uL2NvbW1vbi9uZy1tb2Nrcy11bml2ZXJzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IDxELCBJPihkZWY6IEQsIG1vY2s6ICgpID0+IEkpOiBGYWN0b3J5UHJvdmlkZXIgPT4gKHtcbiAgZGVwczogW0luamVjdG9yXSxcbiAgcHJvdmlkZTogZGVmLFxuICB1c2VGYWN0b3J5OiAoaW5qZWN0b3I/OiBJbmplY3RvcikgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbW9jaygpO1xuICAgIGNvbnN0IGNvbmZpZyA9IG5nTW9ja3NVbml2ZXJzZS5jb25maWcuZ2V0KGRlZik7XG4gICAgaWYgKGluamVjdG9yICYmIGluc3RhbmNlICYmIGNvbmZpZyAmJiBjb25maWcuaW5pdCkge1xuICAgICAgY29uZmlnLmluaXQoaW5zdGFuY2UsIGluamVjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9LFxufSk7XG4iXX0=