"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var common_1 = require("@angular/common");
var core_config_1 = require("../common/core.config");
var func_is_ng_injection_token_1 = require("../common/func.is-ng-injection-token");
var ng_mocks_universe_1 = require("../common/ng-mocks-universe");
// Checks if we should avoid mocking of the provider.
exports.default = (function (provide) {
    var _a, _b;
    if (!provide) {
        return true;
    }
    if (ng_mocks_universe_1.default.touches.has(provide)) {
        return true;
    }
    if (provide === common_1.DOCUMENT) {
        return true;
    }
    if (typeof provide === 'function' && core_config_1.default.neverMockProvidedFunction.indexOf(provide.name) !== -1) {
        return true;
    }
    if (func_is_ng_injection_token_1.isNgInjectionToken(provide) && core_config_1.default.neverMockToken.indexOf(provide.toString()) !== -1) {
        return true;
    }
    // Empty providedIn or things for a platform have to be skipped.
    var skip = !((_a = provide.ɵprov) === null || _a === void 0 ? void 0 : _a.providedIn) || provide.ɵprov.providedIn === 'platform';
    /* istanbul ignore next: A6 */
    skip = skip && (!((_b = provide.ngInjectableDef) === null || _b === void 0 ? void 0 : _b.providedIn) || provide.ngInjectableDef.providedIn === 'platform');
    if (typeof provide === 'function' && skip) {
        return true;
    }
    return false;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9jay1idWlsZGVyLXByb21pc2Uuc2tpcC1kZXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvbW9jay1idWlsZGVyL21vY2stYnVpbGRlci1wcm9taXNlLnNraXAtZGVwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMENBQTJDO0FBRTNDLHFEQUE2QztBQUM3QyxtRkFBMEU7QUFDMUUsaUVBQTBEO0FBRTFELHFEQUFxRDtBQUNyRCxtQkFBZSxVQUFDLE9BQVk7O0lBQzFCLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDWixPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsSUFBSSwyQkFBZSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDeEMsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELElBQUksT0FBTyxLQUFLLGlCQUFRLEVBQUU7UUFDeEIsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELElBQUksT0FBTyxPQUFPLEtBQUssVUFBVSxJQUFJLHFCQUFRLENBQUMseUJBQXlCLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtRQUNwRyxPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsSUFBSSwrQ0FBa0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxxQkFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDN0YsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELGdFQUFnRTtJQUNoRSxJQUFJLElBQUksR0FBRyxRQUFDLE9BQU8sQ0FBQyxLQUFLLDBDQUFFLFVBQVUsQ0FBQSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxLQUFLLFVBQVUsQ0FBQztJQUNqRiw4QkFBOEI7SUFDOUIsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQUMsT0FBTyxDQUFDLGVBQWUsMENBQUUsVUFBVSxDQUFBLElBQUksT0FBTyxDQUFDLGVBQWUsQ0FBQyxVQUFVLEtBQUssVUFBVSxDQUFDLENBQUM7SUFDM0csSUFBSSxPQUFPLE9BQU8sS0FBSyxVQUFVLElBQUksSUFBSSxFQUFFO1FBQ3pDLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsRUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuaW1wb3J0IG5nQ29uZmlnIGZyb20gJy4uL2NvbW1vbi9jb3JlLmNvbmZpZyc7XG5pbXBvcnQgeyBpc05nSW5qZWN0aW9uVG9rZW4gfSBmcm9tICcuLi9jb21tb24vZnVuYy5pcy1uZy1pbmplY3Rpb24tdG9rZW4nO1xuaW1wb3J0IG5nTW9ja3NVbml2ZXJzZSBmcm9tICcuLi9jb21tb24vbmctbW9ja3MtdW5pdmVyc2UnO1xuXG4vLyBDaGVja3MgaWYgd2Ugc2hvdWxkIGF2b2lkIG1vY2tpbmcgb2YgdGhlIHByb3ZpZGVyLlxuZXhwb3J0IGRlZmF1bHQgKHByb3ZpZGU6IGFueSk6IGJvb2xlYW4gPT4ge1xuICBpZiAoIXByb3ZpZGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAobmdNb2Nrc1VuaXZlcnNlLnRvdWNoZXMuaGFzKHByb3ZpZGUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAocHJvdmlkZSA9PT0gRE9DVU1FTlQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJvdmlkZSA9PT0gJ2Z1bmN0aW9uJyAmJiBuZ0NvbmZpZy5uZXZlck1vY2tQcm92aWRlZEZ1bmN0aW9uLmluZGV4T2YocHJvdmlkZS5uYW1lKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoaXNOZ0luamVjdGlvblRva2VuKHByb3ZpZGUpICYmIG5nQ29uZmlnLm5ldmVyTW9ja1Rva2VuLmluZGV4T2YocHJvdmlkZS50b1N0cmluZygpKSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEVtcHR5IHByb3ZpZGVkSW4gb3IgdGhpbmdzIGZvciBhIHBsYXRmb3JtIGhhdmUgdG8gYmUgc2tpcHBlZC5cbiAgbGV0IHNraXAgPSAhcHJvdmlkZS7JtXByb3Y/LnByb3ZpZGVkSW4gfHwgcHJvdmlkZS7JtXByb3YucHJvdmlkZWRJbiA9PT0gJ3BsYXRmb3JtJztcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IEE2ICovXG4gIHNraXAgPSBza2lwICYmICghcHJvdmlkZS5uZ0luamVjdGFibGVEZWY/LnByb3ZpZGVkSW4gfHwgcHJvdmlkZS5uZ0luamVjdGFibGVEZWYucHJvdmlkZWRJbiA9PT0gJ3BsYXRmb3JtJyk7XG4gIGlmICh0eXBlb2YgcHJvdmlkZSA9PT0gJ2Z1bmN0aW9uJyAmJiBza2lwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbiJdfQ==