import { isString } from "./core.utils";
export function maskToString(mask) {
    if (isString(mask)) {
        return mask;
    }
    else if (mask instanceof RegExp) {
        return mask.toString();
    }
    else if (Array.isArray(mask)) {
        return mask.map(value => maskToString(value));
    }
    return null;
}
export function maskFromString(mask) {
    if (isString(mask)) {
        const isRegExp = mask.startsWith("/") && mask.endsWith("/");
        return isRegExp ? new RegExp(mask.slice(1, mask.length - 1)) : mask;
    }
    else if (Array.isArray(mask)) {
        return mask.map(value => maskFromString(value));
    }
    return null;
}
export function parseReviver(_key, value) {
    const regexDateISO = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/;
    return isString(value) && regexDateISO.test(value) ? new Date(value) : value;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi51dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25nLWR5bmFtaWMtZm9ybXMvY29yZS9zcmMvbGliL3V0aWxzL2pzb24udXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV4QyxNQUFNLFVBQVUsWUFBWSxDQUFDLElBQTJDO0lBRXBFLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBRWhCLE9BQU8sSUFBYyxDQUFDO0tBRXpCO1NBQU0sSUFBSSxJQUFJLFlBQVksTUFBTSxFQUFFO1FBRS9CLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0tBRTFCO1NBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBRTVCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBYSxDQUFDO0tBQzdEO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQztBQUVELE1BQU0sVUFBVSxjQUFjLENBQUMsSUFBdUI7SUFFbEQsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFFaEIsTUFBTSxRQUFRLEdBQUksSUFBZSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSyxJQUFlLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXBGLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBRSxJQUFlLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztLQUVuRjtTQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUU1QixPQUFRLElBQWlCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFhLENBQUM7S0FDN0U7SUFFRCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDO0FBRUQsTUFBTSxVQUFVLFlBQVksQ0FBQyxJQUFZLEVBQUUsS0FBVTtJQUVqRCxNQUFNLFlBQVksR0FBRyxtRkFBbUYsQ0FBQztJQUV6RyxPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ2pGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gXCIuL2NvcmUudXRpbHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIG1hc2tUb1N0cmluZyhtYXNrOiBzdHJpbmcgfCBSZWdFeHAgfCAoc3RyaW5nIHwgUmVnRXhwKVtdKTogc3RyaW5nIHwgc3RyaW5nW10gfCBudWxsIHtcblxuICAgIGlmIChpc1N0cmluZyhtYXNrKSkge1xuXG4gICAgICAgIHJldHVybiBtYXNrIGFzIHN0cmluZztcblxuICAgIH0gZWxzZSBpZiAobWFzayBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuXG4gICAgICAgIHJldHVybiBtYXNrLnRvU3RyaW5nKCk7XG5cbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobWFzaykpIHtcblxuICAgICAgICByZXR1cm4gbWFzay5tYXAodmFsdWUgPT4gbWFza1RvU3RyaW5nKHZhbHVlKSkgYXMgc3RyaW5nW107XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXNrRnJvbVN0cmluZyhtYXNrOiBzdHJpbmcgfCBzdHJpbmdbXSk6IHN0cmluZyB8IFJlZ0V4cCB8IChzdHJpbmcgfCBSZWdFeHApW10gfCBudWxsIHtcblxuICAgIGlmIChpc1N0cmluZyhtYXNrKSkge1xuXG4gICAgICAgIGNvbnN0IGlzUmVnRXhwID0gKG1hc2sgYXMgc3RyaW5nKS5zdGFydHNXaXRoKFwiL1wiKSAmJiAobWFzayBhcyBzdHJpbmcpLmVuZHNXaXRoKFwiL1wiKTtcblxuICAgICAgICByZXR1cm4gaXNSZWdFeHAgPyBuZXcgUmVnRXhwKChtYXNrIGFzIHN0cmluZykuc2xpY2UoMSwgbWFzay5sZW5ndGggLSAxKSkgOiBtYXNrO1xuXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG1hc2spKSB7XG5cbiAgICAgICAgcmV0dXJuIChtYXNrIGFzIHN0cmluZ1tdKS5tYXAodmFsdWUgPT4gbWFza0Zyb21TdHJpbmcodmFsdWUpKSBhcyBzdHJpbmdbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmV2aXZlcihfa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBhbnkge1xuXG4gICAgY29uc3QgcmVnZXhEYXRlSVNPID0gL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KVQoXFxkezJ9KTooXFxkezJ9KTooXFxkezJ9KD86XFwuXFxkKikpKD86WnwoWytcXC1dKShbXFxkfDpdKikpPyQvO1xuXG4gICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSAmJiByZWdleERhdGVJU08udGVzdCh2YWx1ZSkgPyBuZXcgRGF0ZSh2YWx1ZSkgOiB2YWx1ZTtcbn1cbiJdfQ==