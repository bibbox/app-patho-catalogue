{"version":3,"sources":["webpack:///src/app/+admin/admin-registries/admin-registries-routing-paths.ts","webpack:///src/app/+admin/admin-registries/bitstream-formats/bitstream-formats.resolver.ts","webpack:///src/app/+admin/admin-registries/bitstream-formats/format-form/format-form.component.html","webpack:///src/app/+admin/admin-registries/bitstream-formats/format-form/format-form.component.ts","webpack:///src/app/+admin/admin-registries/bitstream-formats/edit-bitstream-format/edit-bitstream-format.component.ts","webpack:///src/app/+admin/admin-registries/bitstream-formats/edit-bitstream-format/edit-bitstream-format.component.html","webpack:///src/app/+admin/admin-registries/bitstream-formats/bitstream-formats.component.html","webpack:///src/app/+admin/admin-registries/bitstream-formats/bitstream-formats.component.ts","webpack:///src/app/+admin/admin-registries/bitstream-formats/add-bitstream-format/add-bitstream-format.component.ts","webpack:///src/app/+admin/admin-registries/bitstream-formats/bitstream-formats.module.ts","webpack:///src/app/+admin/admin-registries/bitstream-formats/bitstream-formats-routing.module.ts","webpack:///src/app/+admin/admin-registries/bitstream-formats/add-bitstream-format/add-bitstream-format.component.html","webpack:///src/app/+admin/admin-import-metadata-page/metadata-import-page.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search-page.component.ts","webpack:///src/app/+admin/admin-workflow-page/admin-workflow-page.component.ts","webpack:///src/app/+admin/admin-curation-tasks/admin-curation-tasks.component.ts","webpack:///src/app/+admin/admin-routing.module.ts","webpack:///src/app/+admin/admin-import-metadata-page/metadata-import-page.component.html","webpack:///src/app/+admin/admin-search-page/admin-search-page.component.html","webpack:///src/app/+admin/admin-workflow-page/admin-workflow-page.component.html","webpack:///src/app/+admin/admin-curation-tasks/admin-curation-tasks.component.html","webpack:///src/app/+admin/admin-workflow-page/admin-workflow-search-results/workflow-item-admin-workflow-actions.component.html","webpack:///src/app/+admin/admin-workflow-page/admin-workflow-search-results/workflow-item-admin-workflow-actions.component.ts","webpack:///src/app/+admin/admin-workflow-page/admin-workflow-search-results/admin-workflow-search-result-grid-element/workflow-item/workflow-item-search-result-admin-workflow-grid-element.component.html","webpack:///src/app/+admin/admin-workflow-page/admin-workflow-search-results/admin-workflow-search-result-grid-element/workflow-item/workflow-item-search-result-admin-workflow-grid-element.component.ts","webpack:///src/app/+admin/admin-workflow-page/admin-workflow-search-results/admin-workflow-search-result-list-element/workflow-item/workflow-item-search-result-admin-workflow-list-element.component.html","webpack:///src/app/+admin/admin-workflow-page/admin-workflow.module.ts","webpack:///src/app/+admin/admin-workflow-page/admin-workflow-search-results/admin-workflow-search-result-list-element/workflow-item/workflow-item-search-result-admin-workflow-list-element.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search-results/item-admin-search-result-actions.component.html","webpack:///src/app/+admin/admin-search-page/admin-search-results/item-admin-search-result-actions.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-list-element/item-search-result/item-admin-search-result-list-element.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-list-element/community-search-result/community-admin-search-result-list-element.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-list-element/collection-search-result/collection-admin-search-result-list-element.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-list-element/item-search-result/item-admin-search-result-list-element.component.html","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-list-element/community-search-result/community-admin-search-result-list-element.component.html","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-list-element/collection-search-result/collection-admin-search-result-list-element.component.html","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-grid-element/item-search-result/item-admin-search-result-grid-element.component.html","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-grid-element/item-search-result/item-admin-search-result-grid-element.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-grid-element/community-search-result/community-admin-search-result-grid-element.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-grid-element/collection-search-result/collection-admin-search-result-grid-element.component.ts","webpack:///src/app/+admin/admin-search-page/admin-search.module.ts","webpack:///src/app/+admin/admin.module.ts","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-grid-element/community-search-result/community-admin-search-result-grid-element.component.html","webpack:///src/app/+admin/admin-search-page/admin-search-results/admin-search-result-grid-element/collection-search-result/collection-admin-search-result-grid-element.component.html","webpack:///src/app/+admin/admin-routing-paths.ts","webpack:///src/app/shared/pagination/pagination.utils.ts","webpack:///src/app/+admin/admin-registries/metadata-registry/metadata-schema-form/metadata-schema-form.component.html","webpack:///src/app/+admin/admin-registries/metadata-registry/metadata-schema-form/metadata-schema-form.component.ts","webpack:///src/app/+admin/admin-registries/metadata-registry/metadata-registry.component.html","webpack:///src/app/+admin/admin-registries/metadata-registry/metadata-registry.component.ts","webpack:///src/app/+admin/admin-registries/metadata-schema/metadata-field-form/metadata-field-form.component.html","webpack:///src/app/+admin/admin-registries/metadata-schema/metadata-field-form/metadata-field-form.component.ts","webpack:///src/app/+admin/admin-registries/metadata-schema/metadata-schema.component.html","webpack:///src/app/+admin/admin-registries/metadata-schema/metadata-schema.component.ts","webpack:///src/app/+admin/admin-registries/admin-registries-routing.module.ts","webpack:///src/app/+admin/admin-registries/admin-registries.module.ts"],"names":["BITSTREAMFORMATS_MODULE_PATH","getBitstreamFormatsModuleRoute","toString","BitstreamFormatsResolver","bitstreamFormatDataService","route","state","this","findById","params","id","pipe","g","FormatFormComponent","EditBitstreamFormatComponent","dynamicFormService","translateService","router","bitstreamFormat","updatedFormat","EventEmitter","supportLevelOptions","label","Known","value","Unknown","Supported","arrayElementLayout","grid","group","arrayInputElementLayout","host","formModel","name","hint","required","validators","errorMessages","options","groupFactory","placeholder","initValues","forEach","fieldModel","extensions","extenstions","formArray","i","length","insertGroup","updatedBitstreamFormat","Object","assign","groups","get","push","emit","navigate","notificationService","bitstreamFormatRD$","data","map","updateBitstreamFormat","subscribe","response","hasSucceeded","success","error","updateFormat","AddBitstreamFormatComponent","BitstreamFormatsComponent","BitstreamFormatsModule","BitstreamFormatsRoutingModule","notificationsService","bitstreamFormatService","paginationService","config","elementsPerPage","pageConfig","pageSize","clearBitStreamFormatRequests","getSelectedBitstreamFormats","take","formats","tasks$","format","zip","results","successResponses","filter","result","failedResponses","showNotification","deselectAll","resetPage","deselectAllBitstreamFormats","bitstreamFormats","find","selectedFormat","event","target","checked","selectBitstreamFormat","deselectBitstreamFormat","amount","prefix","suffix","content","head","getFindListOptions","switchMap","findListOptions","findAll","clearPagination","createBitstreamFormat","forChild","path","component","resolve","breadcrumb","breadcrumbKey","MetadataImportPageComponent","AdminSearchPageComponent","AdminWorkflowPageComponent","AdminCurationTasksComponent","AdminRoutingModule","location","translate","scriptDataService","file","fileObject","back","parameterValues","invoke","rd","title","payload","navigateByUrl","processId","setFile","context","AdminSearch","AdminWorkflowSearch","loadChildren","then","m","AdminRegistriesModule","WorkflowItemAdminWorkflowActionsComponent","wfi","WorkflowItemSearchResultAdminWorkflowGridElementComponent","componentFactoryResolver","linkService","truncatableService","themeService","bitstreamDataService","super","dso","resolveLink","item$","item","componentFactory","resolveComponentFactory","getComponent","viewContainerRef","listableObjectDirective","clear","componentRef","createComponent","badges","nativeElement","buttons","instance","object","index","linkType","listID","changeDetectorRef","detectChanges","getRenderTypes","GridElement","getThemeName","WorkflowItemSearchResultAdminWorkflowListElementComponent","AdminWorkflowModuleModule","ENTRY_COMPONENTS","dsoNameService","ListElement","ngModule","providers","provide","withEntryComponents","ItemAdminSearchResultListElementComponent","ItemAdminSearchResultActionsComponent","CommunityAdminSearchResultListElementComponent","CollectionAdminSearchResultListElementComponent","getEditRoute","editPath","uuid","ItemAdminSearchResultGridElementComponent","CommunityAdminSearchResultGridElementComponent","CollectionAdminSearchResultGridElementComponent","AdminSearchModule","AdminModule","AccessControlModule","REGISTRIES_MODULE_PATH","getRegistriesModuleRoute","toFindListOptions","pagination","original","currentPage","MetadataSchemaFormComponent","registryService","formBuilderService","formId","messagePrefix","formLayout","namespace","submitForm","combineLatest","pattern","formGroup","createFormGroup","getActiveMetadataSchema","schema","patchValue","metadatadataschemagroup","cancelEditMetadataSchema","clearMetadataSchemaRequests","values","createOrUpdateMetadataSchema","newSchema","updatedSchema","clearFields","onCancel","onSubmit","MetadataRegistryComponent","needsUpdate$","BehaviorSubject","updateSchemas","metadataSchemas","update","getCurrentPagination","currentPagination","getMetadataSchemas","next","getActiveSchema","activeSchema","editMetadataSchema","selectMetadataSchema","deselectMetadataSchema","getSelectedMetadataSchemas","schemas","selectedSchema","deleteMetadataSchema","responses","hasFailed","deselectAllMetadataSchema","forceUpdateSchemas","MetadataFieldFormComponent","element","qualifier","scopeNote","scopenote","getActiveMetadataField","field","metadatadatafieldgroup","cancelEditMetadataField","createMetadataField","metadataSchema","newField","updateMetadataField","updatedField","MetadataSchemaComponent","AdminRegistriesRoutingModule","pageSizeOptions","initialize","metadataSchema$","getMetadataSchemaByPrefix","schemaName","updateFields","metadataFields$","getMetadataFieldsBySchema","clearMetadataFieldRequests","getActiveField","activeField","editMetadataField","selectMetadataField","deselectMetadataField","getSelectedMetadataFields","fields","selectedField","deleteMetadataField","deselectAllMetadataField","forceUpdateFields","children"],"mappings":"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","file":"x","sourcesContent":["import { URLCombiner } from '../../core/url-combiner/url-combiner';\nimport { getRegistriesModuleRoute } from '../admin-routing-paths';\n\nexport const BITSTREAMFORMATS_MODULE_PATH = 'bitstream-formats';\n\nexport function getBitstreamFormatsModuleRoute() {\n  return new URLCombiner(getRegistriesModuleRoute(), BITSTREAMFORMATS_MODULE_PATH).toString();\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { BitstreamFormat } from '../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatDataService } from '../../../core/data/bitstream-format-data.service';\nimport { getFirstCompletedRemoteData } from '../../../core/shared/operators';\n\n/**\n * This class represents a resolver that requests a specific bitstreamFormat before the route is activated\n */\n@Injectable()\nexport class BitstreamFormatsResolver implements Resolve<RemoteData<BitstreamFormat>> {\n  constructor(private bitstreamFormatDataService: BitstreamFormatDataService) {\n  }\n\n  /**\n   * Method for resolving an bitstreamFormat based on the parameters in the current route\n   * @param {ActivatedRouteSnapshot} route The current ActivatedRouteSnapshot\n   * @param {RouterStateSnapshot} state The current RouterStateSnapshot\n   * @returns Observable<<RemoteData<BitstreamFormat>> Emits the found bitstreamFormat based on the parameters in the current route,\n   * or an error if something went wrong\n   */\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<RemoteData<BitstreamFormat>> {\n    return this.bitstreamFormatDataService.findById(route.params.id)\n      .pipe(\n        getFirstCompletedRemoteData()\n      );\n  }\n}\n","<ds-form *ngIf=\"formModel\"\n         [formId]=\"'comcol-form-id'\"\n         [formModel]=\"formModel\" (submitForm)=\"onSubmit()\" (cancel)=\"onCancel()\"></ds-form>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { BitstreamFormat } from '../../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatSupportLevel } from '../../../../core/shared/bitstream-format-support-level';\nimport {\n  DynamicCheckboxModel,\n  DynamicFormArrayModel,\n  DynamicFormControlLayout,\n  DynamicFormControlModel,\n  DynamicFormService,\n  DynamicInputModel,\n  DynamicSelectModel,\n  DynamicTextAreaModel\n} from '@ng-dynamic-forms/core';\nimport { Router } from '@angular/router';\nimport { hasValue, isEmpty } from '../../../../shared/empty.util';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getBitstreamFormatsModuleRoute } from '../../admin-registries-routing-paths';\n\n/**\n * The component responsible for rendering the form to create/edit a bitstream format\n */\n@Component({\n  selector: 'ds-bitstream-format-form',\n  templateUrl: './format-form.component.html'\n})\nexport class FormatFormComponent implements OnInit {\n\n  /**\n   * The current bitstream format\n   * This can either be and existing one or a new one\n   */\n  @Input() bitstreamFormat: BitstreamFormat = new BitstreamFormat();\n\n  /**\n   * EventEmitter that will emit the updated bitstream format\n   */\n  @Output() updatedFormat: EventEmitter<BitstreamFormat> = new EventEmitter<BitstreamFormat>();\n\n  /**\n   * The different supported support level of the bitstream format\n   */\n  supportLevelOptions = [{label: BitstreamFormatSupportLevel.Known, value: BitstreamFormatSupportLevel.Known},\n    {label: BitstreamFormatSupportLevel.Unknown, value: BitstreamFormatSupportLevel.Unknown},\n    {label: BitstreamFormatSupportLevel.Supported, value: BitstreamFormatSupportLevel.Supported}];\n\n  /**\n   * Styling element for repeatable field\n   */\n  arrayElementLayout: DynamicFormControlLayout = {\n    grid: {\n      group: 'form-row',\n    },\n  };\n\n  /**\n   * Styling element for element of repeatable field\n   */\n  arrayInputElementLayout: DynamicFormControlLayout = {\n    grid: {\n      host: 'col'\n    }\n  };\n\n  /**\n   * The form model representing the bitstream format\n   */\n  formModel: DynamicFormControlModel[] = [\n    new DynamicInputModel({\n      id: 'shortDescription',\n      name: 'shortDescription',\n      label: 'admin.registries.bitstream-formats.edit.shortDescription.label',\n      hint: 'admin.registries.bitstream-formats.edit.shortDescription.hint',\n      required: true,\n      validators: {\n        required: null\n      },\n      errorMessages: {\n        required: 'Please enter a name for this bitstream format'\n      },\n    }),\n    new DynamicInputModel({\n      id: 'mimetype',\n      name: 'mimetype',\n      label: 'admin.registries.bitstream-formats.edit.mimetype.label',\n      hint: 'admin.registries.bitstream-formats.edit.mimetype.hint',\n\n    }),\n    new DynamicTextAreaModel({\n      id: 'description',\n      name: 'description',\n      label: 'admin.registries.bitstream-formats.edit.description.label',\n      hint: 'admin.registries.bitstream-formats.edit.description.hint',\n\n    }),\n    new DynamicSelectModel({\n      id: 'supportLevel',\n      name: 'supportLevel',\n      options: this.supportLevelOptions,\n      label: 'admin.registries.bitstream-formats.edit.supportLevel.label',\n      hint: 'admin.registries.bitstream-formats.edit.supportLevel.hint',\n      value: this.supportLevelOptions[0].value\n\n    }),\n    new DynamicCheckboxModel({\n      id: 'internal',\n      name: 'internal',\n      label: 'Internal',\n      hint: 'admin.registries.bitstream-formats.edit.internal.hint',\n    }),\n    new DynamicFormArrayModel({\n      id: 'extensions',\n      name: 'extensions',\n      label: 'admin.registries.bitstream-formats.edit.extensions.label',\n      groupFactory: () => [\n        new DynamicInputModel({\n          id: 'extension',\n          placeholder: 'admin.registries.bitstream-formats.edit.extensions.placeholder',\n        }, this.arrayInputElementLayout)\n      ]\n    }, this.arrayElementLayout),\n  ];\n\n  constructor(private dynamicFormService: DynamicFormService,\n              private translateService: TranslateService,\n              private router: Router) {\n\n  }\n\n  ngOnInit(): void {\n\n    this.initValues();\n  }\n\n  /**\n   * Initializes the form based on the provided bitstream format\n   */\n  initValues() {\n    this.formModel.forEach(\n      (fieldModel: DynamicFormControlModel) => {\n        if (fieldModel.name === 'extensions') {\n          if (hasValue(this.bitstreamFormat.extensions)) {\n            const extenstions = this.bitstreamFormat.extensions;\n            const formArray = (fieldModel as DynamicFormArrayModel);\n            for (let i = 0; i < extenstions.length; i++) {\n              formArray.insertGroup(i).group[0] = new DynamicInputModel({\n                id: `extension-${i}`,\n                value: extenstions[i]\n              }, this.arrayInputElementLayout);\n            }\n          }\n        } else {\n          if (hasValue(this.bitstreamFormat[fieldModel.name])) {\n            (fieldModel as DynamicInputModel).value = this.bitstreamFormat[fieldModel.name];\n          }\n        }\n      });\n  }\n\n  /**\n   * Creates an updated bistream format based on the current values in the form\n   * Emits the updated bitstream format trouhg the updatedFormat emitter\n   */\n  onSubmit() {\n    const updatedBitstreamFormat = Object.assign(new BitstreamFormat(),\n      {\n        id: this.bitstreamFormat.id\n      });\n\n    this.formModel.forEach(\n      (fieldModel: DynamicFormControlModel) => {\n        if (fieldModel.name === 'extensions') {\n          const formArray = (fieldModel as DynamicFormArrayModel);\n          const extensions = [];\n          for (let i = 0; i < formArray.groups.length; i++) {\n            const value = (formArray.get(i).get(0) as DynamicInputModel).value;\n            if (!isEmpty(value)) {\n              extensions.push((formArray.get(i).get(0) as DynamicInputModel).value);\n            }\n          }\n          updatedBitstreamFormat.extensions = extensions;\n        } else {\n          updatedBitstreamFormat[fieldModel.name] = (fieldModel as DynamicInputModel).value;\n        }\n      });\n    this.updatedFormat.emit(updatedBitstreamFormat);\n  }\n\n  /**\n   * Cancels the edit/create action of the bitstream format and navigates back to the bitstream format registry\n   */\n  onCancel() {\n    this.router.navigate([getBitstreamFormatsModuleRoute()]);\n  }\n}\n","import { map } from 'rxjs/operators';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Component, OnInit } from '@angular/core';\nimport { RemoteData } from '../../../../core/data/remote-data';\nimport { BitstreamFormat } from '../../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatDataService } from '../../../../core/data/bitstream-format-data.service';\nimport { NotificationsService } from '../../../../shared/notifications/notifications.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getBitstreamFormatsModuleRoute } from '../../admin-registries-routing-paths';\nimport { getFirstCompletedRemoteData } from '../../../../core/shared/operators';\n\n/**\n * This component renders the edit page of a bitstream format.\n * The route parameter 'id' is used to request the bitstream format.\n */\n@Component({\n  selector: 'ds-edit-bitstream-format',\n  templateUrl: './edit-bitstream-format.component.html',\n})\nexport class EditBitstreamFormatComponent implements OnInit {\n\n  /**\n   * The bitstream format wrapped in a remote-data object\n   */\n  bitstreamFormatRD$: Observable<RemoteData<BitstreamFormat>>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private notificationService: NotificationsService,\n    private translateService: TranslateService,\n    private bitstreamFormatDataService: BitstreamFormatDataService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.bitstreamFormatRD$ = this.route.data.pipe(\n      map((data) => data.bitstreamFormat as RemoteData<BitstreamFormat>)\n    );\n  }\n\n  /**\n   * Updates the bitstream format based on the provided bitstream format emitted by the form.\n   * When successful, a success notification will be shown and the user will be navigated back to the overview page.\n   * When failed, an error  notification will be shown.\n   */\n  updateFormat(bitstreamFormat: BitstreamFormat) {\n    this.bitstreamFormatDataService.updateBitstreamFormat(bitstreamFormat).pipe(\n      getFirstCompletedRemoteData(),\n    ).subscribe((response: RemoteData<BitstreamFormat>) => {\n        if (response.hasSucceeded) {\n          this.notificationService.success(this.translateService.get('admin.registries.bitstream-formats.edit.success.head'),\n            this.translateService.get('admin.registries.bitstream-formats.edit.success.content'));\n          this.router.navigate([getBitstreamFormatsModuleRoute()]);\n        } else {\n          this.notificationService.error('admin.registries.bitstream-formats.edit.failure.head',\n            'admin.registries.bitstream-formats.create.edit.content');\n        }\n      }\n    );\n  }\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-12 mb-4\">\n            <h2 id=\"sub-header\"\n                class=\"border-bottom mb-2\">{{'admin.registries.bitstream-formats.edit.head' | translate:{format: (bitstreamFormatRD$ | async)?.payload.shortDescription} }}</h2>\n\n             <ds-bitstream-format-form [bitstreamFormat]=\"(bitstreamFormatRD$ | async)?.payload\" (updatedFormat)=\"updateFormat($event)\"></ds-bitstream-format-form>\n\n        </div>\n    </div>\n</div>","<div class=\"container\">\n  <div class=\"bitstream-formats row\">\n    <div class=\"col-12\">\n\n      <h2 id=\"header\" class=\"border-bottom pb-2 \">{{'admin.registries.bitstream-formats.head' | translate}}</h2>\n\n      <p id=\"description\">{{'admin.registries.bitstream-formats.description' | translate}}</p>\n      <p id=\"create-new\" class=\"mb-2\"><a [routerLink]=\"'add'\" class=\"btn btn-success\">{{'admin.registries.bitstream-formats.create.new' | translate}}</a></p>\n\n\n      <ds-pagination\n        *ngIf=\"(bitstreamFormats | async)?.payload?.totalElements > 0\"\n        [paginationOptions]=\"pageConfig\"\n        [pageInfoState]=\"(bitstreamFormats | async)?.payload\"\n        [collectionSize]=\"(bitstreamFormats | async)?.payload?.totalElements\"\n        [hideGear]=\"true\"\n        [hidePagerWhenSinglePage]=\"true\">\n        <div class=\"table-responsive\">\n          <table id=\"formats\" class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">{{'admin.registries.bitstream-formats.table.name' | translate}}</th>\n                <th scope=\"col\">{{'admin.registries.bitstream-formats.table.mimetype' | translate}}</th>\n                <th scope=\"col\">{{'admin.registries.bitstream-formats.table.supportLevel.head' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let bitstreamFormat of (bitstreamFormats | async)?.payload?.page\">\n                <td>\n                  <label>\n                    <input type=\"checkbox\"\n                           [checked]=\"isSelected(bitstreamFormat) | async\"\n                           (change)=\"selectBitStreamFormat(bitstreamFormat, $event)\"\n                    >\n                  </label>\n                </td>\n                <td><a [routerLink]=\"['/admin/registries/bitstream-formats', bitstreamFormat.id, 'edit']\">{{bitstreamFormat.shortDescription}}</a></td>\n                <td><a [routerLink]=\"['/admin/registries/bitstream-formats', bitstreamFormat.id, 'edit']\">{{bitstreamFormat.mimetype}} <span *ngIf=\"bitstreamFormat.internal\">({{'admin.registries.bitstream-formats.table.internal' | translate}})</span></a></td>\n                <td><a [routerLink]=\"['/admin/registries/bitstream-formats', bitstreamFormat.id, 'edit']\">{{'admin.registries.bitstream-formats.table.supportLevel.'+bitstreamFormat.supportLevel | translate}}</a></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </ds-pagination>\n      <div *ngIf=\"(bitstreamFormats | async)?.payload?.totalElements == 0\" class=\"alert alert-info\" role=\"alert\">\n        {{'admin.registries.bitstream-formats.no-items' | translate}}\n      </div>\n\n      <div>\n        <button *ngIf=\"(bitstreamFormats | async)?.payload?.page?.length > 0\" class=\"btn btn-primary deselect\" (click)=\"deselectAll()\">{{'admin.registries.bitstream-formats.table.deselect-all' | translate}}</button>\n        <button *ngIf=\"(bitstreamFormats | async)?.payload?.page?.length > 0\" type=\"submit\" class=\"btn btn-danger float-right\" (click)=\"deleteFormats()\">{{'admin.registries.bitstream-formats.table.delete' | translate}}</button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { combineLatest as observableCombineLatest, Observable, zip } from 'rxjs';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { PaginatedList } from '../../../core/data/paginated-list.model';\nimport { PaginationComponentOptions } from '../../../shared/pagination/pagination-component-options.model';\nimport { BitstreamFormat } from '../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatDataService } from '../../../core/data/bitstream-format-data.service';\nimport { FindListOptions } from '../../../core/data/request.models';\nimport { map, switchMap, take } from 'rxjs/operators';\nimport { hasValue } from '../../../shared/empty.util';\nimport { NotificationsService } from '../../../shared/notifications/notifications.service';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { NoContent } from '../../../core/shared/NoContent.model';\nimport { PaginationService } from '../../../core/pagination/pagination.service';\n\n/**\n * This component renders a list of bitstream formats\n */\n@Component({\n  selector: 'ds-bitstream-formats',\n  templateUrl: './bitstream-formats.component.html'\n})\nexport class BitstreamFormatsComponent implements OnInit, OnDestroy {\n\n  /**\n   * A paginated list of bitstream formats to be shown on the page\n   */\n  bitstreamFormats: Observable<RemoteData<PaginatedList<BitstreamFormat>>>;\n\n  /**\n   * The current pagination configuration for the page used by the FindAll method\n   * Currently simply renders all bitstream formats\n   */\n  config: FindListOptions = Object.assign(new FindListOptions(), {\n    elementsPerPage: 20\n  });\n\n  /**\n   * The current pagination configuration for the page\n   * Currently simply renders all bitstream formats\n   */\n  pageConfig: PaginationComponentOptions = Object.assign(new PaginationComponentOptions(), {\n    id: 'rbp',\n    pageSize: 20\n  });\n\n  constructor(private notificationsService: NotificationsService,\n              private router: Router,\n              private translateService: TranslateService,\n              private bitstreamFormatService: BitstreamFormatDataService,\n              private paginationService: PaginationService,\n              ) {\n  }\n\n\n  /**\n   * Deletes the currently selected formats from the registry and updates the presented list\n   */\n  deleteFormats() {\n    this.bitstreamFormatService.clearBitStreamFormatRequests().subscribe();\n    this.bitstreamFormatService.getSelectedBitstreamFormats().pipe(take(1)).subscribe(\n      (formats) => {\n        const tasks$ = [];\n        for (const format of formats) {\n          if (hasValue(format.id)) {\n            tasks$.push(this.bitstreamFormatService.delete(format.id).pipe(map((response: RemoteData<NoContent>) => response.hasSucceeded)));\n          }\n        }\n        zip(...tasks$).subscribe((results: boolean[]) => {\n          const successResponses = results.filter((result: boolean) => result);\n          const failedResponses = results.filter((result: boolean) => !result);\n          if (successResponses.length > 0) {\n            this.showNotification(true, successResponses.length);\n          }\n          if (failedResponses.length > 0) {\n            this.showNotification(false, failedResponses.length);\n          }\n\n          this.deselectAll();\n\n          this.paginationService.resetPage(this.pageConfig.id);\n        });\n      }\n    );\n  }\n\n  /**\n   * Deselects all selecetd bitstream formats\n   */\n  deselectAll() {\n    this.bitstreamFormatService.deselectAllBitstreamFormats();\n  }\n\n  /**\n   * Checks whether a given bitstream format is selected in the list (checkbox)\n   * @param bitstreamFormat\n   */\n  isSelected(bitstreamFormat: BitstreamFormat): Observable<boolean> {\n    return this.bitstreamFormatService.getSelectedBitstreamFormats().pipe(\n      map((bitstreamFormats: BitstreamFormat[]) => {\n        return bitstreamFormats.find((selectedFormat) => selectedFormat.id === bitstreamFormat.id) != null;\n      })\n    );\n  }\n\n  /**\n   * Selects or deselects a bitstream format based on the checkbox state\n   * @param bitstreamFormat\n   * @param event\n   */\n  selectBitStreamFormat(bitstreamFormat: BitstreamFormat, event) {\n    event.target.checked ?\n      this.bitstreamFormatService.selectBitstreamFormat(bitstreamFormat) :\n      this.bitstreamFormatService.deselectBitstreamFormat(bitstreamFormat);\n  }\n\n  /**\n   * Show notifications for an amount of deleted bitstream formats\n   * @param success   Whether or not the notification should be a success message (error message when false)\n   * @param amount    The amount of deleted bitstream formats\n   */\n  private showNotification(success: boolean, amount: number) {\n    const prefix = 'admin.registries.bitstream-formats.delete';\n    const suffix = success ? 'success' : 'failure';\n\n    const messages = observableCombineLatest(\n      this.translateService.get(`${prefix}.${suffix}.head`),\n      this.translateService.get(`${prefix}.${suffix}.amount`, {amount: amount})\n    );\n    messages.subscribe(([head, content]) => {\n\n      if (success) {\n        this.notificationsService.success(head, content);\n      } else {\n        this.notificationsService.error(head, content);\n      }\n    });\n  }\n\n  ngOnInit(): void {\n\n    this.bitstreamFormats = this.paginationService.getFindListOptions(this.pageConfig.id, this.config).pipe(\n      switchMap((findListOptions: FindListOptions) => {\n        return this.bitstreamFormatService.findAll(findListOptions);\n      })\n    );\n  }\n\n\n  ngOnDestroy(): void {\n    this.paginationService.clearPagination(this.pageConfig.id);\n  }\n}\n","import { Router } from '@angular/router';\nimport { Component } from '@angular/core';\nimport { BitstreamFormat } from '../../../../core/shared/bitstream-format.model';\nimport { BitstreamFormatDataService } from '../../../../core/data/bitstream-format-data.service';\nimport { NotificationsService } from '../../../../shared/notifications/notifications.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { getBitstreamFormatsModuleRoute } from '../../admin-registries-routing-paths';\nimport { RemoteData } from '../../../../core/data/remote-data';\nimport { getFirstCompletedRemoteData } from '../../../../core/shared/operators';\n\n/**\n * This component renders the page to create a new bitstream format.\n */\n@Component({\n  selector: 'ds-add-bitstream-format',\n  templateUrl: './add-bitstream-format.component.html',\n})\nexport class AddBitstreamFormatComponent {\n\n  constructor(\n    private router: Router,\n    private notificationService: NotificationsService,\n    private translateService: TranslateService,\n    private bitstreamFormatDataService: BitstreamFormatDataService,\n  ) {\n  }\n\n  /**\n   * Creates a new bitstream format based on the provided bitstream format emitted by the form.\n   * When successful, a success notification will be shown and the user will be navigated back to the overview page.\n   * When failed, an error  notification will be shown.\n   * @param bitstreamFormat\n   */\n  createBitstreamFormat(bitstreamFormat: BitstreamFormat) {\n    this.bitstreamFormatDataService.createBitstreamFormat(bitstreamFormat).pipe(\n      getFirstCompletedRemoteData(),\n    ).subscribe((response: RemoteData<BitstreamFormat>) => {\n        if (response.hasSucceeded) {\n          this.notificationService.success(this.translateService.get('admin.registries.bitstream-formats.create.success.head'),\n            this.translateService.get('admin.registries.bitstream-formats.create.success.content'));\n          this.router.navigate([getBitstreamFormatsModuleRoute()]);\n          this.bitstreamFormatDataService.clearBitStreamFormatRequests().subscribe();\n        } else {\n          this.notificationService.error(this.translateService.get('admin.registries.bitstream-formats.create.failure.head'),\n            this.translateService.get('admin.registries.bitstream-formats.create.failure.content'));\n        }\n      }\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { BitstreamFormatsComponent } from './bitstream-formats.component';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { FormatFormComponent } from './format-form/format-form.component';\nimport { EditBitstreamFormatComponent } from './edit-bitstream-format/edit-bitstream-format.component';\nimport { BitstreamFormatsRoutingModule } from './bitstream-formats-routing.module';\nimport { AddBitstreamFormatComponent } from './add-bitstream-format/add-bitstream-format.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule,\n    BitstreamFormatsRoutingModule\n  ],\n  declarations: [\n    BitstreamFormatsComponent,\n    EditBitstreamFormatComponent,\n    AddBitstreamFormatComponent,\n    FormatFormComponent\n  ]\n})\nexport class BitstreamFormatsModule {\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { BitstreamFormatsResolver } from './bitstream-formats.resolver';\nimport { EditBitstreamFormatComponent } from './edit-bitstream-format/edit-bitstream-format.component';\nimport { BitstreamFormatsComponent } from './bitstream-formats.component';\nimport { AddBitstreamFormatComponent } from './add-bitstream-format/add-bitstream-format.component';\nimport { I18nBreadcrumbResolver } from '../../../core/breadcrumbs/i18n-breadcrumb.resolver';\n\nconst BITSTREAMFORMAT_EDIT_PATH = ':id/edit';\nconst BITSTREAMFORMAT_ADD_PATH = 'add';\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: '',\n        component: BitstreamFormatsComponent\n      },\n      {\n        path: BITSTREAMFORMAT_ADD_PATH,\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: AddBitstreamFormatComponent,\n        data: {breadcrumbKey: 'admin.registries.bitstream-formats.create'}\n      },\n      {\n        path: BITSTREAMFORMAT_EDIT_PATH,\n        component: EditBitstreamFormatComponent,\n        resolve: {\n          bitstreamFormat: BitstreamFormatsResolver,\n          breadcrumb: I18nBreadcrumbResolver\n        },\n        data: {breadcrumbKey: 'admin.registries.bitstream-formats.edit'}\n      },\n    ])\n  ],\n  providers: [\n    BitstreamFormatsResolver,\n  ]\n})\nexport class BitstreamFormatsRoutingModule {\n\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-12 mb-4\">\n            <h2 id=\"sub-header\"\n                class=\"border-bottom mb-2\">{{ 'admin.registries.bitstream-formats.create.new' | translate }}</h2>\n\n            <ds-bitstream-format-form (updatedFormat)=\"createBitstreamFormat($event)\"></ds-bitstream-format-form>\n\n        </div>\n    </div>\n</div>","import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { AuthService } from '../../core/auth/auth.service';\nimport { METADATA_IMPORT_SCRIPT_NAME, ScriptDataService } from '../../core/data/processes/script-data.service';\nimport { EPerson } from '../../core/eperson/models/eperson.model';\nimport { ProcessParameter } from '../../process-page/processes/process-parameter.model';\nimport { isNotEmpty } from '../../shared/empty.util';\nimport { NotificationsService } from '../../shared/notifications/notifications.service';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { Process } from '../../process-page/processes/process.model';\nimport { getFirstCompletedRemoteData } from '../../core/shared/operators';\nimport { getProcessDetailRoute } from '../../process-page/process-page-routing.paths';\n\n@Component({\n  selector: 'ds-metadata-import-page',\n  templateUrl: './metadata-import-page.component.html'\n})\n\n/**\n * Component that represents a metadata import page for administrators\n */\nexport class MetadataImportPageComponent {\n\n  /**\n   * The current value of the file\n   */\n  fileObject: File;\n\n  public constructor(private location: Location,\n                     protected translate: TranslateService,\n                     protected notificationsService: NotificationsService,\n                     private scriptDataService: ScriptDataService,\n                     private router: Router) {\n  }\n\n  /**\n   * Set file\n   * @param file\n   */\n  setFile(file) {\n    this.fileObject = file;\n  }\n\n  /**\n   * When return button is pressed go to previous location\n   */\n  public onReturn() {\n    this.location.back();\n  }\n\n  /**\n   * Starts import-metadata script with -f fileName (and the selected file)\n   */\n  public importMetadata() {\n    if (this.fileObject == null) {\n      this.notificationsService.error(this.translate.get('admin.metadata-import.page.error.addFile'));\n    } else {\n      const parameterValues: ProcessParameter[] = [\n        Object.assign(new ProcessParameter(), { name: '-f', value: this.fileObject.name }),\n      ];\n\n      this.scriptDataService.invoke(METADATA_IMPORT_SCRIPT_NAME, parameterValues, [this.fileObject]).pipe(\n        getFirstCompletedRemoteData(),\n      ).subscribe((rd: RemoteData<Process>) => {\n        if (rd.hasSucceeded) {\n          const title = this.translate.get('process.new.notification.success.title');\n          const content = this.translate.get('process.new.notification.success.content');\n          this.notificationsService.success(title, content);\n          if (isNotEmpty(rd.payload)) {\n            this.router.navigateByUrl(getProcessDetailRoute(rd.payload.processId));\n          }\n        } else {\n          const title = this.translate.get('process.new.notification.error.title');\n          const content = this.translate.get('process.new.notification.error.content');\n          this.notificationsService.error(title, content);\n        }\n      });\n    }\n  }\n}\n","import { Component } from '@angular/core';\nimport { Context } from '../../core/shared/context.model';\n\n@Component({\n  selector: 'ds-admin-search-page',\n  templateUrl: './admin-search-page.component.html',\n  styleUrls: ['./admin-search-page.component.scss']\n})\n\n/**\n * Component that represents a search page for administrators\n */\nexport class AdminSearchPageComponent {\n  /**\n   * The context of this page\n   */\n  context: Context = Context.AdminSearch;\n}\n","import { Component } from '@angular/core';\nimport { Context } from '../../core/shared/context.model';\n\n@Component({\n  selector: 'ds-admin-workflow-page',\n  templateUrl: './admin-workflow-page.component.html',\n  styleUrls: ['./admin-workflow-page.component.scss']\n})\n\n/**\n * Component that represents a workflow item search page for administrators\n */\nexport class AdminWorkflowPageComponent {\n  /**\n   * The context of this page\n   */\n  context: Context = Context.AdminWorkflowSearch;\n}\n","import { Component } from '@angular/core';\n\n/**\n * Component responsible for rendering the system wide Curation Task UI\n */\n@Component({\n  selector: 'ds-admin-curation-task',\n  templateUrl: './admin-curation-tasks.component.html',\n})\nexport class AdminCurationTasksComponent {\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { MetadataImportPageComponent } from './admin-import-metadata-page/metadata-import-page.component';\nimport { AdminSearchPageComponent } from './admin-search-page/admin-search-page.component';\nimport { I18nBreadcrumbResolver } from '../core/breadcrumbs/i18n-breadcrumb.resolver';\nimport { AdminWorkflowPageComponent } from './admin-workflow-page/admin-workflow-page.component';\nimport { I18nBreadcrumbsService } from '../core/breadcrumbs/i18n-breadcrumbs.service';\nimport { AdminCurationTasksComponent } from './admin-curation-tasks/admin-curation-tasks.component';\nimport { REGISTRIES_MODULE_PATH } from './admin-routing-paths';\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: REGISTRIES_MODULE_PATH,\n        loadChildren: () => import('./admin-registries/admin-registries.module')\n          .then((m) => m.AdminRegistriesModule),\n      },\n      {\n        path: 'search',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: AdminSearchPageComponent,\n        data: { title: 'admin.search.title', breadcrumbKey: 'admin.search' }\n      },\n      {\n        path: 'workflow',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: AdminWorkflowPageComponent,\n        data: { title: 'admin.workflow.title', breadcrumbKey: 'admin.workflow' }\n      },\n      {\n        path: 'curation-tasks',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: AdminCurationTasksComponent,\n        data: { title: 'admin.curation-tasks.title', breadcrumbKey: 'admin.curation-tasks' }\n      },\n      {\n        path: 'metadata-import',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        component: MetadataImportPageComponent,\n        data: { title: 'admin.metadata-import.title', breadcrumbKey: 'admin.metadata-import' }\n      },\n    ])\n  ],\n  providers: [\n    I18nBreadcrumbResolver,\n    I18nBreadcrumbsService\n  ]\n})\nexport class AdminRoutingModule {\n\n}\n","<div class=\"container\">\n  <h2 id=\"header\">{{'admin.metadata-import.page.header' | translate}}</h2>\n  <p>{{'admin.metadata-import.page.help' | translate}}</p>\n\n  <ds-file-dropzone-no-uploader\n    (onFileAdded)=\"setFile($event)\"\n    [dropMessageLabel]=\"'admin.metadata-import.page.dropMsg'\"\n    [dropMessageLabelReplacement]=\"'admin.metadata-import.page.dropMsgReplace'\">\n  </ds-file-dropzone-no-uploader>\n\n  <button class=\"btn btn-secondary\" id=\"backButton\"\n          (click)=\"this.onReturn();\">{{'admin.metadata-import.page.button.return' | translate}}</button>\n  <button class=\"btn btn-primary\" id=\"proceedButton\"\n          (click)=\"this.importMetadata();\">{{'admin.metadata-import.page.button.proceed' | translate}}</button>\n</div>\n","<ds-configuration-search-page configuration=\"administrativeView\" [context]=\"context\"></ds-configuration-search-page>\n","<ds-configuration-search-page configuration=\"workflowAdmin\" [context]=\"context\"></ds-configuration-search-page>\n","<div class=\"container\">\n    <h2>{{'admin.curation-tasks.header' |translate }}</h2>\n    <ds-curation-form></ds-curation-form>\n</div>\n","<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-light my-1 delete-link\" [routerLink]=\"[getDeleteRoute()]\" [title]=\"'admin.workflow.item.delete' | translate\">\n    <i class=\"fa fa-trash\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.workflow.item.delete\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-light my-1 send-back-link\" [routerLink]=\"[getSendBackRoute()]\" [title]=\"'admin.workflow.item.send-back' | translate\">\n    <i class=\"fa fa-hand-point-left\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.workflow.item.send-back\" | translate}}</span>\n</a>\n","import { Component, Input } from '@angular/core';\nimport { WorkflowItem } from '../../../core/submission/models/workflowitem.model';\nimport {\n    getWorkflowItemSendBackRoute,\n    getWorkflowItemDeleteRoute\n} from '../../../+workflowitems-edit-page/workflowitems-edit-page-routing-paths';\n\n@Component({\n  selector: 'ds-workflow-item-admin-workflow-actions-element',\n  styleUrls: ['./workflow-item-admin-workflow-actions.component.scss'],\n  templateUrl: './workflow-item-admin-workflow-actions.component.html'\n})\n/**\n * The component for displaying the actions for a list element for an item on the admin workflow search page\n */\nexport class WorkflowItemAdminWorkflowActionsComponent {\n\n  /**\n   * The workflow item to perform the actions on\n   */\n  @Input() public wfi: WorkflowItem;\n\n  /**\n   * Whether or not to use small buttons\n   */\n  @Input() public small: boolean;\n\n  /**\n   * Returns the path to the delete page of this workflow item\n   */\n  getDeleteRoute(): string {\n\n    return getWorkflowItemDeleteRoute(this.wfi.id);\n  }\n\n  /**\n   * Returns the path to the send back page of this workflow item\n   */\n  getSendBackRoute(): string {\n    return getWorkflowItemSendBackRoute(this.wfi.id);\n  }\n}\n","<ng-template dsListableObject>\n</ng-template>\n<div #badges class=\"position-absolute ml-1\">\n    <div class=\"workflow-badge\">\n        <span class=\"badge badge-info\">{{ \"admin.workflow.item.workflow\" | translate }}</span>\n    </div>\n</div>\n<ul #buttons class=\"list-group list-group-flush\">\n    <li class=\"list-group-item\">\n        <ds-workflow-item-admin-workflow-actions-element *ngIf=\"object\" class=\"d-flex justify-content-between\" [wfi]=\"dso\" [small]=\"true\"></ds-workflow-item-admin-workflow-actions-element>\n    </li>\n</ul>\n","import { Component, ComponentFactoryResolver, ElementRef, ViewChild } from '@angular/core';\nimport { Item } from '../../../../../core/shared/item.model';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport {\n  getListableObjectComponent,\n  listableObjectComponent\n} from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { SearchResultGridElementComponent } from '../../../../../shared/object-grid/search-result-grid-element/search-result-grid-element.component';\nimport { TruncatableService } from '../../../../../shared/truncatable/truncatable.service';\nimport { BitstreamDataService } from '../../../../../core/data/bitstream-data.service';\nimport { GenericConstructor } from '../../../../../core/shared/generic-constructor';\nimport { ListableObjectDirective } from '../../../../../shared/object-collection/shared/listable-object/listable-object.directive';\nimport { WorkflowItem } from '../../../../../core/submission/models/workflowitem.model';\nimport { Observable } from 'rxjs';\nimport { LinkService } from '../../../../../core/cache/builders/link.service';\nimport { followLink } from '../../../../../shared/utils/follow-link-config.model';\nimport { RemoteData } from '../../../../../core/data/remote-data';\nimport {\n  getAllSucceededRemoteData,\n  getRemoteDataPayload\n} from '../../../../../core/shared/operators';\nimport { take } from 'rxjs/operators';\nimport { WorkflowItemSearchResult } from '../../../../../shared/object-collection/shared/workflow-item-search-result.model';\nimport { ThemeService } from '../../../../../shared/theme-support/theme.service';\n\n@listableObjectComponent(WorkflowItemSearchResult, ViewMode.GridElement, Context.AdminWorkflowSearch)\n@Component({\n  selector: 'ds-workflow-item-search-result-admin-workflow-grid-element',\n  styleUrls: ['./workflow-item-search-result-admin-workflow-grid-element.component.scss'],\n  templateUrl: './workflow-item-search-result-admin-workflow-grid-element.component.html'\n})\n/**\n * The component for displaying a grid element for an workflow item on the admin workflow search page\n */\nexport class WorkflowItemSearchResultAdminWorkflowGridElementComponent extends SearchResultGridElementComponent<WorkflowItemSearchResult, WorkflowItem> {\n  /**\n   * Directive used to render the dynamic component in\n   */\n  @ViewChild(ListableObjectDirective, { static: true }) listableObjectDirective: ListableObjectDirective;\n\n  /**\n   * The html child that contains the badges html\n   */\n  @ViewChild('badges', { static: true }) badges: ElementRef;\n\n  /**\n   * The html child that contains the button html\n   */\n  @ViewChild('buttons', { static: true }) buttons: ElementRef;\n\n  /**\n   * The item linked to the workflow item\n   */\n  public item$: Observable<Item>;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private linkService: LinkService,\n    protected truncatableService: TruncatableService,\n    private themeService: ThemeService,\n    protected bitstreamDataService: BitstreamDataService\n  ) {\n    super(truncatableService, bitstreamDataService);\n  }\n\n  /**\n   * Setup the dynamic child component\n   * Initialize the item object from the workflow item\n   */\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.dso = this.linkService.resolveLink(this.dso, followLink('item'));\n    this.item$ = (this.dso.item as Observable<RemoteData<Item>>).pipe(getAllSucceededRemoteData(), getRemoteDataPayload());\n    this.item$.pipe(take(1)).subscribe((item: Item) => {\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.getComponent(item));\n\n        const viewContainerRef = this.listableObjectDirective.viewContainerRef;\n        viewContainerRef.clear();\n\n        const componentRef = viewContainerRef.createComponent(\n          componentFactory,\n          0,\n          undefined,\n          [\n            [this.badges.nativeElement],\n            [this.buttons.nativeElement]\n          ]);\n        (componentRef.instance as any).object = item;\n        (componentRef.instance as any).index = this.index;\n        (componentRef.instance as any).linkType = this.linkType;\n        (componentRef.instance as any).listID = this.listID;\n        componentRef.changeDetectorRef.detectChanges();\n      }\n    );\n  }\n\n  /**\n   * Fetch the component depending on the item's entity type, view mode and context\n   * @returns {GenericConstructor<Component>}\n   */\n  private getComponent(item: Item): GenericConstructor<Component> {\n    return getListableObjectComponent(item.getRenderTypes(), ViewMode.GridElement, undefined, this.themeService.getThemeName());\n  }\n\n}\n","<div class=\"workflow-badge\">\n    <span class=\"badge badge-info\">{{ \"admin.workflow.item.workflow\" | translate }}</span>\n</div>\n<ds-listable-object-component-loader *ngIf=\"item$ | async\"\n                                     [object]=\"item$ | async\"\n                                     [viewMode]=\"viewModes.ListElement\"\n                                     [index]=\"index\"\n                                     [linkType]=\"linkType\"\n                                     [listID]=\"listID\"></ds-listable-object-component-loader>\n<ds-workflow-item-admin-workflow-actions-element [wfi]=\"dso\" [small]=\"false\"></ds-workflow-item-admin-workflow-actions-element>\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\n\nimport { WorkflowItemSearchResultAdminWorkflowGridElementComponent } from './admin-workflow-search-results/admin-workflow-search-result-grid-element/workflow-item/workflow-item-search-result-admin-workflow-grid-element.component';\nimport { WorkflowItemAdminWorkflowActionsComponent } from './admin-workflow-search-results/workflow-item-admin-workflow-actions.component';\nimport { WorkflowItemSearchResultAdminWorkflowListElementComponent } from './admin-workflow-search-results/admin-workflow-search-result-list-element/workflow-item/workflow-item-search-result-admin-workflow-list-element.component';\nimport { AdminWorkflowPageComponent } from './admin-workflow-page.component';\n\nconst ENTRY_COMPONENTS = [\n  // put only entry components that use custom decorator\n  WorkflowItemSearchResultAdminWorkflowListElementComponent,\n  WorkflowItemSearchResultAdminWorkflowGridElementComponent,\n];\n\n@NgModule({\n  imports: [\n    SharedModule.withEntryComponents()\n  ],\n  declarations: [\n    AdminWorkflowPageComponent,\n    WorkflowItemAdminWorkflowActionsComponent,\n    ...ENTRY_COMPONENTS\n  ],\n  exports: [\n    AdminWorkflowPageComponent\n  ]\n})\nexport class AdminWorkflowModuleModule {\n  /**\n   * NOTE: this method allows to resolve issue with components that using a custom decorator\n   * which are not loaded during CSR otherwise\n   */\n  static withEntryComponents() {\n    return {\n      ngModule: SharedModule,\n      providers: ENTRY_COMPONENTS.map((component) => ({provide: component}))\n    };\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { WorkflowItem } from '../../../../../core/submission/models/workflowitem.model';\nimport { Observable } from 'rxjs';\nimport { LinkService } from '../../../../../core/cache/builders/link.service';\nimport { followLink } from '../../../../../shared/utils/follow-link-config.model';\nimport { RemoteData } from '../../../../../core/data/remote-data';\nimport { getAllSucceededRemoteData, getRemoteDataPayload } from '../../../../../core/shared/operators';\nimport { Item } from '../../../../../core/shared/item.model';\nimport { SearchResultListElementComponent } from '../../../../../shared/object-list/search-result-list-element/search-result-list-element.component';\nimport { TruncatableService } from '../../../../../shared/truncatable/truncatable.service';\nimport { WorkflowItemSearchResult } from '../../../../../shared/object-collection/shared/workflow-item-search-result.model';\nimport { DSONameService } from '../../../../../core/breadcrumbs/dso-name.service';\n\n@listableObjectComponent(WorkflowItemSearchResult, ViewMode.ListElement, Context.AdminWorkflowSearch)\n@Component({\n  selector: 'ds-workflow-item-search-result-admin-workflow-list-element',\n  styleUrls: ['./workflow-item-search-result-admin-workflow-list-element.component.scss'],\n  templateUrl: './workflow-item-search-result-admin-workflow-list-element.component.html'\n})\n/**\n * The component for displaying a list element for an workflow item on the admin workflow search page\n */\nexport class WorkflowItemSearchResultAdminWorkflowListElementComponent extends SearchResultListElementComponent<WorkflowItemSearchResult, WorkflowItem> implements OnInit {\n\n  /**\n   * The item linked to the workflow item\n   */\n  public item$: Observable<Item>;\n\n  constructor(private linkService: LinkService,\n              protected truncatableService: TruncatableService,\n              protected dsoNameService: DSONameService\n  ) {\n    super(truncatableService, dsoNameService);\n  }\n\n  /**\n   * Initialize the item object from the workflow item\n   */\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.dso = this.linkService.resolveLink(this.dso, followLink('item'));\n    this.item$ = (this.dso.item as Observable<RemoteData<Item>>).pipe(getAllSucceededRemoteData(), getRemoteDataPayload());\n  }\n}\n","<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-secondary my-1 move-link\" [routerLink]=\"[getMoveRoute()]\" [title]=\"'admin.search.item.move' | translate\">\n  <i class=\"fa fa-arrow-circle-right\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.move\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" *ngIf=\"item && item.isDiscoverable\" class=\"btn btn-secondary my-1 private-link\" [routerLink]=\"[getPrivateRoute()]\" [title]=\"'admin.search.item.make-private' | translate\">\n    <i class=\"fa fa-eye-slash\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.make-private\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" *ngIf=\"item && !item.isDiscoverable\" class=\"btn btn-secondary my-1 public-link\" [routerLink]=\"[getPublicRoute()]\" [title]=\"'admin.search.item.make-public' | translate\">\n    <i class=\"fa fa-eye\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.make-public\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-secondary my-1 edit-link\" [routerLink]=\"[getEditRoute()]\" [title]=\"'admin.search.item.edit' | translate\">\n  <i class=\"fa fa-edit\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.edit\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" *ngIf=\"item && !item.isWithdrawn\" class=\"btn btn-warning t my-1 withdraw-link\" [routerLink]=\"[getWithdrawRoute()]\" [title]=\"'admin.search.item.withdraw' | translate\">\n  <i class=\"fa fa-ban\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.withdraw\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" *ngIf=\"item && item.isWithdrawn\" class=\"btn btn-warning my-1 reinstate-link\" [routerLink]=\"[getReinstateRoute()]\" [title]=\"'admin.search.item.reinstate' | translate\">\n  <i class=\"fa fa-undo\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.reinstate\" | translate}}</span>\n</a>\n\n<a [ngClass]=\"{'btn-sm': small}\" class=\"btn btn-danger my-1 delete-link\" [routerLink]=\"[getDeleteRoute()]\" [title]=\"'admin.search.item.delete' | translate\">\n    <i class=\"fa fa-trash\"></i><span *ngIf=\"!small\" class=\"d-none d-sm-inline\"> {{\"admin.search.item.delete\" | translate}}</span>\n</a>\n\n","import { Component, Input } from '@angular/core';\nimport { Item } from '../../../core/shared/item.model';\nimport { URLCombiner } from '../../../core/url-combiner/url-combiner';\nimport { getItemEditRoute } from '../../../+item-page/item-page-routing-paths';\nimport {\n  ITEM_EDIT_MOVE_PATH,\n  ITEM_EDIT_DELETE_PATH,\n  ITEM_EDIT_PUBLIC_PATH,\n  ITEM_EDIT_PRIVATE_PATH,\n  ITEM_EDIT_REINSTATE_PATH,\n  ITEM_EDIT_WITHDRAW_PATH\n} from '../../../+item-page/edit-item-page/edit-item-page.routing-paths';\n\n@Component({\n  selector: 'ds-item-admin-search-result-actions-element',\n  styleUrls: ['./item-admin-search-result-actions.component.scss'],\n  templateUrl: './item-admin-search-result-actions.component.html'\n})\n/**\n * The component for displaying the actions for a list element for an item search result on the admin search page\n */\nexport class ItemAdminSearchResultActionsComponent {\n  /**\n   * The item to perform the actions on\n   */\n  @Input() public item: Item;\n\n  /**\n   * Whether or not to use small buttons\n   */\n  @Input() public small: boolean;\n\n  /**\n   * Returns the path to the edit page of this item\n   */\n  getEditRoute(): string {\n    return getItemEditRoute(this.item);\n  }\n\n  /**\n   * Returns the path to the move page of this item\n   */\n  getMoveRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_MOVE_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the delete page of this item\n   */\n  getDeleteRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_DELETE_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the withdraw page of this item\n   */\n  getWithdrawRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_WITHDRAW_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the reinstate page of this item\n   */\n  getReinstateRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_REINSTATE_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the page where the user can make this item private\n   */\n  getPrivateRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_PRIVATE_PATH).toString();\n  }\n\n  /**\n   * Returns the path to the page where the user can make this item public\n   */\n  getPublicRoute(): string {\n    return new URLCombiner(this.getEditRoute(), ITEM_EDIT_PUBLIC_PATH).toString();\n  }\n}\n","import { Component } from '@angular/core';\nimport { Item } from '../../../../../core/shared/item.model';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { ItemSearchResult } from '../../../../../shared/object-collection/shared/item-search-result.model';\nimport { SearchResultListElementComponent } from '../../../../../shared/object-list/search-result-list-element/search-result-list-element.component';\n\n@listableObjectComponent(ItemSearchResult, ViewMode.ListElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-item-admin-search-result-list-element',\n  styleUrls: ['./item-admin-search-result-list-element.component.scss'],\n  templateUrl: './item-admin-search-result-list-element.component.html'\n})\n/**\n * The component for displaying a list element for an item search result on the admin search page\n */\nexport class ItemAdminSearchResultListElementComponent extends SearchResultListElementComponent<ItemSearchResult, Item> {\n\n}\n","import { Component } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { SearchResultListElementComponent } from '../../../../../shared/object-list/search-result-list-element/search-result-list-element.component';\nimport { CommunitySearchResult } from '../../../../../shared/object-collection/shared/community-search-result.model';\nimport { Community } from '../../../../../core/shared/community.model';\nimport { getCommunityEditRoute } from '../../../../../+community-page/community-page-routing-paths';\n\n@listableObjectComponent(CommunitySearchResult, ViewMode.ListElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-community-admin-search-result-list-element',\n  styleUrls: ['./community-admin-search-result-list-element.component.scss'],\n  templateUrl: './community-admin-search-result-list-element.component.html'\n})\n/**\n * The component for displaying a list element for a community search result on the admin search page\n */\nexport class CommunityAdminSearchResultListElementComponent extends SearchResultListElementComponent<CommunitySearchResult, Community> {\n  editPath: string;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.editPath = getCommunityEditRoute(this.dso.uuid);\n  }\n}\n","import { Component } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { SearchResultListElementComponent } from '../../../../../shared/object-list/search-result-list-element/search-result-list-element.component';\nimport { CollectionSearchResult } from '../../../../../shared/object-collection/shared/collection-search-result.model';\nimport { Collection } from '../../../../../core/shared/collection.model';\nimport { getCollectionEditRoute } from '../../../../../+collection-page/collection-page-routing-paths';\n\n@listableObjectComponent(CollectionSearchResult, ViewMode.ListElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-collection-admin-search-result-list-element',\n  styleUrls: ['./collection-admin-search-result-list-element.component.scss'],\n  templateUrl: './collection-admin-search-result-list-element.component.html'\n})\n/**\n * The component for displaying a list element for a collection search result on the admin search page\n */\nexport class CollectionAdminSearchResultListElementComponent extends SearchResultListElementComponent<CollectionSearchResult, Collection> {\n  editPath: string;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.editPath = getCollectionEditRoute(this.dso.uuid);\n  }\n}\n","<ds-listable-object-component-loader [object]=\"object\"\n                                     [viewMode]=\"viewModes.ListElement\"\n                                     [index]=\"index\"\n                                     [linkType]=\"linkType\"\n                                     [listID]=\"listID\"\n                                     [hideBadges]=\"true\"></ds-listable-object-component-loader>\n<ds-item-admin-search-result-actions-element [item]=\"dso\" [small]=\"false\"></ds-item-admin-search-result-actions-element>\n","<ds-community-search-result-list-element [object]=\"object\"\n                                         [index]=\"index\"\n                                         [linkType]=\"linkType\"\n                                         [listID]=\"listID\"></ds-community-search-result-list-element>\n<div>\n    <a class=\"btn btn-light mt-1\" [routerLink]=\"[editPath]\">\n        <i class=\"fa fa-edit\"></i> {{\"admin.search.community.edit\" | translate}}\n    </a>\n</div>\n","<ds-collection-search-result-list-element [object]=\"object\"\n                                          [index]=\"index\"\n                                          [linkType]=\"linkType\"\n                                          [listID]=\"listID\"></ds-collection-search-result-list-element>\n<div>\n    <a class=\"btn btn-light mt-1\" [routerLink]=\"[editPath]\">\n        <i class=\"fa fa-edit\"></i> {{\"admin.search.collection.edit\" | translate}}\n    </a>\n</div>\n","<ng-template dsListableObject>\n</ng-template>\n<div #badges>\n  <ng-content></ng-content>\n</div>\n<ul #buttons class=\"list-group list-group-flush\">\n  <li class=\"list-group-item\">\n      <ds-item-admin-search-result-actions-element class=\"d-flex justify-content-between\" [item]=\"dso\" [small]=\"true\"></ds-item-admin-search-result-actions-element>\n  </li>\n</ul>\n","import { Component, ComponentFactoryResolver, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { Item } from '../../../../../core/shared/item.model';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport {\n  getListableObjectComponent,\n  listableObjectComponent\n} from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { ItemSearchResult } from '../../../../../shared/object-collection/shared/item-search-result.model';\nimport { SearchResultGridElementComponent } from '../../../../../shared/object-grid/search-result-grid-element/search-result-grid-element.component';\nimport { TruncatableService } from '../../../../../shared/truncatable/truncatable.service';\nimport { BitstreamDataService } from '../../../../../core/data/bitstream-data.service';\nimport { GenericConstructor } from '../../../../../core/shared/generic-constructor';\nimport { ListableObjectDirective } from '../../../../../shared/object-collection/shared/listable-object/listable-object.directive';\nimport { ThemeService } from '../../../../../shared/theme-support/theme.service';\n\n@listableObjectComponent(ItemSearchResult, ViewMode.GridElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-item-admin-search-result-grid-element',\n  styleUrls: ['./item-admin-search-result-grid-element.component.scss'],\n  templateUrl: './item-admin-search-result-grid-element.component.html'\n})\n/**\n * The component for displaying a list element for an item search result on the admin search page\n */\nexport class ItemAdminSearchResultGridElementComponent extends SearchResultGridElementComponent<ItemSearchResult, Item> implements OnInit {\n  @ViewChild(ListableObjectDirective, { static: true }) listableObjectDirective: ListableObjectDirective;\n  @ViewChild('badges', { static: true }) badges: ElementRef;\n  @ViewChild('buttons', { static: true }) buttons: ElementRef;\n\n  constructor(protected truncatableService: TruncatableService,\n              protected bitstreamDataService: BitstreamDataService,\n              private themeService: ThemeService,\n              private componentFactoryResolver: ComponentFactoryResolver\n  ) {\n    super(truncatableService, bitstreamDataService);\n  }\n\n  /**\n   * Setup the dynamic child component\n   */\n  ngOnInit(): void {\n    super.ngOnInit();\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.getComponent());\n\n    const viewContainerRef = this.listableObjectDirective.viewContainerRef;\n    viewContainerRef.clear();\n\n    const componentRef = viewContainerRef.createComponent(\n      componentFactory,\n      0,\n      undefined,\n      [\n        [this.badges.nativeElement],\n        [this.buttons.nativeElement]\n      ]);\n    (componentRef.instance as any).object = this.object;\n    (componentRef.instance as any).index = this.index;\n    (componentRef.instance as any).linkType = this.linkType;\n    (componentRef.instance as any).listID = this.listID;\n  }\n\n  /**\n   * Fetch the component depending on the item's entity type, view mode and context\n   * @returns {GenericConstructor<Component>}\n   */\n  private getComponent(): GenericConstructor<Component> {\n    return getListableObjectComponent(this.object.getRenderTypes(), ViewMode.GridElement, undefined, this.themeService.getThemeName());\n  }\n}\n","import { Component } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { CommunitySearchResult } from '../../../../../shared/object-collection/shared/community-search-result.model';\nimport { Community } from '../../../../../core/shared/community.model';\nimport { SearchResultGridElementComponent } from '../../../../../shared/object-grid/search-result-grid-element/search-result-grid-element.component';\nimport { getCommunityEditRoute } from '../../../../../+community-page/community-page-routing-paths';\n\n@listableObjectComponent(CommunitySearchResult, ViewMode.GridElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-community-admin-search-result-grid-element',\n  styleUrls: ['./community-admin-search-result-grid-element.component.scss'],\n  templateUrl: './community-admin-search-result-grid-element.component.html'\n})\n/**\n * The component for displaying a list element for a community search result on the admin search page\n */\nexport class CommunityAdminSearchResultGridElementComponent extends SearchResultGridElementComponent<CommunitySearchResult, Community> {\n  editPath: string;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.editPath = getCommunityEditRoute(this.dso.uuid);\n  }\n}\n","import { Component } from '@angular/core';\nimport { ViewMode } from '../../../../../core/shared/view-mode.model';\nimport { listableObjectComponent } from '../../../../../shared/object-collection/shared/listable-object/listable-object.decorator';\nimport { Context } from '../../../../../core/shared/context.model';\nimport { CollectionSearchResult } from '../../../../../shared/object-collection/shared/collection-search-result.model';\nimport { Collection } from '../../../../../core/shared/collection.model';\nimport { SearchResultGridElementComponent } from '../../../../../shared/object-grid/search-result-grid-element/search-result-grid-element.component';\nimport { getCollectionEditRoute } from '../../../../../+collection-page/collection-page-routing-paths';\n\n@listableObjectComponent(CollectionSearchResult, ViewMode.GridElement, Context.AdminSearch)\n@Component({\n  selector: 'ds-collection-admin-search-result-list-element',\n  styleUrls: ['./collection-admin-search-result-grid-element.component.scss'],\n  templateUrl: './collection-admin-search-result-grid-element.component.html'\n})\n/**\n * The component for displaying a list element for a collection search result on the admin search page\n */\nexport class CollectionAdminSearchResultGridElementComponent extends SearchResultGridElementComponent<CollectionSearchResult, Collection> {\n  editPath: string;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.editPath = getCollectionEditRoute(this.dso.uuid);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../../shared/shared.module';\nimport { AdminSearchPageComponent } from './admin-search-page.component';\nimport { ItemAdminSearchResultListElementComponent } from './admin-search-results/admin-search-result-list-element/item-search-result/item-admin-search-result-list-element.component';\nimport { CommunityAdminSearchResultListElementComponent } from './admin-search-results/admin-search-result-list-element/community-search-result/community-admin-search-result-list-element.component';\nimport { CollectionAdminSearchResultListElementComponent } from './admin-search-results/admin-search-result-list-element/collection-search-result/collection-admin-search-result-list-element.component';\nimport { ItemAdminSearchResultGridElementComponent } from './admin-search-results/admin-search-result-grid-element/item-search-result/item-admin-search-result-grid-element.component';\nimport { CommunityAdminSearchResultGridElementComponent } from './admin-search-results/admin-search-result-grid-element/community-search-result/community-admin-search-result-grid-element.component';\nimport { CollectionAdminSearchResultGridElementComponent } from './admin-search-results/admin-search-result-grid-element/collection-search-result/collection-admin-search-result-grid-element.component';\nimport { ItemAdminSearchResultActionsComponent } from './admin-search-results/item-admin-search-result-actions.component';\nimport { JournalEntitiesModule } from '../../entity-groups/journal-entities/journal-entities.module';\nimport { ResearchEntitiesModule } from '../../entity-groups/research-entities/research-entities.module';\n\nconst ENTRY_COMPONENTS = [\n  // put only entry components that use custom decorator\n  ItemAdminSearchResultListElementComponent,\n  CommunityAdminSearchResultListElementComponent,\n  CollectionAdminSearchResultListElementComponent,\n  ItemAdminSearchResultGridElementComponent,\n  CommunityAdminSearchResultGridElementComponent,\n  CollectionAdminSearchResultGridElementComponent,\n  ItemAdminSearchResultActionsComponent\n];\n\n@NgModule({\n  imports: [\n    SharedModule.withEntryComponents(),\n    JournalEntitiesModule.withEntryComponents(),\n    ResearchEntitiesModule.withEntryComponents()\n  ],\n  declarations: [\n    AdminSearchPageComponent,\n    ...ENTRY_COMPONENTS\n  ]\n})\nexport class AdminSearchModule {\n  /**\n   * NOTE: this method allows to resolve issue with components that using a custom decorator\n   * which are not loaded during CSR otherwise\n   */\n  static withEntryComponents() {\n    return {\n      ngModule: SharedModule,\n      providers: ENTRY_COMPONENTS.map((component) => ({provide: component}))\n    };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../shared/shared.module';\nimport { AccessControlModule } from '../access-control/access-control.module';\nimport { MetadataImportPageComponent } from './admin-import-metadata-page/metadata-import-page.component';\nimport { AdminRegistriesModule } from './admin-registries/admin-registries.module';\nimport { AdminRoutingModule } from './admin-routing.module';\nimport { AdminCurationTasksComponent } from './admin-curation-tasks/admin-curation-tasks.component';\nimport { AdminWorkflowModuleModule } from './admin-workflow-page/admin-workflow.module';\nimport { AdminSearchModule } from './admin-search-page/admin-search.module';\nimport { AdminSidebarSectionComponent } from './admin-sidebar/admin-sidebar-section/admin-sidebar-section.component';\nimport { ExpandableAdminSidebarSectionComponent } from './admin-sidebar/expandable-admin-sidebar-section/expandable-admin-sidebar-section.component';\n\nconst ENTRY_COMPONENTS = [\n  // put only entry components that use custom decorator\n  AdminSidebarSectionComponent,\n  ExpandableAdminSidebarSectionComponent,\n];\n\n\n@NgModule({\n  imports: [\n    AdminRoutingModule,\n    AdminRegistriesModule,\n    AccessControlModule,\n    AdminSearchModule.withEntryComponents(),\n    AdminWorkflowModuleModule.withEntryComponents(),\n    SharedModule,\n  ],\n  declarations: [\n    AdminCurationTasksComponent,\n    MetadataImportPageComponent\n  ]\n})\nexport class AdminModule {\n  /**\n   * NOTE: this method allows to resolve issue with components that using a custom decorator\n   * which are not loaded during CSR otherwise\n   */\n  static withEntryComponents() {\n    return {\n      ngModule: AdminModule,\n      providers: ENTRY_COMPONENTS.map((component) => ({provide: component}))\n    };\n  }\n}\n","<ds-community-search-result-grid-element [object]=\"object\"\n                                         [index]=\"index\"\n                                         [linkType]=\"linkType\"\n                                         [listID]=\"listID\">\n  <ul class=\"list-group list-group-flush\">\n    <li class=\"list-group-item text-center\">\n      <a class=\"btn btn-light btn-sm btn-auto my-1 edit-link\" [routerLink]=\"[editPath]\">\n        <i class=\"fa fa-edit\"></i>\n      </a>\n    </li>\n  </ul>\n</ds-community-search-result-grid-element>\n\n","<ds-collection-search-result-grid-element [object]=\"object\"\n                                          [index]=\"index\"\n                                          [linkType]=\"linkType\"\n                                          [listID]=\"listID\">\n  <ul class=\"list-group list-group-flush\">\n    <li class=\"list-group-item text-center\">\n      <a class=\"btn btn-light btn-sm btn-auto my-1 edit-link\" [routerLink]=\"[editPath]\">\n        <i class=\"fa fa-edit\"></i>\n      </a>\n    </li>\n  </ul>\n</ds-collection-search-result-grid-element>\n\n","import { URLCombiner } from '../core/url-combiner/url-combiner';\nimport { getAdminModuleRoute } from '../app-routing-paths';\n\nexport const REGISTRIES_MODULE_PATH = 'registries';\n\nexport function getRegistriesModuleRoute() {\n  return new URLCombiner(getAdminModuleRoute(), REGISTRIES_MODULE_PATH).toString();\n}\n","import { PaginationComponentOptions } from './pagination-component-options.model';\nimport { FindListOptions } from '../../core/data/request.models';\n\n/**\n * Transform a PaginationComponentOptions object into a FindListOptions object\n * @param pagination  The PaginationComponentOptions to transform\n * @param original    An original FindListOptions object to start from\n */\nexport function toFindListOptions(pagination: PaginationComponentOptions, original?: FindListOptions): FindListOptions {\n  return Object.assign(new FindListOptions(), original, {\n    currentPage: pagination.currentPage,\n    elementsPerPage: pagination.pageSize\n  });\n}\n","<div *ngIf=\"registryService.getActiveMetadataSchema() | async; then editheader; else createHeader\"></div>\n\n<ng-template #createHeader>\n    <h4>{{messagePrefix + '.create' |translate}}</h4>\n</ng-template>\n\n<ng-template #editheader>\n    <h4>{{messagePrefix + '.edit' |translate}}</h4>\n</ng-template>\n\n<ds-form [formId]=\"formId\"\n         [formModel]=\"formModel\"\n         [formGroup]=\"formGroup\"\n         [formLayout]=\"formLayout\"\n         (cancel)=\"onCancel()\"\n         (submitForm)=\"onSubmit()\">\n\n</ds-form>\n","import { Component, EventEmitter, OnDestroy, OnInit, Output } from '@angular/core';\nimport {\n  DynamicFormControlModel,\n  DynamicFormGroupModel,\n  DynamicFormLayout,\n  DynamicInputModel\n} from '@ng-dynamic-forms/core';\nimport { FormGroup } from '@angular/forms';\nimport { RegistryService } from '../../../../core/registry/registry.service';\nimport { FormBuilderService } from '../../../../shared/form/builder/form-builder.service';\nimport { take } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { combineLatest } from 'rxjs';\nimport { MetadataSchema } from '../../../../core/metadata/metadata-schema.model';\n\n@Component({\n  selector: 'ds-metadata-schema-form',\n  templateUrl: './metadata-schema-form.component.html'\n})\n/**\n * A form used for creating and editing metadata schemas\n */\nexport class MetadataSchemaFormComponent implements OnInit, OnDestroy {\n\n  /**\n   * A unique id used for ds-form\n   */\n  formId = 'metadata-schema-form';\n\n  /**\n   * The prefix for all messages related to this form\n   */\n  messagePrefix = 'admin.registries.metadata.form';\n\n  /**\n   * A dynamic input model for the name field\n   */\n  name: DynamicInputModel;\n\n  /**\n   * A dynamic input model for the namespace field\n   */\n  namespace: DynamicInputModel;\n\n  /**\n   * A list of all dynamic input models\n   */\n  formModel: DynamicFormControlModel[];\n\n  /**\n   * Layout used for structuring the form inputs\n   */\n  formLayout: DynamicFormLayout = {\n    name: {\n      grid: {\n        host: 'col col-sm-6 d-inline-block'\n      }\n    },\n    namespace: {\n      grid: {\n        host: 'col col-sm-6 d-inline-block'\n      }\n    }\n  };\n\n  /**\n   * A FormGroup that combines all inputs\n   */\n  formGroup: FormGroup;\n\n  /**\n   * An EventEmitter that's fired whenever the form is being submitted\n   */\n  @Output() submitForm: EventEmitter<any> = new EventEmitter();\n\n  constructor(public registryService: RegistryService, private formBuilderService: FormBuilderService, private translateService: TranslateService) {\n  }\n\n  ngOnInit() {\n    combineLatest(\n      this.translateService.get(`${this.messagePrefix}.name`),\n      this.translateService.get(`${this.messagePrefix}.namespace`)\n    ).subscribe(([name, namespace]) => {\n      this.name = new DynamicInputModel({\n          id: 'name',\n          label: name,\n          name: 'name',\n          validators: {\n            required: null,\n            pattern: '^[^ ,_]{1,32}$'\n          },\n          required: true,\n        });\n      this.namespace = new DynamicInputModel({\n          id: 'namespace',\n          label: namespace,\n          name: 'namespace',\n          validators: {\n            required: null,\n          },\n          required: true,\n        });\n      this.formModel = [\n        new DynamicFormGroupModel(\n          {\n            id: 'metadatadataschemagroup',\n            group:[this.namespace, this.name]\n          })\n      ];\n      this.formGroup = this.formBuilderService.createFormGroup(this.formModel);\n      this.registryService.getActiveMetadataSchema().subscribe((schema) => {\n        this.formGroup.patchValue({\n          metadatadataschemagroup:{\n            name: schema != null ? schema.prefix : '',\n            namespace: schema != null ? schema.namespace : ''\n          }\n        });\n      });\n    });\n  }\n\n  /**\n   * Stop editing the currently selected metadata schema\n   */\n  onCancel() {\n    this.registryService.cancelEditMetadataSchema();\n  }\n\n  /**\n   * Submit the form\n   * When the schema has an id attached -> Edit the schema\n   * When the schema has no id attached -> Create new schema\n   * Emit the updated/created schema using the EventEmitter submitForm\n   */\n  onSubmit() {\n    this.registryService.clearMetadataSchemaRequests().subscribe();\n    this.registryService.getActiveMetadataSchema().pipe(take(1)).subscribe(\n      (schema) => {\n        const values = {\n          prefix: this.name.value,\n          namespace: this.namespace.value\n        };\n        if (schema == null) {\n          this.registryService.createOrUpdateMetadataSchema(Object.assign(new MetadataSchema(), values)).subscribe((newSchema) => {\n            this.submitForm.emit(newSchema);\n          });\n        } else {\n          this.registryService.createOrUpdateMetadataSchema(Object.assign(new MetadataSchema(), schema, {\n            id: schema.id,\n            prefix: (values.prefix ? values.prefix : schema.prefix),\n            namespace: (values.namespace ? values.namespace : schema.namespace)\n          })).subscribe((updatedSchema) => {\n            this.submitForm.emit(updatedSchema);\n          });\n        }\n        this.clearFields();\n        this.registryService.cancelEditMetadataSchema();\n      }\n    );\n  }\n\n  /**\n   * Reset all input-fields to be empty\n   */\n  clearFields() {\n    this.formGroup.patchValue({\n      metadatadataschemagroup:{\n        prefix: '',\n        namespace: ''\n      }\n    });\n  }\n\n  /**\n   * Cancel the current edit when component is destroyed\n   */\n  ngOnDestroy(): void {\n    this.onCancel();\n  }\n}\n","<div class=\"container\">\n    <div class=\"metadata-registry row\">\n        <div class=\"col-12\">\n\n            <h2 id=\"header\" class=\"border-bottom pb-2\">{{'admin.registries.metadata.head' | translate}}</h2>\n\n            <p id=\"description\" class=\"pb-2\">{{'admin.registries.metadata.description' | translate}}</p>\n\n            <ds-metadata-schema-form (submitForm)=\"forceUpdateSchemas()\"></ds-metadata-schema-form>\n\n            <ds-pagination\n                    *ngIf=\"(metadataSchemas | async)?.payload?.totalElements > 0\"\n                    [paginationOptions]=\"config\"\n                    [collectionSize]=\"(metadataSchemas | async)?.payload?.totalElements\"\n                    [hideGear]=\"true\"\n                    [hidePagerWhenSinglePage]=\"true\">\n\n                <div class=\"table-responsive\">\n                    <table id=\"metadata-schemas\" class=\"table table-striped table-hover\">\n                        <thead>\n                        <tr>\n                            <th scope=\"col\"></th>\n                            <th scope=\"col\">{{'admin.registries.metadata.schemas.table.id' | translate}}</th>\n                            <th scope=\"col\">{{'admin.registries.metadata.schemas.table.namespace' | translate}}</th>\n                            <th scope=\"col\">{{'admin.registries.metadata.schemas.table.name' | translate}}</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let schema of (metadataSchemas | async)?.payload?.page\"\n                            [ngClass]=\"{'table-primary' : isActive(schema) | async}\">\n                            <td>\n                                <label>\n                                    <input type=\"checkbox\"\n                                           [checked]=\"isSelected(schema) | async\"\n                                           (change)=\"selectMetadataSchema(schema, $event)\"\n                                    >\n                                </label>\n                            </td>\n                            <td class=\"selectable-row\" (click)=\"editSchema(schema)\"><a [routerLink]=\"[schema.prefix]\">{{schema.id}}</a></td>\n                            <td class=\"selectable-row\" (click)=\"editSchema(schema)\"><a [routerLink]=\"[schema.prefix]\">{{schema.namespace}}</a></td>\n                            <td class=\"selectable-row\" (click)=\"editSchema(schema)\"><a [routerLink]=\"[schema.prefix]\">{{schema.prefix}}</a></td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n\n            </ds-pagination>\n\n            <div *ngIf=\"(metadataSchemas | async)?.payload?.totalElements == 0\" class=\"alert alert-info w-100 mb-2\" role=\"alert\">\n              {{'admin.registries.metadata.schemas.no-items' | translate}}\n            </div>\n\n            <div>\n              <button *ngIf=\"(metadataSchemas | async)?.payload?.page?.length > 0\" type=\"submit\" class=\"btn btn-danger float-right\" (click)=\"deleteSchemas()\">{{'admin.registries.metadata.schemas.table.delete' | translate}}</button>\n            </div>\n\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { RegistryService } from '../../../core/registry/registry.service';\nimport { BehaviorSubject, combineLatest as observableCombineLatest, Observable, zip } from 'rxjs';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { PaginatedList } from '../../../core/data/paginated-list.model';\nimport { PaginationComponentOptions } from '../../../shared/pagination/pagination-component-options.model';\nimport { filter, map, switchMap, take } from 'rxjs/operators';\nimport { hasValue } from '../../../shared/empty.util';\nimport { NotificationsService } from '../../../shared/notifications/notifications.service';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MetadataSchema } from '../../../core/metadata/metadata-schema.model';\nimport { toFindListOptions } from '../../../shared/pagination/pagination.utils';\nimport { NoContent } from '../../../core/shared/NoContent.model';\nimport { getFirstCompletedRemoteData } from '../../../core/shared/operators';\nimport { PaginationService } from '../../../core/pagination/pagination.service';\n\n@Component({\n  selector: 'ds-metadata-registry',\n  templateUrl: './metadata-registry.component.html',\n  styleUrls: ['./metadata-registry.component.scss']\n})\n/**\n * A component used for managing all existing metadata schemas within the repository.\n * The admin can create, edit or delete metadata schemas here.\n */\nexport class MetadataRegistryComponent {\n\n  /**\n   * A list of all the current metadata schemas within the repository\n   */\n  metadataSchemas: Observable<RemoteData<PaginatedList<MetadataSchema>>>;\n\n  /**\n   * Pagination config used to display the list of metadata schemas\n   */\n  config: PaginationComponentOptions = Object.assign(new PaginationComponentOptions(), {\n    id: 'rm',\n    pageSize: 25\n  });\n\n  /**\n   * Whether or not the list of MetadataSchemas needs an update\n   */\n  needsUpdate$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n\n  constructor(private registryService: RegistryService,\n              private notificationsService: NotificationsService,\n              private router: Router,\n              private paginationService: PaginationService,\n              private translateService: TranslateService) {\n    this.updateSchemas();\n  }\n\n  /**\n   * Update the list of schemas by fetching it from the rest api or cache\n   */\n  private updateSchemas() {\n\n    this.metadataSchemas = this.needsUpdate$.pipe(\n      filter((update) => update === true),\n      switchMap(() => this.paginationService.getCurrentPagination(this.config.id, this.config)),\n      switchMap((currentPagination) => this.registryService.getMetadataSchemas(toFindListOptions(currentPagination)))\n    );\n  }\n\n  /**\n   * Force-update the list of schemas by first clearing the cache related to metadata schemas, then performing\n   * a new REST call\n   */\n  public forceUpdateSchemas() {\n    this.needsUpdate$.next(true);\n  }\n\n  /**\n   * Start editing the selected metadata schema\n   * @param schema\n   */\n  editSchema(schema: MetadataSchema) {\n    this.getActiveSchema().pipe(take(1)).subscribe((activeSchema) => {\n      if (schema === activeSchema) {\n        this.registryService.cancelEditMetadataSchema();\n      } else {\n        this.registryService.editMetadataSchema(schema);\n      }\n    });\n  }\n\n  /**\n   * Checks whether the given metadata schema is active (being edited)\n   * @param schema\n   */\n  isActive(schema: MetadataSchema): Observable<boolean> {\n    return this.getActiveSchema().pipe(\n      map((activeSchema) => schema === activeSchema)\n    );\n  }\n\n  /**\n   * Gets the active metadata schema (being edited)\n   */\n  getActiveSchema(): Observable<MetadataSchema> {\n    return this.registryService.getActiveMetadataSchema();\n  }\n\n  /**\n   * Select a metadata schema within the list (checkbox)\n   * @param schema\n   * @param event\n   */\n  selectMetadataSchema(schema: MetadataSchema, event) {\n    event.target.checked ?\n      this.registryService.selectMetadataSchema(schema) :\n      this.registryService.deselectMetadataSchema(schema);\n  }\n\n  /**\n   * Checks whether a given metadata schema is selected in the list (checkbox)\n   * @param schema\n   */\n  isSelected(schema: MetadataSchema): Observable<boolean> {\n    return this.registryService.getSelectedMetadataSchemas().pipe(\n      map((schemas) => schemas.find((selectedSchema) => selectedSchema === schema) != null)\n    );\n  }\n\n  /**\n   * Delete all the selected metadata schemas\n   */\n  deleteSchemas() {\n    this.registryService.clearMetadataSchemaRequests().subscribe();\n    this.registryService.getSelectedMetadataSchemas().pipe(take(1)).subscribe(\n      (schemas) => {\n        const tasks$ = [];\n        for (const schema of schemas) {\n          if (hasValue(schema.id)) {\n            tasks$.push(this.registryService.deleteMetadataSchema(schema.id).pipe(getFirstCompletedRemoteData()));\n          }\n        }\n        zip(...tasks$).subscribe((responses: RemoteData<NoContent>[]) => {\n          const successResponses = responses.filter((response: RemoteData<NoContent>) => response.hasSucceeded);\n          const failedResponses = responses.filter((response: RemoteData<NoContent>) => response.hasFailed);\n          if (successResponses.length > 0) {\n            this.showNotification(true, successResponses.length);\n          }\n          if (failedResponses.length > 0) {\n            this.showNotification(false, failedResponses.length);\n          }\n          this.registryService.deselectAllMetadataSchema();\n          this.registryService.cancelEditMetadataSchema();\n          this.forceUpdateSchemas();\n        });\n      }\n    );\n  }\n\n  /**\n   * Show notifications for an amount of deleted metadata schemas\n   * @param success   Whether or not the notification should be a success message (error message when false)\n   * @param amount    The amount of deleted metadata schemas\n   */\n  showNotification(success: boolean, amount: number) {\n    const prefix = 'admin.registries.schema.notification';\n    const suffix = success ? 'success' : 'failure';\n    const messages = observableCombineLatest(\n      this.translateService.get(success ? `${prefix}.${suffix}` : `${prefix}.${suffix}`),\n      this.translateService.get(`${prefix}.deleted.${suffix}`, {amount: amount})\n    );\n    messages.subscribe(([head, content]) => {\n      if (success) {\n        this.notificationsService.success(head, content);\n      } else {\n        this.notificationsService.error(head, content);\n      }\n    });\n  }\n  ngOnDestroy(): void {\n    this.paginationService.clearPagination(this.config.id);\n  }\n\n}\n","<div *ngIf=\"registryService.getActiveMetadataField() | async; then editheader; else createHeader\"></div>\n\n<ng-template #createHeader>\n    <h4>{{messagePrefix + '.create' | translate}}</h4>\n</ng-template>\n\n<ng-template #editheader>\n    <h4>{{messagePrefix + '.edit' | translate}}</h4>\n</ng-template>\n\n<ds-form [formId]=\"formId\"\n         [formModel]=\"formModel\"\n         [formLayout]=\"formLayout\"\n         [formGroup]=\"formGroup\"\n         (cancel)=\"onCancel()\"\n         (submit)=\"onSubmit()\">\n\n</ds-form>\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport {\n  DynamicFormControlModel,\n  DynamicFormGroupModel,\n  DynamicFormLayout,\n  DynamicInputModel\n} from '@ng-dynamic-forms/core';\nimport { FormGroup } from '@angular/forms';\nimport { RegistryService } from '../../../../core/registry/registry.service';\nimport { FormBuilderService } from '../../../../shared/form/builder/form-builder.service';\nimport { take } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { combineLatest } from 'rxjs';\nimport { MetadataSchema } from '../../../../core/metadata/metadata-schema.model';\nimport { MetadataField } from '../../../../core/metadata/metadata-field.model';\n\n@Component({\n  selector: 'ds-metadata-field-form',\n  templateUrl: './metadata-field-form.component.html'\n})\n/**\n * A form used for creating and editing metadata fields\n */\nexport class MetadataFieldFormComponent implements OnInit, OnDestroy {\n\n  /**\n   * A unique id used for ds-form\n   */\n  formId = 'metadata-field-form';\n\n  /**\n   * The prefix for all messages related to this form\n   */\n  messagePrefix = 'admin.registries.schema.form';\n\n  /**\n   * The metadata schema this field is attached to\n   */\n  @Input() metadataSchema: MetadataSchema;\n\n  /**\n   * A dynamic input model for the element field\n   */\n  element: DynamicInputModel;\n\n  /**\n   * A dynamic input model for the qualifier field\n   */\n  qualifier: DynamicInputModel;\n\n  /**\n   * A dynamic input model for the scopeNote field\n   */\n  scopeNote: DynamicInputModel;\n\n  /**\n   * A list of all dynamic input models\n   */\n  formModel: DynamicFormControlModel[];\n\n  /**\n   * Layout used for structuring the form inputs\n   */\n  formLayout: DynamicFormLayout = {\n    element: {\n      grid: {\n        host: 'col col-sm-6 d-inline-block'\n      }\n    },\n    qualifier: {\n      grid: {\n        host: 'col col-sm-6 d-inline-block'\n      }\n    },\n    scopeNote: {\n      grid: {\n        host: 'col col-sm-12 d-inline-block'\n      }\n    }\n  };\n\n  /**\n   * A FormGroup that combines all inputs\n   */\n  formGroup: FormGroup;\n\n  /**\n   * An EventEmitter that's fired whenever the form is being submitted\n   */\n  @Output() submitForm: EventEmitter<any> = new EventEmitter();\n\n  constructor(public registryService: RegistryService,\n              private formBuilderService: FormBuilderService,\n              private translateService: TranslateService) {\n  }\n\n  /**\n   * Initialize the component, setting up the necessary Models for the dynamic form\n   */\n  ngOnInit() {\n    combineLatest(\n      this.translateService.get(`${this.messagePrefix}.element`),\n      this.translateService.get(`${this.messagePrefix}.qualifier`),\n      this.translateService.get(`${this.messagePrefix}.scopenote`)\n    ).subscribe(([element, qualifier, scopenote]) => {\n      this.element = new DynamicInputModel({\n        id: 'element',\n        label: element,\n        name: 'element',\n        validators: {\n          required: null,\n        },\n        required: true,\n      });\n      this.qualifier = new DynamicInputModel({\n        id: 'qualifier',\n        label: qualifier,\n        name: 'qualifier',\n        required: false,\n      });\n      this.scopeNote = new DynamicInputModel({\n        id: 'scopeNote',\n        label: scopenote,\n        name: 'scopeNote',\n        required: false,\n      });\n      this.formModel = [\n        new DynamicFormGroupModel(\n        {\n          id: 'metadatadatafieldgroup',\n          group:[this.element, this.qualifier, this.scopeNote]\n        })\n      ];\n      this.formGroup = this.formBuilderService.createFormGroup(this.formModel);\n      this.registryService.getActiveMetadataField().subscribe((field) => {\n        this.formGroup.patchValue({\n          metadatadatafieldgroup: {\n            element: field != null ? field.element : '',\n            qualifier: field != null ? field.qualifier : '',\n            scopeNote: field != null ? field.scopeNote : ''\n          }\n        });\n      });\n    });\n  }\n\n  /**\n   * Stop editing the currently selected metadata field\n   */\n  onCancel() {\n    this.registryService.cancelEditMetadataField();\n  }\n\n  /**\n   * Submit the form\n   * When the field has an id attached -> Edit the field\n   * When the field has no id attached -> Create new field\n   * Emit the updated/created field using the EventEmitter submitForm\n   */\n  onSubmit() {\n    this.registryService.getActiveMetadataField().pipe(take(1)).subscribe(\n      (field) => {\n        const values = {\n          element: this.element.value,\n          qualifier: this.qualifier.value,\n          scopeNote: this.scopeNote.value\n        };\n        if (field == null) {\n          this.registryService.createMetadataField(Object.assign(new MetadataField(), values), this.metadataSchema).subscribe((newField) => {\n            this.submitForm.emit(newField);\n          });\n        } else {\n          this.registryService.updateMetadataField(Object.assign(new MetadataField(), field, {\n            id: field.id,\n            element: (values.element ? values.element : field.element),\n            qualifier: (values.qualifier ? values.qualifier : field.qualifier),\n            scopeNote: (values.scopeNote ? values.scopeNote : field.scopeNote)\n          })).subscribe((updatedField) => {\n            this.submitForm.emit(updatedField);\n          });\n        }\n        this.clearFields();\n        this.registryService.cancelEditMetadataField();\n      }\n    );\n  }\n\n  /**\n   * Reset all input-fields to be empty\n   */\n  clearFields() {\n    this.formGroup.patchValue({\n      metadatadatafieldgroup: {\n        element: '',\n        qualifier: '',\n        scopeNote: ''\n      }\n    });\n  }\n\n  /**\n   * Cancel the current edit when component is destroyed\n   */\n  ngOnDestroy(): void {\n    this.onCancel();\n  }\n}\n","<div class=\"container\">\n  <div class=\"metadata-schema row\">\n    <div class=\"col-12\" *ngVar=\"(metadataSchema$ | async) as schema\">\n\n      <h2 id=\"header\" class=\"border-bottom pb-2\">{{'admin.registries.schema.head' | translate}}: \"{{schema?.prefix}}\"</h2>\n\n      <p id=\"description\" class=\"pb-2\">{{'admin.registries.schema.description' | translate:{ namespace: schema?.namespace } }}</p>\n\n      <ds-metadata-field-form\n        [metadataSchema]=\"schema\"\n        (submitForm)=\"forceUpdateFields()\"></ds-metadata-field-form>\n\n      <h3>{{'admin.registries.schema.fields.head' | translate}}</h3>\n\n      <ng-container *ngVar=\"(metadataFields$ | async)?.payload as fields\">\n        <ds-pagination\n          *ngIf=\"fields?.totalElements > 0\"\n          [paginationOptions]=\"config\"\n          [pageInfoState]=\"fields\"\n          [collectionSize]=\"fields?.totalElements\"\n          [hideGear]=\"false\"\n          [hidePagerWhenSinglePage]=\"true\">\n          <div class=\"table-responsive\">\n            <table id=\"metadata-fields\" class=\"table table-striped table-hover\">\n              <thead>\n              <tr>\n                <th></th>\n                <th scope=\"col\">{{'admin.registries.schema.fields.table.field' | translate}}</th>\n                <th scope=\"col\">{{'admin.registries.schema.fields.table.scopenote' | translate}}</th>\n              </tr>\n              </thead>\n              <tbody>\n              <tr *ngFor=\"let field of fields?.page\"\n                  [ngClass]=\"{'table-primary' : isActive(field) | async}\">\n                <td>\n                  <label>\n                    <input type=\"checkbox\"\n                           [checked]=\"isSelected(field) | async\"\n                           (change)=\"selectMetadataField(field, $event)\">\n                  </label>\n                </td>\n                <td class=\"selectable-row\" (click)=\"editField(field)\">{{schema?.prefix}}.{{field.element}}<label *ngIf=\"field.qualifier\">.</label>{{field.qualifier}}</td>\n                <td class=\"selectable-row\" (click)=\"editField(field)\">{{field.scopeNote}}</td>\n              </tr>\n              </tbody>\n            </table>\n          </div>\n        </ds-pagination>\n\n        <div *ngIf=\"fields?.totalElements == 0\" class=\"alert alert-info w-100 mb-2\" role=\"alert\">\n          {{'admin.registries.schema.fields.no-items' | translate}}\n        </div>\n\n        <div>\n          <button [routerLink]=\"['/admin/registries/metadata']\" class=\"btn btn-primary\">{{'admin.registries.schema.return' | translate}}</button>\n          <button *ngIf=\"fields?.page?.length > 0\" type=\"submit\" class=\"btn btn-danger float-right\" (click)=\"deleteFields()\">{{'admin.registries.schema.fields.table.delete' | translate}}</button>\n        </div>\n      </ng-container>\n\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { RegistryService } from '../../../core/registry/registry.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n  BehaviorSubject,\n  combineLatest as observableCombineLatest,\n  combineLatest,\n  Observable,\n  of as observableOf,\n  zip\n} from 'rxjs';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { PaginatedList } from '../../../core/data/paginated-list.model';\nimport { PaginationComponentOptions } from '../../../shared/pagination/pagination-component-options.model';\nimport { map, switchMap, take } from 'rxjs/operators';\nimport { hasValue } from '../../../shared/empty.util';\nimport { NotificationsService } from '../../../shared/notifications/notifications.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MetadataField } from '../../../core/metadata/metadata-field.model';\nimport { MetadataSchema } from '../../../core/metadata/metadata-schema.model';\nimport { getFirstCompletedRemoteData, getFirstSucceededRemoteDataPayload } from '../../../core/shared/operators';\nimport { toFindListOptions } from '../../../shared/pagination/pagination.utils';\nimport { NoContent } from '../../../core/shared/NoContent.model';\nimport { PaginationService } from '../../../core/pagination/pagination.service';\n\n@Component({\n  selector: 'ds-metadata-schema',\n  templateUrl: './metadata-schema.component.html',\n  styleUrls: ['./metadata-schema.component.scss']\n})\n/**\n * A component used for managing all existing metadata fields within the current metadata schema.\n * The admin can create, edit or delete metadata fields here.\n */\nexport class MetadataSchemaComponent implements OnInit {\n  /**\n   * The metadata schema\n   */\n  metadataSchema$: Observable<MetadataSchema>;\n\n  /**\n   * A list of all the fields attached to this metadata schema\n   */\n  metadataFields$: Observable<RemoteData<PaginatedList<MetadataField>>>;\n\n  /**\n   * Pagination config used to display the list of metadata fields\n   */\n  config: PaginationComponentOptions = Object.assign(new PaginationComponentOptions(), {\n    id: 'rm',\n    pageSize: 25,\n    pageSizeOptions: [25, 50, 100, 200]\n  });\n\n  /**\n   * Whether or not the list of MetadataFields needs an update\n   */\n  needsUpdate$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n\n  constructor(private registryService: RegistryService,\n              private route: ActivatedRoute,\n              private notificationsService: NotificationsService,\n              private router: Router,\n              private paginationService: PaginationService,\n              private translateService: TranslateService) {\n\n  }\n\n  ngOnInit(): void {\n    this.route.params.subscribe((params) => {\n      this.initialize(params);\n    });\n  }\n\n  /**\n   * Initialize the component using the params within the url (schemaName)\n   * @param params\n   */\n  initialize(params) {\n    this.metadataSchema$ = this.registryService.getMetadataSchemaByPrefix(params.schemaName).pipe(getFirstSucceededRemoteDataPayload());\n    this.updateFields();\n  }\n\n  /**\n   * Update the list of fields by fetching it from the rest api or cache\n   */\n  private updateFields() {\n    this.metadataFields$ = this.paginationService.getCurrentPagination(this.config.id, this.config).pipe(\n      switchMap((currentPagination) => combineLatest(this.metadataSchema$, this.needsUpdate$, observableOf(currentPagination))),\n      switchMap(([schema, update, currentPagination]: [MetadataSchema, boolean, PaginationComponentOptions]) => {\n        if (update) {\n          this.needsUpdate$.next(false);\n        }\n        return this.registryService.getMetadataFieldsBySchema(schema, toFindListOptions(currentPagination), !update, true);\n      })\n    );\n  }\n\n  /**\n   * Force-update the list of fields by first clearing the cache related to metadata fields, then performing\n   * a new REST call\n   */\n  public forceUpdateFields() {\n    this.registryService.clearMetadataFieldRequests();\n    this.needsUpdate$.next(true);\n  }\n\n  /**\n   * Start editing the selected metadata field\n   * @param field\n   */\n  editField(field: MetadataField) {\n    this.getActiveField().pipe(take(1)).subscribe((activeField) => {\n      if (field === activeField) {\n        this.registryService.cancelEditMetadataField();\n      } else {\n        this.registryService.editMetadataField(field);\n      }\n    });\n  }\n\n  /**\n   * Checks whether the given metadata field is active (being edited)\n   * @param field\n   */\n  isActive(field: MetadataField): Observable<boolean> {\n    return this.getActiveField().pipe(\n      map((activeField) => field === activeField)\n    );\n  }\n\n  /**\n   * Gets the active metadata field (being edited)\n   */\n  getActiveField(): Observable<MetadataField> {\n    return this.registryService.getActiveMetadataField();\n  }\n\n  /**\n   * Select a metadata field within the list (checkbox)\n   * @param field\n   * @param event\n   */\n  selectMetadataField(field: MetadataField, event) {\n    event.target.checked ?\n      this.registryService.selectMetadataField(field) :\n      this.registryService.deselectMetadataField(field);\n  }\n\n  /**\n   * Checks whether a given metadata field is selected in the list (checkbox)\n   * @param field\n   */\n  isSelected(field: MetadataField): Observable<boolean> {\n    return this.registryService.getSelectedMetadataFields().pipe(\n      map((fields) => fields.find((selectedField) => selectedField === field) != null)\n    );\n  }\n\n  /**\n   * Delete all the selected metadata fields\n   */\n  deleteFields() {\n    this.registryService.getSelectedMetadataFields().pipe(take(1)).subscribe(\n      (fields) => {\n        const tasks$ = [];\n        for (const field of fields) {\n          if (hasValue(field.id)) {\n            tasks$.push(this.registryService.deleteMetadataField(field.id).pipe(getFirstCompletedRemoteData()));\n          }\n        }\n        zip(...tasks$).subscribe((responses: RemoteData<NoContent>[]) => {\n          const successResponses = responses.filter((response: RemoteData<NoContent>) => response.hasSucceeded);\n          const failedResponses = responses.filter((response: RemoteData<NoContent>) => response.hasFailed);\n          if (successResponses.length > 0) {\n            this.showNotification(true, successResponses.length);\n            this.registryService.clearMetadataFieldRequests();\n\n          }\n          if (failedResponses.length > 0) {\n            this.showNotification(false, failedResponses.length);\n          }\n          this.registryService.deselectAllMetadataField();\n          this.registryService.cancelEditMetadataField();\n          this.forceUpdateFields();\n        });\n      }\n    );\n  }\n\n  /**\n   * Show notifications for an amount of deleted metadata fields\n   * @param success   Whether or not the notification should be a success message (error message when false)\n   * @param amount    The amount of deleted metadata fields\n   */\n  showNotification(success: boolean, amount: number) {\n    const prefix = 'admin.registries.schema.notification';\n    const suffix = success ? 'success' : 'failure';\n    const messages = observableCombineLatest(\n      this.translateService.get(success ? `${prefix}.${suffix}` : `${prefix}.${suffix}`),\n      this.translateService.get(`${prefix}.field.deleted.${suffix}`, { amount: amount })\n    );\n    messages.subscribe(([head, content]) => {\n      if (success) {\n        this.notificationsService.success(head, content);\n      } else {\n        this.notificationsService.error(head, content);\n      }\n    });\n  }\n  ngOnDestroy(): void {\n    this.paginationService.clearPagination(this.config.id);\n  }\n\n}\n","import { MetadataRegistryComponent } from './metadata-registry/metadata-registry.component';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { MetadataSchemaComponent } from './metadata-schema/metadata-schema.component';\nimport { I18nBreadcrumbResolver } from '../../core/breadcrumbs/i18n-breadcrumb.resolver';\nimport { BITSTREAMFORMATS_MODULE_PATH } from './admin-registries-routing-paths';\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: 'metadata',\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        data: {title: 'admin.registries.metadata.title', breadcrumbKey: 'admin.registries.metadata'},\n        children: [\n          {\n            path: '',\n            component: MetadataRegistryComponent\n          },\n          {\n            path: ':schemaName',\n            resolve: { breadcrumb: I18nBreadcrumbResolver },\n            component: MetadataSchemaComponent,\n            data: {title: 'admin.registries.schema.title', breadcrumbKey: 'admin.registries.schema'}\n          }\n        ]\n      },\n      {\n        path: BITSTREAMFORMATS_MODULE_PATH,\n        resolve: { breadcrumb: I18nBreadcrumbResolver },\n        loadChildren: () => import('./bitstream-formats/bitstream-formats.module')\n          .then((m) => m.BitstreamFormatsModule),\n        data: {title: 'admin.registries.bitstream-formats.title', breadcrumbKey: 'admin.registries.bitstream-formats'}\n      },\n    ])\n  ]\n})\nexport class AdminRegistriesRoutingModule {\n\n}\n","import { NgModule } from '@angular/core';\nimport { MetadataRegistryComponent } from './metadata-registry/metadata-registry.component';\nimport { AdminRegistriesRoutingModule } from './admin-registries-routing.module';\nimport { CommonModule } from '@angular/common';\nimport { MetadataSchemaComponent } from './metadata-schema/metadata-schema.component';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from '../../shared/shared.module';\nimport { MetadataSchemaFormComponent } from './metadata-registry/metadata-schema-form/metadata-schema-form.component';\nimport { MetadataFieldFormComponent } from './metadata-schema/metadata-field-form/metadata-field-form.component';\nimport { BitstreamFormatsModule } from './bitstream-formats/bitstream-formats.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule,\n    BitstreamFormatsModule,\n    AdminRegistriesRoutingModule\n  ],\n  declarations: [\n    MetadataRegistryComponent,\n    MetadataSchemaComponent,\n    MetadataSchemaFormComponent,\n    MetadataFieldFormComponent\n  ]\n})\nexport class AdminRegistriesModule {\n\n}\n"]}