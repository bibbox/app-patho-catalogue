!function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{JKx6:function(t,n,r){"use strict";r.d(n,"a",(function(){return y}));var a=r("8Y7J"),o=r("QOHy"),s=r("J3qs"),i=r("Kj3r"),d=r("lJxs"),p=r("TSSN"),u=r("wLgS"),l=r("lI3o"),c=r("SVse"),f=r("hqmO"),m=r("s7LF");function h(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"ds-form",5),a["\u0275\u0275text"](1,"\n"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formId",n.FORM_PREFIX)("formModel",n.formModel)("formGroup",n.formGroup)("displaySubmit",!1)("displayCancel",!1)}}function v(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",6),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,1,n.FORM_PREFIX+"error.password-length"))}}function w(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",7),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,1,n.FORM_PREFIX+"error.matching-passwords"))}}function g(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,1,n.FORM_PREFIX+"error.empty-password"))}}var y=function(){var t=function(){function t(e,n,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.formService=e,this.translate=n,this.epersonService=r,this.notificationsService=s,this.isInvalid=new a.EventEmitter,this.passwordValue=new a.EventEmitter,this.formModel=[new o.I({id:"password",name:"password",inputType:"password"}),new o.I({id:"passwordrepeat",name:"passwordrepeat",inputType:"password"})],this.passwordCanBeEmpty=!0,this.subs=[]}var n,r,p;return n=t,(r=[{key:"ngOnInit",value:function(){var e=this;this.formGroup=this.formService.createFormGroup(this.formModel,this.passwordCanBeEmpty?{validators:[this.checkPasswordsEqual,this.checkPasswordLength]}:{validators:[this.checkPasswordsEqual,this.checkPasswordLength,this.checkPasswordEmpty]}),this.updateFieldTranslations(),this.translate.onLangChange.subscribe((function(){e.updateFieldTranslations()})),this.subs.push(this.formGroup.statusChanges.pipe(Object(i.a)(300),Object(d.a)((function(e){return"VALID"!==e}))).subscribe((function(t){return e.isInvalid.emit(t)}))),this.subs.push(this.formGroup.valueChanges.pipe(Object(i.a)(300)).subscribe((function(t){e.passwordValue.emit(t.password)})))}},{key:"updateFieldTranslations",value:function(){var e=this;this.formModel.forEach((function(t){t.label=e.translate.instant(e.FORM_PREFIX+"label."+t.id)}))}},{key:"checkPasswordsEqual",value:function(e){return e.get("password").value===e.get("passwordrepeat").value?null:{notSame:!0}}},{key:"checkPasswordLength",value:function(e){var t=e.get("password").value;return Object(s.d)(t)||t.length>=6?null:{notLongEnough:!0}}},{key:"checkPasswordEmpty",value:function(e){var t=e.get("password").value;return Object(s.d)(t)?{emptyPassword:!0}:null}},{key:"ngOnDestroy",value:function(){this.subs.filter((function(e){return Object(s.b)(e)})).forEach((function(e){return e.unsubscribe()}))}}])&&e(n.prototype,r),p&&e(n,p),t}();return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](o.F),a["\u0275\u0275directiveInject"](p.f),a["\u0275\u0275directiveInject"](u.a),a["\u0275\u0275directiveInject"](l.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["ds-profile-page-security-form"]],inputs:{passwordCanBeEmpty:"passwordCanBeEmpty",FORM_PREFIX:"FORM_PREFIX"},outputs:{isInvalid:"isInvalid",passwordValue:"passwordValue"},decls:12,vars:7,consts:[[1,"container-fluid","mb-4"],[3,"formId","formModel","formGroup","displaySubmit","displayCancel",4,"ngIf"],["id","notLongEnough","class","container-fluid text-danger",4,"ngIf"],["id","notSame","class","container-fluid text-danger",4,"ngIf"],["id","emptyPassword","class","container-fluid text-danger",4,"ngIf"],[3,"formId","formModel","formGroup","displaySubmit","displayCancel"],["id","notLongEnough",1,"container-fluid","text-danger"],["id","notSame",1,"container-fluid","text-danger"],["id","emptyPassword",1,"container-fluid","text-danger"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](3,"\n"),a["\u0275\u0275template"](4,h,2,5,"ds-form",1),a["\u0275\u0275text"](5,"\n"),a["\u0275\u0275template"](6,v,3,3,"div",2),a["\u0275\u0275text"](7,"\n"),a["\u0275\u0275template"](8,w,3,3,"div",3),a["\u0275\u0275text"](9,"\n"),a["\u0275\u0275template"](10,g,3,3,"div",4),a["\u0275\u0275text"](11,"\n")),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind1"](2,5,t.FORM_PREFIX+"info")),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",t.formModel),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.formGroup.hasError("notLongEnough")),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.formGroup.hasError("notSame")),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",(t.formGroup.dirty||t.formGroup.touched)&&t.formGroup.hasError("emptyPassword")))},directives:[c.u,f.a,m.NgControlStatusGroup,m.FormGroupDirective],pipes:[p.e],encapsulation:2}),t}()}}])}();
//# sourceMappingURL=41-es5.f07f9b9fe6d64f664b16.js.map